/*! For license information please see xdogSketch.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xdogSketch=e():t.xdogSketch=e()}(this,(function(){return(()=>{var t={7757:(t,e,r)=>{t.exports=r(5666)},5845:(t,e,r)=>{t.exports=r(7434)().Promise},8922:t=>{"use strict";var e="@@any-promise/REGISTRATION",r=null;t.exports=function(t,n){return function(i,o){i=i||null;var a=!1!==(o=o||{}).global;if(null===r&&a&&(r=t[e]||null),null!==r&&null!==i&&r.implementation!==i)throw new Error('any-promise already defined as "'+r.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===r&&(r=null!==i&&void 0!==o.Promise?{Promise:o.Promise,implementation:i}:n(i),a&&(t[e]=r)),r}}},7434:(t,e,r)=>{"use strict";t.exports=r(8922)(window,(function(){if(void 0===window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}}))},9282:(t,e,r)=>{"use strict";var n=r(4155);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o,a,s=r(2136).codes,u=s.ERR_AMBIGUOUS_ARGUMENT,c=s.ERR_INVALID_ARG_TYPE,l=s.ERR_INVALID_ARG_VALUE,h=s.ERR_INVALID_RETURN_VALUE,f=s.ERR_MISSING_ARGS,p=r(5961),d=r(9539).inspect,y=r(9539).types,g=y.isPromise,v=y.isRegExp,m=Object.assign?Object.assign:r(8091).assign,b=Object.is?Object.is:r(609);function w(){var t=r(9158);o=t.isDeepEqual,a=t.isDeepStrictEqual}new Map;var _=!1,x=t.exports=T,E={};function A(t){if(t.message instanceof Error)throw t.message;throw new p(t)}function S(t,e,r,n){if(!r){var i=!1;if(0===e)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new p({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function T(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];S.apply(void 0,[T,e.length].concat(e))}x.fail=function t(e,r,i,o,a){var s,u=arguments.length;if(0===u)s="Failed";else if(1===u)i=e,e=void 0;else{if(!1===_){_=!0;var c=n.emitWarning?n.emitWarning:console.warn.bind(console);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===u&&(o="!=")}if(i instanceof Error)throw i;var l={actual:e,expected:r,operator:void 0===o?"fail":o,stackStartFn:a||t};void 0!==i&&(l.message=i);var h=new p(l);throw s&&(h.message=s,h.generatedMessage=!0),h},x.AssertionError=p,x.ok=T,x.equal=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");e!=r&&A({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},x.notEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");e==r&&A({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},x.deepEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===o&&w(),o(e,r)||A({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},x.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===o&&w(),o(e,r)&&A({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},x.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===o&&w(),a(e,r)||A({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},x.notDeepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===o&&w(),a(e,r)&&A({actual:e,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:t})},x.strictEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");b(e,r)||A({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},x.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");b(e,r)&&A({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var k=function t(e,r,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r.forEach((function(t){t in e&&(void 0!==n&&"string"==typeof n[t]&&v(e[t])&&e[t].test(n[t])?i[t]=n[t]:i[t]=e[t])}))};function O(t,e,r,n,i,o){if(!(r in t)||!a(t[r],e[r])){if(!n){var s=new k(t,i),u=new k(e,i,t),c=new p({actual:s,expected:u,operator:"deepStrictEqual",stackStartFn:o});throw c.actual=t,c.expected=e,c.operator=o.name,c}A({actual:t,expected:e,message:n,operator:o.name,stackStartFn:o})}}function R(t,e,r,n){if("function"!=typeof e){if(v(e))return e.test(t);if(2===arguments.length)throw new c("expected",["Function","RegExp"],e);if("object"!==i(t)||null===t){var a=new p({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw a.operator=n.name,a}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(0===s.length)throw new l("error",e,"may not be an empty object");return void 0===o&&w(),s.forEach((function(i){"string"==typeof t[i]&&v(e[i])&&e[i].test(t[i])||O(t,e,i,r,s,n)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function I(t){if("function"!=typeof t)throw new c("fn","Function",t);try{t()}catch(t){return t}return E}function M(t){return g(t)||null!==t&&"object"===i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function N(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!M(e=t()))throw new h("instance of Promise","promiseFn",e)}else{if(!M(t))throw new c("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return E})).catch((function(t){return t}))}))}function C(t,e,r,n){if("string"==typeof r){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],r);if("object"===i(e)&&null!==e){if(e.message===r)throw new u("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new u("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(null!=r&&"object"!==i(r)&&"function"!=typeof r)throw new c("error",["Object","Error","Function","RegExp"],r);if(e===E){var o="";r&&r.name&&(o+=" (".concat(r.name,")")),o+=n?": ".concat(n):".";var a="rejects"===t.name?"rejection":"exception";A({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(a).concat(o),stackStartFn:t})}if(r&&!R(e,r,n,t))throw e}function P(t,e,r,n){if(e!==E){if("string"==typeof r&&(n=r,r=void 0),!r||R(e,r)){var i=n?": ".concat(n):".",o="doesNotReject"===t.name?"rejection":"exception";A({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function D(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];S.apply(void 0,[D,e.length].concat(e))}x.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];C.apply(void 0,[t,I(e)].concat(n))},x.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return N(e).then((function(e){return C.apply(void 0,[t,e].concat(n))}))},x.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];P.apply(void 0,[t,I(e)].concat(n))},x.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return N(e).then((function(e){return P.apply(void 0,[t,e].concat(n))}))},x.ifError=function t(e){if(null!=e){var r="ifError got unwanted exception: ";"object"===i(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?r+=e.constructor.name:r+=e.message:r+=d(e);var n=new p({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),o=e.stack;if("string"==typeof o){var a=o.split("\n");a.shift();for(var s=n.stack.split("\n"),u=0;u<a.length;u++){var c=s.indexOf(a[u]);if(-1!==c){s=s.slice(0,c);break}}n.stack="".concat(s.join("\n"),"\n").concat(a.join("\n"))}throw n}},x.strict=m(D,x,{equal:x.strictEqual,deepEqual:x.deepStrictEqual,notEqual:x.notStrictEqual,notDeepEqual:x.notDeepStrictEqual}),x.strict.strict=x.strict},5961:(t,e,r)=>{"use strict";var n=r(4155);function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e="function"==typeof Map?new Map:void 0;return u=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return l(t,arguments,f(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)},u(t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,r){return l=c()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&h(i,r.prototype),i},l.apply(null,arguments)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}var d=r(9539).inspect,y=r(2136).codes.ERR_INVALID_ARG_TYPE;function g(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}var v="",m="",b="",w="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function x(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){r[e]=t[e]})),Object.defineProperty(r,"message",{value:t.message}),r}function E(t){return d(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var A=function(t){function e(t){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==p(t)||null===t)throw new y("options","Object",t);var i=t.message,o=t.operator,u=t.stackStartFn,c=t.actual,l=t.expected,h=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)r=a(this,f(e).call(this,String(i)));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(v="[34m",m="[32m",w="[39m",b="[31m"):(v="",m="",w="",b="")),"object"===p(c)&&null!==c&&"object"===p(l)&&null!==l&&"stack"in c&&c instanceof Error&&"stack"in l&&l instanceof Error&&(c=x(c),l=x(l)),"deepStrictEqual"===o||"strictEqual"===o)r=a(this,f(e).call(this,function(t,e,r){var i="",o="",a=0,s="",u=!1,c=E(t),l=c.split("\n"),h=E(e).split("\n"),f=0,d="";if("strictEqual"===r&&"object"===p(t)&&"object"===p(e)&&null!==t&&null!==e&&(r="strictEqualObject"),1===l.length&&1===h.length&&l[0]!==h[0]){var y=l[0].length+h[0].length;if(y<=10){if(!("object"===p(t)&&null!==t||"object"===p(e)&&null!==e||0===t&&0===e))return"".concat(_[r],"\n\n")+"".concat(l[0]," !== ").concat(h[0],"\n")}else if("strictEqualObject"!==r&&y<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;l[0][f]===h[0][f];)f++;f>2&&(d="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,r-t.length)}(" ",f),"^"),f=0)}}for(var x=l[l.length-1],A=h[h.length-1];x===A&&(f++<2?s="\n  ".concat(x).concat(s):i=x,l.pop(),h.pop(),0!==l.length&&0!==h.length);)x=l[l.length-1],A=h[h.length-1];var S=Math.max(l.length,h.length);if(0===S){var T=c.split("\n");if(T.length>30)for(T[26]="".concat(v,"...").concat(w);T.length>27;)T.pop();return"".concat(_.notIdentical,"\n\n").concat(T.join("\n"),"\n")}f>3&&(s="\n".concat(v,"...").concat(w).concat(s),u=!0),""!==i&&(s="\n  ".concat(i).concat(s),i="");var k=0,O=_[r]+"\n".concat(m,"+ actual").concat(w," ").concat(b,"- expected").concat(w),R=" ".concat(v,"...").concat(w," Lines skipped");for(f=0;f<S;f++){var I=f-a;if(l.length<f+1)I>1&&f>2&&(I>4?(o+="\n".concat(v,"...").concat(w),u=!0):I>3&&(o+="\n  ".concat(h[f-2]),k++),o+="\n  ".concat(h[f-1]),k++),a=f,i+="\n".concat(b,"-").concat(w," ").concat(h[f]),k++;else if(h.length<f+1)I>1&&f>2&&(I>4?(o+="\n".concat(v,"...").concat(w),u=!0):I>3&&(o+="\n  ".concat(l[f-2]),k++),o+="\n  ".concat(l[f-1]),k++),a=f,o+="\n".concat(m,"+").concat(w," ").concat(l[f]),k++;else{var M=h[f],N=l[f],C=N!==M&&(!g(N,",")||N.slice(0,-1)!==M);C&&g(M,",")&&M.slice(0,-1)===N&&(C=!1,N+=","),C?(I>1&&f>2&&(I>4?(o+="\n".concat(v,"...").concat(w),u=!0):I>3&&(o+="\n  ".concat(l[f-2]),k++),o+="\n  ".concat(l[f-1]),k++),a=f,o+="\n".concat(m,"+").concat(w," ").concat(N),i+="\n".concat(b,"-").concat(w," ").concat(M),k+=2):(o+=i,i="",1!==I&&0!==f||(o+="\n  ".concat(N),k++))}if(k>20&&f<S-2)return"".concat(O).concat(R,"\n").concat(o,"\n").concat(v,"...").concat(w).concat(i,"\n")+"".concat(v,"...").concat(w)}return"".concat(O).concat(u?R:"","\n").concat(o).concat(i).concat(s).concat(d)}(c,l,o)));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var d=_[o],A=E(c).split("\n");if("notStrictEqual"===o&&"object"===p(c)&&null!==c&&(d=_.notStrictEqualObject),A.length>30)for(A[26]="".concat(v,"...").concat(w);A.length>27;)A.pop();r=1===A.length?a(this,f(e).call(this,"".concat(d," ").concat(A[0]))):a(this,f(e).call(this,"".concat(d,"\n\n").concat(A.join("\n"),"\n")))}else{var S=E(c),T="",k=_[o];"notDeepEqual"===o||"notEqual"===o?(S="".concat(_[o],"\n\n").concat(S)).length>1024&&(S="".concat(S.slice(0,1021),"...")):(T="".concat(E(l)),S.length>512&&(S="".concat(S.slice(0,509),"...")),T.length>512&&(T="".concat(T.slice(0,509),"...")),"deepEqual"===o||"equal"===o?S="".concat(k,"\n\n").concat(S,"\n\nshould equal\n\n"):T=" ".concat(o," ").concat(T)),r=a(this,f(e).call(this,"".concat(S).concat(T)))}return Error.stackTraceLimit=h,r.generatedMessage=!i,Object.defineProperty(s(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=c,r.expected=l,r.operator=o,Error.captureStackTrace&&Error.captureStackTrace(s(r),u),r.stack,r.name="AssertionError",a(r)}var r,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),r=e,u=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:d.custom,value:function(t,e){return d(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){i(t,e,r[e])}))}return t}({},e,{customInspect:!1,depth:0}))}}],u&&o(r.prototype,u),e}(u(Error));t.exports=A},2136:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}var a,s,u={};function c(t,e,r){r||(r=Error);var a=function(r){function a(r,o,s){var u,c,l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),c=this,l=i(a).call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,o,s)),u=!l||"object"!==n(l)&&"function"!=typeof l?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(c):l,u.code=t,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(a,r),a}(r);u[t]=a}function l(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",(function(t,e,i){var o,s,u,c,h;if(void 0===a&&(a=r(9282)),a("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(s="not ",e.substr(0,s.length)===s)?(o="must not be",e=e.replace(/^not /,"")):o="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))u="The ".concat(t," ").concat(o," ").concat(l(e,"type"));else{var f=("number"!=typeof h&&(h=0),h+".".length>(c=t).length||-1===c.indexOf(".",h)?"argument":"property");u='The "'.concat(t,'" ').concat(f," ").concat(o," ").concat(l(e,"type"))}return u+". Received type ".concat(n(i))}),TypeError),c("ERR_INVALID_ARG_VALUE",(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===s&&(s=r(9539));var i=s.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(n,". Received ").concat(i)}),TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",(function(t,e,r){var i;return i=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")}),TypeError),c("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];void 0===a&&(a=r(9282)),a(e.length>0,"At least one arg needs to be specified");var i="The ",o=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),o){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,o-1).join(", "),i+=", and ".concat(e[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),t.exports.codes=u},9158:(t,e,r)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o=void 0!==/a/g.flags,a=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},s=function(t){var e=[];return t.forEach((function(t,r){return e.push([r,t])})),e},u=Object.is?Object.is:r(609),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:r(360);function h(t){return t.call.bind(t)}var f=h(Object.prototype.hasOwnProperty),p=h(Object.prototype.propertyIsEnumerable),d=h(Object.prototype.toString),y=r(9539).types,g=y.isAnyArrayBuffer,v=y.isArrayBufferView,m=y.isDate,b=y.isMap,w=y.isRegExp,_=y.isSet,x=y.isNativeError,E=y.isBoxedPrimitive,A=y.isNumberObject,S=y.isStringObject,T=y.isBooleanObject,k=y.isBigIntObject,O=y.isSymbolObject,R=y.isFloat32Array,I=y.isFloat64Array;function M(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function N(t){return Object.keys(t).filter(M).concat(c(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function C(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function P(t,e,r,n){if(t===e)return 0!==t||!r||u(t,e);if(r){if("object"!==i(t))return"number"==typeof t&&l(t)&&l(e);if("object"!==i(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==i(t))return(null===e||"object"!==i(e))&&t==e;if(null===e||"object"!==i(e))return!1}var a,s,c,h,f=d(t);if(f!==d(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var p=N(t),y=N(e);return p.length===y.length&&L(t,e,r,n,1,p)}if("[object Object]"===f&&(!b(t)&&b(e)||!_(t)&&_(e)))return!1;if(m(t)){if(!m(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(w(t)){if(!w(e)||(c=t,h=e,!(o?c.source===h.source&&c.flags===h.flags:RegExp.prototype.toString.call(c)===RegExp.prototype.toString.call(h))))return!1}else if(x(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(v(t)){if(r||!R(t)&&!I(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===C(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}(t,e))return!1;var M=N(t),P=N(e);return M.length===P.length&&L(t,e,r,n,0,M)}if(_(t))return!(!_(e)||t.size!==e.size)&&L(t,e,r,n,2);if(b(t))return!(!b(e)||t.size!==e.size)&&L(t,e,r,n,3);if(g(t)){if(s=e,(a=t).byteLength!==s.byteLength||0!==C(new Uint8Array(a),new Uint8Array(s)))return!1}else if(E(t)&&!function(t,e){return A(t)?A(e)&&u(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):S(t)?S(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):T(t)?T(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):k(t)?k(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):O(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return L(t,e,r,n,0)}function D(t,e){return e.filter((function(e){return p(t,e)}))}function L(t,e,r,n,i,o){if(5===arguments.length){o=Object.keys(t);var a=Object.keys(e);if(o.length!==a.length)return!1}for(var s=0;s<o.length;s++)if(!f(e,o[s]))return!1;if(r&&5===arguments.length){var u=c(t);if(0!==u.length){var l=0;for(s=0;s<u.length;s++){var h=u[s];if(p(t,h)){if(!p(e,h))return!1;o.push(h),l++}else if(p(e,h))return!1}var d=c(e);if(u.length!==d.length&&D(e,d).length!==l)return!1}else{var y=c(e);if(0!==y.length&&0!==D(e,y).length)return!1}}if(0===o.length&&(0===i||1===i&&0===t.length||0===t.size))return!0;if(void 0===n)n={val1:new Map,val2:new Map,position:0};else{var g=n.val1.get(t);if(void 0!==g){var v=n.val2.get(e);if(void 0!==v)return g===v}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var m=V(t,e,r,o,n,i);return n.val1.delete(t),n.val2.delete(e),m}function B(t,e,r,n){for(var i=a(t),o=0;o<i.length;o++){var s=i[o];if(P(e,s,r,n))return t.delete(s),!0}return!1}function F(t){switch(i(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(l(t))return!1}return!0}function j(t,e,r){var n=F(r);return null!=n?n:e.has(n)&&!t.has(n)}function U(t,e,r,n,i){var o=F(r);if(null!=o)return o;var a=e.get(o);return!(void 0===a&&!e.has(o)||!P(n,a,!1,i))&&!t.has(o)&&P(n,a,!1,i)}function z(t,e,r,n,i,o){for(var s=a(t),u=0;u<s.length;u++){var c=s[u];if(P(r,c,i,o)&&P(n,e.get(c),i,o))return t.delete(c),!0}return!1}function V(t,e,r,o,u,c){var l=0;if(2===c){if(!function(t,e,r,n){for(var o=null,s=a(t),u=0;u<s.length;u++){var c=s[u];if("object"===i(c)&&null!==c)null===o&&(o=new Set),o.add(c);else if(!e.has(c)){if(r)return!1;if(!j(t,e,c))return!1;null===o&&(o=new Set),o.add(c)}}if(null!==o){for(var l=a(e),h=0;h<l.length;h++){var f=l[h];if("object"===i(f)&&null!==f){if(!B(o,f,r,n))return!1}else if(!r&&!t.has(f)&&!B(o,f,r,n))return!1}return 0===o.size}return!0}(t,e,r,u))return!1}else if(3===c){if(!function(t,e,r,o){for(var a=null,u=s(t),c=0;c<u.length;c++){var l=n(u[c],2),h=l[0],f=l[1];if("object"===i(h)&&null!==h)null===a&&(a=new Set),a.add(h);else{var p=e.get(h);if(void 0===p&&!e.has(h)||!P(f,p,r,o)){if(r)return!1;if(!U(t,e,h,f,o))return!1;null===a&&(a=new Set),a.add(h)}}}if(null!==a){for(var d=s(e),y=0;y<d.length;y++){var g=n(d[y],2),v=(h=g[0],g[1]);if("object"===i(h)&&null!==h){if(!z(a,t,h,v,r,o))return!1}else if(!(r||t.has(h)&&P(t.get(h),v,!1,o)||z(a,t,h,v,!1,o)))return!1}return 0===a.size}return!0}(t,e,r,u))return!1}else if(1===c)for(;l<t.length;l++){if(!f(t,l)){if(f(e,l))return!1;for(var h=Object.keys(t);l<h.length;l++){var p=h[l];if(!f(e,p)||!P(t[p],e[p],r,u))return!1}return h.length===Object.keys(e).length}if(!f(e,l)||!P(t[l],e[l],r,u))return!1}for(l=0;l<o.length;l++){var d=o[l];if(!P(t[d],e[d],r,u))return!1}return!0}t.exports={isDeepEqual:function(t,e){return P(t,e,!1)},isDeepStrictEqual:function(t,e){return P(t,e,!0)}}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=u(t),a=o[0],s=o[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,a,s)),l=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===s&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[l++]=255&e),1===s&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(t,s,s+a>u?u:s+a));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},4505:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(4155),o=r(9282),a=r(2292),s=r(405),u=r(7948),c=r(1619);for(var l in c)e[l]=c[l];function h(t){if("number"!=typeof t||t<e.DEFLATE||t>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7,h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,o(this.init_done,"close before init"),o(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==e.INFLATE&&this.mode!==e.GUNZIP&&this.mode!==e.INFLATERAW&&this.mode!==e.UNZIP||u.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null)},h.prototype.write=function(t,e,r,n,i,o,a){return this._write(!0,t,e,r,n,i,o,a)},h.prototype.writeSync=function(t,e,r,n,i,o,a){return this._write(!1,t,e,r,n,i,o,a)},h.prototype._write=function(t,r,a,s,u,c,l,h){if(o.equal(arguments.length,8),o(this.init_done,"write before init"),o(this.mode!==e.NONE,"already finalized"),o.equal(!1,this.write_in_progress,"write already in progress"),o.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,o.equal(!1,void 0===r,"must provide flush value"),this.write_in_progress=!0,r!==e.Z_NO_FLUSH&&r!==e.Z_PARTIAL_FLUSH&&r!==e.Z_SYNC_FLUSH&&r!==e.Z_FULL_FLUSH&&r!==e.Z_FINISH&&r!==e.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=n.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=h,this.strm.output=c,this.strm.next_out=l,this.flush=r,!t)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return i.nextTick((function(){f._process(),f._after()})),this},h.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},h.prototype._process=function(){var t=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(31!==this.strm.input[t]){this.mode=e.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;139===this.strm.input[t]?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=u.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=u.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=u.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=u.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},h.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(t,r,n,i,a){o(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),o(t>=8&&t<=15,"invalid windowBits"),o(r>=-1&&r<=9,"invalid compression level"),o(n>=1&&n<=9,"invalid memlevel"),o(i===e.Z_FILTERED||i===e.Z_HUFFMAN_ONLY||i===e.Z_RLE||i===e.Z_FIXED||i===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,t,n,i,a),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(t,r,n,i,o){switch(this.level=t,this.windowBits=r,this.memLevel=n,this.strategy=i,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,this.mode!==e.GZIP&&this.mode!==e.GUNZIP||(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),this.mode!==e.DEFLATERAW&&this.mode!==e.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=u.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=o,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=s.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=u.inflateReset(this.strm)}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=h},2635:(t,e,r)=>{"use strict";var n=r(4155),i=r(8764).Buffer,o=r(2830).Transform,a=r(4505),s=r(9539),u=r(9282).ok,c=r(8764).kMaxLength,l="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var h=Object.keys(a),f=0;f<h.length;f++){var p=h[f];p.match(/^Z/)&&Object.defineProperty(e,p,{enumerable:!0,value:a[p],writable:!1})}for(var d={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},y=Object.keys(d),g=0;g<y.length;g++){var v=y[g];d[d[v]]=v}function m(t,e,r){var n=[],o=0;function a(){for(var e;null!==(e=t.read());)n.push(e),o+=e.length;t.once("readable",a)}function s(){var e,a=null;o>=c?a=new RangeError(l):e=i.concat(n,o),n=[],t.close(),r(a,e)}t.on("error",(function(e){t.removeListener("end",s),t.removeListener("readable",a),r(e)})),t.on("end",s),t.end(e),a()}function b(t,e){if("string"==typeof e&&(e=i.from(e)),!i.isBuffer(e))throw new TypeError("Not a string or buffer");var r=t._finishFlushFlag;return t._processChunk(e,r)}function w(t){if(!(this instanceof w))return new w(t);O.call(this,t,a.DEFLATE)}function _(t){if(!(this instanceof _))return new _(t);O.call(this,t,a.INFLATE)}function x(t){if(!(this instanceof x))return new x(t);O.call(this,t,a.GZIP)}function E(t){if(!(this instanceof E))return new E(t);O.call(this,t,a.GUNZIP)}function A(t){if(!(this instanceof A))return new A(t);O.call(this,t,a.DEFLATERAW)}function S(t){if(!(this instanceof S))return new S(t);O.call(this,t,a.INFLATERAW)}function T(t){if(!(this instanceof T))return new T(t);O.call(this,t,a.UNZIP)}function k(t){return t===a.Z_NO_FLUSH||t===a.Z_PARTIAL_FLUSH||t===a.Z_SYNC_FLUSH||t===a.Z_FULL_FLUSH||t===a.Z_FINISH||t===a.Z_BLOCK}function O(t,r){var n=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||e.Z_DEFAULT_CHUNK,o.call(this,t),t.flush&&!k(t.flush))throw new Error("Invalid flush flag: "+t.flush);if(t.finishFlush&&!k(t.finishFlush))throw new Error("Invalid flush flag: "+t.finishFlush);if(this._flushFlag=t.flush||a.Z_NO_FLUSH,this._finishFlushFlag=void 0!==t.finishFlush?t.finishFlush:a.Z_FINISH,t.chunkSize&&(t.chunkSize<e.Z_MIN_CHUNK||t.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<e.Z_MIN_WINDOWBITS||t.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<e.Z_MIN_LEVEL||t.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<e.Z_MIN_MEMLEVEL||t.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=e.Z_FILTERED&&t.strategy!=e.Z_HUFFMAN_ONLY&&t.strategy!=e.Z_RLE&&t.strategy!=e.Z_FIXED&&t.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!i.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(r);var s=this;this._hadError=!1,this._handle.onerror=function(t,r){R(s),s._hadError=!0;var n=new Error(t);n.errno=r,n.code=e.codes[r],s.emit("error",n)};var u=e.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(u=t.level);var c=e.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(c=t.strategy),this._handle.init(t.windowBits||e.Z_DEFAULT_WINDOWBITS,u,t.memLevel||e.Z_DEFAULT_MEMLEVEL,c,t.dictionary),this._buffer=i.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!n._handle},configurable:!0,enumerable:!0})}function R(t,e){e&&n.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}function I(t){t.emit("close")}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),e.Deflate=w,e.Inflate=_,e.Gzip=x,e.Gunzip=E,e.DeflateRaw=A,e.InflateRaw=S,e.Unzip=T,e.createDeflate=function(t){return new w(t)},e.createInflate=function(t){return new _(t)},e.createDeflateRaw=function(t){return new A(t)},e.createInflateRaw=function(t){return new S(t)},e.createGzip=function(t){return new x(t)},e.createGunzip=function(t){return new E(t)},e.createUnzip=function(t){return new T(t)},e.deflate=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new w(e),t,r)},e.deflateSync=function(t,e){return b(new w(e),t)},e.gzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new x(e),t,r)},e.gzipSync=function(t,e){return b(new x(e),t)},e.deflateRaw=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new A(e),t,r)},e.deflateRawSync=function(t,e){return b(new A(e),t)},e.unzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new T(e),t,r)},e.unzipSync=function(t,e){return b(new T(e),t)},e.inflate=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new _(e),t,r)},e.inflateSync=function(t,e){return b(new _(e),t)},e.gunzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new E(e),t,r)},e.gunzipSync=function(t,e){return b(new E(e),t)},e.inflateRaw=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new S(e),t,r)},e.inflateRawSync=function(t,e){return b(new S(e),t)},s.inherits(O,o),O.prototype.params=function(t,r,i){if(t<e.Z_MIN_LEVEL||t>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(r!=e.Z_FILTERED&&r!=e.Z_HUFFMAN_ONLY&&r!=e.Z_RLE&&r!=e.Z_FIXED&&r!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==t||this._strategy!==r){var o=this;this.flush(a.Z_SYNC_FLUSH,(function(){u(o._handle,"zlib binding closed"),o._handle.params(t,r),o._hadError||(o._level=t,o._strategy=r,i&&i())}))}else n.nextTick(i)},O.prototype.reset=function(){return u(this._handle,"zlib binding closed"),this._handle.reset()},O.prototype._flush=function(t){this._transform(i.alloc(0),"",t)},O.prototype.flush=function(t,e){var r=this,o=this._writableState;("function"==typeof t||void 0===t&&!e)&&(e=t,t=a.Z_FULL_FLUSH),o.ended?e&&n.nextTick(e):o.ending?e&&this.once("end",e):o.needDrain?e&&this.once("drain",(function(){return r.flush(t,e)})):(this._flushFlag=t,this.write(i.alloc(0),"",e))},O.prototype.close=function(t){R(this,t),n.nextTick(I,this)},O.prototype._transform=function(t,e,r){var n,o=this._writableState,s=(o.ending||o.ended)&&(!t||o.length===t.length);return null===t||i.isBuffer(t)?this._handle?(s?n=this._finishFlushFlag:(n=this._flushFlag,t.length>=o.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(t,n,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},O.prototype._processChunk=function(t,e,r){var n=t&&t.length,o=this._chunkSize-this._offset,a=0,s=this,h="function"==typeof r;if(!h){var f,p=[],d=0;this.on("error",(function(t){f=t})),u(this._handle,"zlib binding closed");do{var y=this._handle.writeSync(e,t,a,n,this._buffer,this._offset,o)}while(!this._hadError&&m(y[0],y[1]));if(this._hadError)throw f;if(d>=c)throw R(this),new RangeError(l);var g=i.concat(p,d);return R(this),g}u(this._handle,"zlib binding closed");var v=this._handle.write(e,t,a,n,this._buffer,this._offset,o);function m(c,l){if(this&&(this.buffer=null,this.callback=null),!s._hadError){var f=o-l;if(u(f>=0,"have should not go down"),f>0){var y=s._buffer.slice(s._offset,s._offset+f);s._offset+=f,h?s.push(y):(p.push(y),d+=y.length)}if((0===l||s._offset>=s._chunkSize)&&(o=s._chunkSize,s._offset=0,s._buffer=i.allocUnsafe(s._chunkSize)),0===l){if(a+=n-c,n=c,!h)return!0;var g=s._handle.write(e,t,a,n,s._buffer,s._offset,s._chunkSize);return g.callback=m,void(g.buffer=t)}if(!h)return!1;r()}}v.buffer=t,v.callback=m},s.inherits(w,O),s.inherits(_,O),s.inherits(x,O),s.inherits(E,O),s.inherits(A,O),s.inherits(S,O),s.inherits(T,O)},8764:(t,e,r)=>{"use strict";const n=r(9742),i=r(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=s(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|d(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||K(t.length)?s(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),s(t<0?0:0|d(t))}function f(t){const e=t.length<0?0:0|d(t.length),r=s(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function d(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function y(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(t).length;default:if(i)return n?-1:H(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return R(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function v(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){let o,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(t,o)===c(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(t,o+n)!==c(e,n)){r=!1;break}if(r)return o}return-1}function w(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(e.substr(2*a,2),16);if(K(n))return a;t[r+a]=n}return a}function _(t,e,r,n){return Z(H(e,t.length-r),t,r,n)}function x(t,e,r,n){return Z(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function E(t,e,r,n){return Z(X(e),t,r,n)}function A(t,e,r,n){return Z(function(t,e){let r,n,i;const o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,a=e>239?4:e>223?3:e>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(o=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=t[i+1],n=t[i+2],s=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&s,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(t){const e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=k));return r}(n)}e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Y(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0);const s=Math.min(o,a),c=this.slice(n,i),l=t.slice(e,r);for(let t=0;t<s;++t)if(c[t]!==l[t]){o=c[t],a=l[t];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return x(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function O(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function R(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=$[t[n]];return i}function M(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n,i){V(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,r}function D(t,e,r,n,i){V(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a>>=8,t[r+2]=a,a>>=8,t[r+1]=a,a>>=8,t[r]=a,r+8}function L(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function F(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||W(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||W(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||W(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||W(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=J((function(t,e=0){return P(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=J((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let i=0,o=1,a=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=J((function(t,e=0){return P(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=J((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,n),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%a]}return this};const j={};function U(t,e,r){j[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function z(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function V(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new j.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){G(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||W(e,t.length-(r+1))}(n,i,o)}function G(t,e){if("number"!=typeof t)throw new j.ERR_INVALID_ARG_TYPE(e,"number",t)}function W(t,e,r){if(Math.floor(t)!==t)throw G(t,r),new j.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=z(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function H(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function X(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function K(t){return t!=t}const $=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function J(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},1924:(t,e,r)=>{"use strict";var n=r(210),i=r(5559),o=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i(r):r}},5559:(t,e,r)=>{"use strict";var n=r(8612),i=r(210),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=s(n,a,arguments);if(u&&c){var r=u(e,"length");r.configurable&&c(e,"length",{value:1+l(0,t.length-(arguments.length-1))})}return e};var h=function(){return s(n,o,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h},2902:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(1451).Readable,o=r(9539);function a(t,e){if(!(this instanceof a))return new a(t,e);i.call(this,e),null==t&&(t=String(t)),this._obj=t}t.exports=a,o.inherits(a,i),a.prototype._read=function(t){var e=this._obj;"string"==typeof e?this.push(new n(e)):n.isBuffer(e)?this.push(e):this.push(new n(JSON.stringify(e))),this.push(null)}},6497:(t,e,r)=>{var n=r(8764).Buffer;function i(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===i(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===i(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===i(t)},e.isError=function(t){return"[object Error]"===i(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n.isBuffer},6239:(t,e,r)=>{"use strict";var n=r(5081);function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(t){var e=new i;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var o=0;o<r.length;++o){var a=r[o];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[o]="array",e.arrayArgs.push(o),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(o),e.shimArgs.push("scalar"+o);else if("index"===a){if(e.indexArgs.push(o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(o),o<e.pre.args.length&&e.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<e.post.args.length&&e.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+r[o]);e.argTypes[o]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(o)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,n(e)}},1984:(t,e,r)=>{"use strict";var n=r(8706);function i(t,e,r){var n,i,o=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],c=[],l=0,h=0;for(n=0;n<o;++n)c.push(["i",n,"=0"].join(""));for(i=0;i<a;++i)for(n=0;n<o;++n)h=l,l=t[n],0===n?c.push(["d",i,"s",n,"=t",i,"p",l].join("")):c.push(["d",i,"s",n,"=(t",i,"p",l,"-s",h,"*t",i,"p",h,")"].join(""));for(c.length>0&&u.push("var "+c.join(",")),n=o-1;n>=0;--n)l=t[n],u.push(["for(i",n,"=0;i",n,"<s",l,";++i",n,"){"].join(""));for(u.push(r),n=0;n<o;++n){for(h=l,l=t[n],i=0;i<a;++i)u.push(["p",i,"+=d",i,"s",n].join(""));s&&(n>0&&u.push(["index[",h,"]-=s",h].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function o(t,e,r){for(var n=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",l=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var h=e.offsetArgIndex.indexOf(a);l=e.offsetArgs[h].array,c="+q"+h;case"array":c="p"+l+c;var f="l"+a,p="a"+l;if(0===e.arrayBlockIndices[l])1===s.count?"generic"===r[l]?s.lvalue?(i.push(["var ",f,"=",p,".get(",c,")"].join("")),n=n.replace(u,f),o.push([p,".set(",c,",",f,")"].join(""))):n=n.replace(u,[p,".get(",c,")"].join("")):n=n.replace(u,[p,"[",c,"]"].join("")):"generic"===r[l]?(i.push(["var ",f,"=",p,".get(",c,")"].join("")),n=n.replace(u,f),s.lvalue&&o.push([p,".set(",c,",",f,")"].join(""))):(i.push(["var ",f,"=",p,"[",c,"]"].join("")),n=n.replace(u,f),s.lvalue&&o.push([p,"[",c,"]=",f].join("")));else{for(var d=[s.name],y=[c],g=0;g<Math.abs(e.arrayBlockIndices[l]);g++)d.push("\\s*\\[([^\\]]+)\\]"),y.push("$"+(g+1)+"*t"+l+"b"+g);if(u=new RegExp(d.join(""),"g"),c=y.join("+"),"generic"===r[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[p,"[",c,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,o.join("\n")].join("\n").trim()}function a(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var i=t[n],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[n]="u"+i.charAt(1)+o:e[n]=i.charAt(0)+o,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}t.exports=function(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,s=new Array(t.arrayArgs.length),u=new Array(t.arrayArgs.length),c=0;c<t.arrayArgs.length;++c)u[c]=e[2*c],s[c]=e[2*c+1];var l=[],h=[],f=[],p=[],d=[];for(c=0;c<t.arrayArgs.length;++c){t.arrayBlockIndices[c]<0?(f.push(0),p.push(r),l.push(r),h.push(r+t.arrayBlockIndices[c])):(f.push(t.arrayBlockIndices[c]),p.push(t.arrayBlockIndices[c]+r),l.push(0),h.push(t.arrayBlockIndices[c]));for(var y=[],g=0;g<s[c].length;g++)f[c]<=s[c][g]&&s[c][g]<p[c]&&y.push(s[c][g]-f[c]);d.push(y)}var v=["SS"],m=["'use strict'"],b=[];for(g=0;g<r;++g)b.push(["s",g,"=SS[",g,"]"].join(""));for(c=0;c<t.arrayArgs.length;++c){for(v.push("a"+c),v.push("t"+c),v.push("p"+c),g=0;g<r;++g)b.push(["t",c,"p",g,"=t",c,"[",f[c]+g,"]"].join(""));for(g=0;g<Math.abs(t.arrayBlockIndices[c]);++g)b.push(["t",c,"b",g,"=t",c,"[",l[c]+g,"]"].join(""))}for(c=0;c<t.scalarArgs.length;++c)v.push("Y"+c);if(t.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),t.indexArgs.length>0){var w=new Array(r);for(c=0;c<r;++c)w[c]="0";b.push(["index=[",w.join(","),"]"].join(""))}for(c=0;c<t.offsetArgs.length;++c){var _=t.offsetArgs[c],x=[];for(g=0;g<_.offset.length;++g)0!==_.offset[g]&&(1===_.offset[g]?x.push(["t",_.array,"p",g].join("")):x.push([_.offset[g],"*t",_.array,"p",g].join("")));0===x.length?b.push("q"+c+"=0"):b.push(["q",c,"=",x.join("+")].join(""))}var E=n([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((b=b.concat(E)).length>0&&m.push("var "+b.join(",")),c=0;c<t.arrayArgs.length;++c)m.push("p"+c+"|=0");t.pre.body.length>3&&m.push(o(t.pre,t,u));var A=o(t.body,t,u),S=function(t){for(var e=0,r=t[0].length;e<r;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}(d);S<r?m.push(function(t,e,r,n){for(var o=e.length,a=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,c=[],l=0;l<a;++l)c.push(["var offset",l,"=p",l].join(""));for(l=t;l<o;++l)c.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",s,"){"].join("")),c.push(["s",e[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",e[l],"=",s].join("")),c.push(["j",l,"-=",s,"}"].join("")),u&&c.push(["index[",e[l],"]=j",l].join(""));for(l=0;l<a;++l){for(var h=["offset"+l],f=t;f<o;++f)h.push(["j",f,"*t",l,"p",e[f]].join(""));c.push(["p",l,"=(",h.join("+"),")"].join(""))}for(c.push(i(e,r,n)),l=t;l<o;++l)c.push("}");return c.join("\n")}(S,d[0],t,A)):m.push(i(d[0],t,A)),t.post.body.length>3&&m.push(o(t.post,t,u)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+m.join("\n")+"\n----------");var T=[t.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",S,a(u)].join("");return new Function(["function ",T,"(",v.join(","),"){",m.join("\n"),"} return ",T].join(""))()}},5081:(t,e,r)=>{"use strict";var n=r(1984);t.exports=function(t){var e=["'use strict'","var CACHED={}"],r=[],i=t.funcName+"_cwise_thunk";e.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<t.arrayArgs.length;++l){var h=t.arrayArgs[l];r.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),o.push("t"+h),o.push("r"+h),a.push("t"+h),a.push("r"+h+".join()"),s.push("array"+h+".data"),s.push("array"+h+".stride"),s.push("array"+h+".offset|0"),l>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}for(t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),l=0;l<t.scalarArgs.length;++l)s.push("scalar"+t.scalarArgs[l]);return r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(n.bind(void 0,t))}},858:(t,e,r)=>{var n=r(8764).Buffer;t.exports=function(t){if(!/^data\:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');var e=(t=t.replace(/\r?\n/g,"")).indexOf(",");if(-1===e||e<=4)throw new TypeError("malformed data: URI");for(var r=t.substring(5,e).split(";"),i=!1,o="US-ASCII",a=0;a<r.length;a++)"base64"==r[a]?i=!0:0==r[a].indexOf("charset=")&&(o=r[a].substring(8));var s=unescape(t.substring(e+1)),u=new n(s,i?"base64":"ascii");return u.type=r[0]||"text/plain",u.charset=o,u}},8575:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5695),i=function(){function t(t){this.urlPath=t,"/"!==this.urlPath.charAt(this.urlPath.length-1)&&(this.urlPath+="/")}return t.prototype.loadManifest=function(){var t=this;return new Promise((function(e,r){var n=new XMLHttpRequest;n.open("GET",t.urlPath+"manifest.json"),n.onload=function(){t.checkpointManifest=JSON.parse(n.responseText),e()},n.onerror=function(e){throw new Error("manifest.json not found at "+t.urlPath+". "+e)},n.send()}))},t.prototype.getCheckpointManifest=function(){var t=this;return null==this.checkpointManifest?new Promise((function(e,r){t.loadManifest().then((function(){e(t.checkpointManifest)}))})):new Promise((function(e,r){e(t.checkpointManifest)}))},t.prototype.getAllVariables=function(){var t=this;return null!=this.variables?new Promise((function(e,r){e(t.variables)})):new Promise((function(e,r){t.getCheckpointManifest().then((function(r){for(var n=Object.keys(t.checkpointManifest),i=[],o=0;o<n.length;o++)i.push(t.getVariable(n[o]));Promise.all(i).then((function(r){t.variables={};for(var i=0;i<r.length;i++)t.variables[n[i]]=r[i];e(t.variables)}))}))}))},t.prototype.getVariable=function(t){var e=this;if(!(t in this.checkpointManifest))throw new Error("Cannot load non-existant variable "+t);var r=function(r,i){var o=new XMLHttpRequest;o.responseType="arraybuffer";var a=e.checkpointManifest[t].filename;o.open("GET",e.urlPath+a),o.onload=function(){var i=new Float32Array(o.response),a=n.NDArray.make(e.checkpointManifest[t].shape,{values:i});r(a)},o.onerror=function(e){throw new Error("Could not fetch variable "+t+": "+e)},o.send()};return null==this.checkpointManifest?new Promise((function(t,n){e.loadManifest().then((function(){new Promise(r).then(t)}))})):new Promise(r)},t}();e.CheckpointLoader=i},6805:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5695),i=r(193),o=function(){function t(t){this.dataShapes=t,this.normalizationInfo={}}return t.prototype.getDataShape=function(t){return this.dataShapes[t]},t.prototype.getData=function(){return this.dataset},t.prototype.getStats=function(){var t=this;if(null==this.dataset)throw new Error("Data is null.");return this.dataset.map((function(e){return t.getStatsForData(e)}))},t.prototype.getStatsForData=function(t){var e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=t.map((function(t,e){return e}));i.shuffle(n),n=n.slice(.1*n.length);for(var o=0;o<n.length;o++)for(var a=t[n[o]].getValues(),s=0;s<a.length;s++)e=Math.min(e,a[s]),r=Math.max(r,a[s]);return{inputMin:e,inputMax:r,exampleCount:t.length,shape:t[0].shape}},t.prototype.normalizeExamplesToRange=function(t,e,r,o,a){var s=r instanceof Float32Array&&e instanceof Float32Array,u=o instanceof Float32Array&&a instanceof Float32Array,c=i.sizeFromShape(t[0].shape),l=[];return t.forEach((function(t){for(var i=t.getValues(),h=new Float32Array(c),f=0;f<c;f++){var p=s?e[f]:e,d=(s?r[f]:r)-p,y=u?o[f]:o,g=(u?a[f]:a)-y;h[f]=0===d?y:y+g*(i[f]-p)/d}l.push(n.NDArray.make(t.shape,{values:h}))})),l},t.prototype.computeBounds=function(t){var e=this;if(null==this.dataset)throw new Error("Data is null.");var r=i.sizeFromShape(this.dataset[t][0].shape);this.normalizationInfo[t]={isNormalized:!1,minValues:new Float32Array(r),maxValues:new Float32Array(r)};for(var n=0;n<r;n++)this.normalizationInfo[t].minValues[n]=Number.POSITIVE_INFINITY,this.normalizationInfo[t].maxValues[n]=Number.NEGATIVE_INFINITY;this.dataset[t].forEach((function(n){for(var i=n.getValues(),o=0;o<r;o++)e.normalizationInfo[t].minValues[o]=Math.min(e.normalizationInfo[t].minValues[o],i[o]),e.normalizationInfo[t].maxValues[o]=Math.max(e.normalizationInfo[t].maxValues[o],i[o])}))},t.prototype.normalizeWithinBounds=function(t,e,r){if(null==this.dataset)throw new Error("Data is null.");if(t>=this.dataset.length)throw new Error("dataIndex out of bounds.");var n,i;null==this.normalizationInfo[t]&&this.computeBounds(t),this.normalizationInfo[t].isNormalized?(n=this.normalizationInfo[t].lowerBound,i=this.normalizationInfo[t].upperBound):(n=this.normalizationInfo[t].minValues,i=this.normalizationInfo[t].maxValues),this.dataset[t]=this.normalizeExamplesToRange(this.dataset[t],n,i,e,r),this.normalizationInfo[t].isNormalized=!0,this.normalizationInfo[t].lowerBound=e,this.normalizationInfo[t].upperBound=r},t.prototype.isNormalized=function(t){return null!=this.normalizationInfo&&this.normalizationInfo[t].isNormalized},t.prototype.removeNormalization=function(t){if(null==this.dataset)throw new Error("Training or test data is null.");this.isNormalized(t)&&(this.dataset[t]=this.normalizeExamplesToRange(this.dataset[t],this.normalizationInfo[t].lowerBound,this.normalizationInfo[t].upperBound,this.normalizationInfo[t].minValues,this.normalizationInfo[t].maxValues),this.normalizationInfo[t].isNormalized=!1)},t.prototype.unnormalizeExamples=function(t,e){return this.isNormalized(e)?this.normalizeExamplesToRange(t,this.normalizationInfo[e].lowerBound,this.normalizationInfo[e].upperBound,this.normalizationInfo[e].minValues,this.normalizationInfo[e].maxValues):t},t.prototype.dispose=function(){if(null!=this.dataset){for(var t=0;t<this.dataset.length;t++)for(var e=0;e<this.dataset[t].length;e++)this.dataset[t][e].dispose();this.dataset=[]}},t}();e.InMemoryDataset=o},3279:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(193),s=function(){function t(t){this.inputs=t,this.idx=0,this.inputCounter=0,this.epoch=0,this.shuffledIndices=a.createShuffledIndices(t[0].length),this.numInputs=t.length;for(var e=this.inputs[0].length,r=0;r<this.numInputs;r++)a.assert(this.inputs[r].length===e,"Number of examples must match across different inputs.");for(r=0;r<this.numInputs;r++)for(var n=this.inputs[r][0].shape,i=0;i<this.inputs[r].length;i++)a.assertShapesMatch(n,this.inputs[r][i].shape)}return t.prototype.getCurrentExampleIndex=function(){var t=this.idx;return this.inputCounter++,this.inputCounter>=this.numInputs&&(this.idx++,this.inputCounter=0,this.idx>=this.inputs[0].length&&(this.idx=0,this.epoch++)),t},t.prototype.getNextInput=function(t){var e=this.getCurrentExampleIndex();return this.inputs[t][this.shuffledIndices[e]]},t.prototype.getEpoch=function(){return this.epoch},t.prototype.getInputProviders=function(){for(var t=[],e=0;e<this.numInputs;e++)t.push(this.getInputProvider(e));return t},t}();e.InMemoryShuffledInputProviderBuilder=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInputProvider=function(t){var e=this;return{getNextCopy:function(r){return o.NDArray.like(e.getNextInput(t))},disposeCopy:function(t,e){e.dispose()}}},e}(s);e.InCPUMemoryShuffledInputProviderBuilder=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInputProvider=function(t){var e=this;return{getNextCopy:function(r){return r.clone(e.getNextInput(t))},disposeCopy:function(t,e){e.dispose()}}},e}(s);e.InGPUMemoryShuffledInputProviderBuilder=c},2682:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(193),s=r(6805);e.getXhrDatasetConfig=function(t){return new Promise((function(e,r){var n=new XMLHttpRequest;n.open("GET",t),n.onload=function(){e(JSON.parse(n.responseText))},n.onerror=function(t){r(t)},n.send()}))};var u=function(t){function e(e){var r=t.call(this,e.data.map((function(t){return t.shape})))||this;return r.xhrDatasetConfig=e,r}return i(e,t),e.prototype.getNDArray=function(t){var e="png"===t.dataType?function(t,e){return new Promise((function(r,n){var i=new Image;i.setAttribute("crossOrigin",""),i.onload=function(){var t=function(t,e){var r=document.createElement("canvas"),n=r.getContext("2d"),i=t.height,o=a.sizeFromShape(e),s=new Uint8Array(i*o);if(t.width!==e[0]*e[1])throw new Error("Image width ("+t.width+") must be multiple of rows*columns ("+e[0]+"*"+e[1]+") of the ndarray");r.width=t.width,r.height=1e3;for(var u=r.width,h=r.height,f=u,p=h,d=e[2],y=0,g=Math.ceil(i/r.height),v=0;v<g;++v){var m=v*r.height;v===g-1&&i%r.height>0&&(r.height=i%r.height,p=h=r.height),n.drawImage(t,0,m,u,h,0,0,f,p);var b=n.getImageData(0,0,r.width,r.height).data;1===d?c(b,s,y):l(b,s,y),y+=r.height*o}return s}(i,e);i.src="",i=null,r(t)},i.src=t.path}))}(t,t.shape):function(t){return new Promise((function(e,r){var n=new XMLHttpRequest;n.open("GET",t.path),n.responseType="arraybuffer",n.onload=function(r){var i="float32"===t.dataType?new Float32Array(n.response):new Uint8Array(n.response);e(i)},n.onerror=function(t){return r(t)},n.send()}))}(t);return e.then((function(e){for(var r=a.sizeFromShape(t.shape),n=[],i=0;i<e.length/r;i++){var s=e.subarray(i*r,(i+1)*r),u=o.NDArray.make(t.shape,{values:new Float32Array(s)});n.push(u)}return n}))},e.prototype.fetchData=function(){var t=this;return new Promise((function(e,r){var n=t.xhrDatasetConfig.data.map((function(e){return t.getNDArray(e)}));Promise.all(n).then((function(r){t.dataset=r,e()}))}))},e}(s.InMemoryDataset);function c(t,e,r){for(var n=r,i=0;i<t.length;i+=4)e[n++]=t[i]}function l(t,e,r){for(var n=r,i=0;i<t.length;i+=4)e[n]=t[i],e[n+1]=t[i+1],e[n+2]=t[i+2],n+=3}e.XhrDataset=u},5050:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isMobile=function(){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}},3073:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(5050),o=r(193);function a(t){if(0===t)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var e=document.createElement("canvas");return 1===t?e.getContext("webgl")||e.getContext("experimental-webgl"):e.getContext("webgl2")}function s(t){if(null!=t){var e=t.getExtension("WEBGL_lose_context");if(null==e)throw new Error("Extension WEBGL_lose_context not supported on this browser.");e.loseContext()}}function u(t){var e=a(t);return null!=e&&(s(e),!0)}!function(t){t[t.NUMBER=0]="NUMBER",t[t.BOOLEAN=1]="BOOLEAN"}(n=e.Type||(e.Type={})),e.URL_PROPERTIES=[{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED",type:n.BOOLEAN},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:n.BOOLEAN},{name:"WEBGL_VERSION",type:n.NUMBER},{name:"WEBGL_FLOAT_TEXTURE_ENABLED",type:n.BOOLEAN},{name:"WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED",type:n.BOOLEAN}];var c=function(){function t(t){this.features={},null!=t&&(this.features=t)}return t.prototype.get=function(t){return t in this.features||(this.features[t]=this.evaluateFeature(t)),this.features[t]},t.prototype.evaluateFeature=function(t){if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED"===t){var e=this.get("WEBGL_VERSION");return 0!==e&&function(t){var e=a(t),r=1===t?"EXT_disjoint_timer_query":"EXT_disjoint_timer_query_webgl2",n=null!=e.getExtension(r);return null!=e&&s(e),n}(e)}if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===t)return this.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED")&&!i.isMobile();if("WEBGL_VERSION"===t)return u(2)?2:u(1)?1:0;if("WEBGL_FLOAT_TEXTURE_ENABLED"===t)return function(t){if(0===t)return!1;var e=a(t);if(1===t){if(null==e.getExtension("OES_texture_float"))return!1}else if(null==e.getExtension("EXT_color_buffer_float"))return!1;var r=e.createFramebuffer(),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);var i=2===t?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,i,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;e.readPixels(0,0,1,1,e.RGBA,e.FLOAT,new Float32Array(4));var u=e.getError()===e.NO_ERROR;return s(e),o&&u}(this.get("WEBGL_VERSION"));if("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED"===t)return function(t){if(2!==t)return!1;var e=a(t),r=null!=e.getExtension("WEBGL_get_buffer_sub_data_async");return s(e),r}(this.get("WEBGL_VERSION"));throw new Error("Unknown feature "+t+".")},t}();e.Environment=c;e.ENV=new c(function(){var t={};if("undefined"==typeof window)return t;var r=o.getQueryParams(window.location.search);if("dljsflags"in r){var i={};r.dljsflags.split(",").forEach((function(t){var e=t.split(":"),r=e[0],n=e[1];i[r]=n})),e.URL_PROPERTIES.forEach((function(e){e.name in i&&(console.log("Setting feature override from URL "+e.name+": "+i[e.name]),e.type===n.NUMBER?t[e.name]=+i[e.name]:e.type===n.BOOLEAN?t[e.name]="true"===i[e.name]:console.warn("Unknown URL param: "+e.name+"."))}))}return t}()),e.setEnvironment=function(t){e.ENV=t}},2975:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(7947),a=r(7950),s=r(7819),u=r(5695),c=r(193),l=function(){function t(t){this.g=t}return t.prototype.dense=function(t,e,r,n,i,a,s){void 0===n&&(n=null),void 0===i&&(i=!0),void 0===a&&(a=new o.VarianceScalingInitializer),void 0===s&&(s=new o.ZerosInitializer);var u=this.g.variable(t+"-weights",a.initialize([e.shape[0],r],e.shape[0],r)),c=this.g.matmul(e,u);if(i){var l=this.g.variable(t+"-bias",s.initialize([r],e.shape[0],r));c=this.g.add(c,l)}return null!=n&&(c=n(c)),c},t}();e.GraphLayers=l;var h=function(){function t(){this.nodes=[],this.layers=new l(this)}return t.prototype.variable=function(t,e){return this.addNodeAndReturnOutput(new d(this,t,e))},t.prototype.placeholder=function(t,e){return this.addNodeAndReturnOutput(new y(this,t,e))},t.prototype.constant=function(t){var e;if("number"==typeof t)e=u.Scalar.new(t);else if(t instanceof u.NDArray)e=t;else{if(!(t instanceof Array))throw new Error("unimplemented constant type.");var r=c.flatten(t),n=new Float32Array(r);e=u.NDArray.make(c.inferShape(t),{values:n})}return this.addNodeAndReturnOutput(new g(this,e))},t.prototype.reshape=function(t,e){return this.addNodeAndReturnOutput(new v(this,"Reshape",t,e))},t.prototype.fusedLinearCombination=function(t,e,r,n){return this.addNodeAndReturnOutput(new m(this,t,e,r,n))},t.prototype.add=function(t,e){return this.addNodeAndReturnOutput(new b(this,t,e))},t.prototype.subtract=function(t,e){return this.addNodeAndReturnOutput(new w(this,t,e))},t.prototype.multiply=function(t,e){return this.addNodeAndReturnOutput(new _(this,t,e))},t.prototype.divide=function(t,e){return this.addNodeAndReturnOutput(new x(this,t,e))},t.prototype.reduceSum=function(t){return this.addNodeAndReturnOutput(new E(this,t))},t.prototype.concat3d=function(t,e,r){return this.addNodeAndReturnOutput(new A(this,t,e,r))},t.prototype.matmul=function(t,e){return this.addNodeAndReturnOutput(new S(this,t,e))},t.prototype.conv2d=function(t,e,r,n,i,o,a){return void 0===o&&(o=1),this.addNodeAndReturnOutput(new T(this,t,e,r,n,i,o,a))},t.prototype.maxPool=function(t,e,r,n){return void 0===r&&(r=1),this.addNodeAndReturnOutput(new k(this,t,e,r,n))},t.prototype.exp=function(t){return this.addNodeAndReturnOutput(new I(this,t))},t.prototype.log=function(t){return this.addNodeAndReturnOutput(new M(this,t))},t.prototype.relu=function(t){return this.addNodeAndReturnOutput(new O(this,t))},t.prototype.leakyRelu=function(t,e){return this.addNodeAndReturnOutput(new R(this,t,e))},t.prototype.tanh=function(t){return this.addNodeAndReturnOutput(new N(this,t))},t.prototype.sigmoid=function(t){return this.addNodeAndReturnOutput(new C(this,t))},t.prototype.square=function(t){return this.addNodeAndReturnOutput(new P(this,t))},t.prototype.softmax=function(t){return this.addNodeAndReturnOutput(new L(this,t))},t.prototype.softmaxCrossEntropyCost=function(t,e){return this.addNodeAndReturnOutput(new D(this,t,e))},t.prototype.meanSquaredCost=function(t,e){return this.addNodeAndReturnOutput(new B(this,t,e))},t.prototype.argmax=function(t){return this.addNodeAndReturnOutput(new F(this,t))},t.prototype.argmaxEquals=function(t,e){return this.addNodeAndReturnOutput(new j(this,t,e))},t.prototype.addNodeAndReturnOutput=function(t){return this.nodes.push(t),t.validate(),t.output},t.prototype.getNodes=function(){return this.nodes},t}();e.Graph=h;var f=function(){function t(e){this.shape=e,this.id=t.nextID++}return t.nextID=0,t}();e.Tensor=f;var p=function(){function t(e,r,n,i){this.graph=e,this.name=r,this.inputs=n,this.output=i,this.id=t.nextID++,i.node=this}return t.nextID=0,t}();e.Node=p;var d=function(t){function e(e,r,n){var i=t.call(this,e,r,{},new f(n.shape))||this;return i.data=n,i}return i(e,t),e.prototype.validate=function(){c.assert(null!=this.data,"Error adding variable op: Data for variable '"+this.name+"' is null or undefined")},e}(p);e.VariableNode=d;var y=function(t){function e(e,r,n){return t.call(this,e,r,{},new f(n))||this}return i(e,t),e.prototype.validate=function(){},e}(p);e.PlaceholderNode=y;var g=function(t){function e(e,r){var n=t.call(this,e,"Constant",{},new f(r.shape))||this;return n.data=r,n}return i(e,t),e.prototype.validate=function(){c.assert(null!=this.data,"Error adding constant: data for placeholder '"+this.name+"' is null or undefined")},e}(p);e.ConstantNode=g;var v=function(t){function e(e,r,n,i){var o=t.call(this,e,r,{x:n},new f(i))||this;return o.name=r,o.x=n,o.shape=i,o}return i(e,t),e.prototype.validate=function(){var t=c.sizeFromShape(this.x.shape),e=c.sizeFromShape(this.shape);c.assert(t===e,"Error making reshape operation: input to reshape '"+this.name+"' of shape ("+this.x.shape+") does not match size of requested shape "+this.shape+".")},e.X="x",e}(p);e.ReshapeNode=v;var m=function(t){function e(e,r,n,i,o){var a=t.call(this,e,"Linear Combination",{t1:r,t2:n,c1:i,c2:o},new f(r.shape))||this;return a.t1=r,a.t2=n,a.c1=i,a.c2=o,a}return i(e,t),e.prototype.validate=function(){if(c.assertShapesMatch(this.t1.shape,this.t2.shape),!c.isScalarShape(this.c1.shape))throw new Error("Error adding fusedLinearCombination: c1 is not a scalar, got shape: "+this.c1.shape);if(!c.isScalarShape(this.c2.shape))throw new Error("Error adding fusedLinearCombination: c2 is not a scalar, got shape: "+this.c2.shape)},e.T1="t1",e.T2="t2",e.C1="c1",e.C2="c2",e}(p);e.FusedLinearCombinationNode=m;var b=function(t){function e(e,r,n){var i=t.call(this,e,"Add",{t1:r,t2:n},new f(1===c.sizeFromShape(r.shape)?n.shape:r.shape))||this;return i.t1=r,i.t2=n,i}return i(e,t),e.prototype.validate=function(){c.assert(1===c.sizeFromShape(this.t1.shape)||1===c.sizeFromShape(this.t2.shape)||c.arraysEqual(this.t1.shape,this.t2.shape),"Error adding add operation op: one of inputs must be scalar or the shapes "+this.t1.shape+" and "+this.t2.shape+" must match.")},e.T1="t1",e.T2="t2",e}(p);e.AddNode=b;var w=function(t){function e(e,r,n){var i=t.call(this,e,"Subtract",{t1:r,t2:n},new f(1===c.sizeFromShape(r.shape)?n.shape:r.shape))||this;return i.t1=r,i.t2=n,i}return i(e,t),e.prototype.validate=function(){c.assert(1===c.sizeFromShape(this.t1.shape)||1===c.sizeFromShape(this.t2.shape)||c.arraysEqual(this.t1.shape,this.t2.shape),"Error adding subtract op: one of inputs must be scalar or the shapes "+this.t1.shape+" and "+this.t2.shape+" must match.")},e.T1="t1",e.T2="t2",e}(p);e.SubtractNode=w;var _=function(t){function e(e,r,n){var i=t.call(this,e,"Multiply",{t1:r,t2:n},new f(1===c.sizeFromShape(r.shape)?n.shape:r.shape))||this;return i.t1=r,i.t2=n,i}return i(e,t),e.prototype.validate=function(){c.assert(1===c.sizeFromShape(this.t1.shape)||1===c.sizeFromShape(this.t2.shape)||c.arraysEqual(this.t1.shape,this.t2.shape),"Error adding multiply op: one of inputs must be scalar or the shapes "+this.t1.shape+" and "+this.t2.shape+" must match.")},e.T1="t1",e.T2="t2",e}(p);e.MultiplyNode=_;var x=function(t){function e(e,r,n){var i=t.call(this,e,"Divide",{t1:r,t2:n},new f(1===c.sizeFromShape(r.shape)?n.shape:r.shape))||this;return i.t1=r,i.t2=n,i}return i(e,t),e.prototype.validate=function(){c.assert(1===c.sizeFromShape(this.t1.shape)||1===c.sizeFromShape(this.t2.shape)||c.arraysEqual(this.t1.shape,this.t2.shape),"Error adding divide op: one of inputs must be scalar or the shapes "+this.t1.shape+" and "+this.t2.shape+" must match.")},e.T1="t1",e.T2="t2",e}(p);e.DivideNode=x;var E=function(t){function e(e,r){return t.call(this,e,"ReduceSum",{x:r},new f([]))||this}return i(e,t),e.prototype.validate=function(){},e.X="x",e}(p);e.ReduceSumNode=E;var A=function(t){function e(e,r,n,i){var o=t.call(this,e,"Concat3D",{x1:r,x2:n},new f(a.computeOutShape(r.shape,n.shape,i)))||this;return o.x1=r,o.x2=n,o.axis=i,o}return i(e,t),e.prototype.validate=function(){a.assertParams(this.x1.shape,this.x2.shape,this.axis)},e.X1="x1",e.X2="x2",e.AXIS="axis",e}(p);e.Concat3DNode=A;var S=function(t){function e(e,r,n){var i,o,a=t.call(this,e,"MatMul",{x1:r,x2:n},new f((i=r.shape,o=n.shape,1===i.length&&1===o.length?[1]:1===i.length&&2===o.length?[o[1]]:2===i.length&&1===o.length?[i[0]]:[i[0],o[1]])))||this;return a.x1=r,a.x2=n,a}return i(e,t),e.prototype.validate=function(){if(2===this.x1.shape.length&&2===this.x2.shape.length)c.assert(this.x1.shape[1]===this.x2.shape[0],"Error adding matmul op: inner shapes of matrices with shapes "+this.x1.shape+" and "+this.x2.shape+" must match.");else if(2===this.x1.shape.length&&1===this.x2.shape.length)c.assert(this.x1.shape[1]===this.x2.shape[0],"Error adding matmul op: second dimension of matrix with shape "+this.x1.shape.toString()+" must match size of vector with shape "+this.x2.shape+".");else{if(1!==this.x1.shape.length||2!==this.x2.shape.length)throw new Error("Error adding matmul op: inputs must be vectors or matrices.");c.assert(this.x1.shape[0]===this.x2.shape[0],"Error adding matmul op: size of vector with shape "+this.x1.shape+" must match first dimension of matrix with shape "+this.x2.shape+".")}},e.X1="x1",e.X2="x2",e}(p);e.MatMulNode=S;var T=function(t){function e(e,r,n,i,o,a,u,c){void 0===u&&(u=1);var l=t.call(this,e,"Convolution 2D",{x:r,w:n,b:i},new f(s.computeOutputShape3D(r.shape,o,a,u,c)))||this;return l.x=r,l.w=n,l.b=i,l.fieldSize=o,l.outputDepth=a,l.stride=u,l.zeroPad=c,l}return i(e,t),e.prototype.validate=function(){c.assert(3===this.x.shape.length,"Error adding conv2d op: input must be of rank 3, but got shape: "+this.x.shape+"."),c.assert(4===this.w.shape.length,"Error adding conv2d op: weights must be of rank 4, but got shape: "+this.w.shape+"."),c.assert(1===this.b.shape.length,"Error adding conv2d op: biases must be of rank 1, but got shape: "+this.b.shape+"."),c.assert(this.x.shape[2]===this.w.shape[2],"Error adding conv2d op: depth of input ("+this.x.shape[2]+") must match input depth for weights ("+this.w.shape[2]+").")},e.X="x",e.W="w",e.B="b",e}(p);e.Convolution2DNode=T;var k=function(t){function e(e,r,n,i,o){void 0===i&&(i=1);var a=t.call(this,e,"Max pool",{x:r},new f(s.computeOutputShape3D(r.shape,n,r.shape[2],i,o)))||this;return a.x=r,a.fieldSize=n,a.stride=i,a.zeroPad=o,a}return i(e,t),e.prototype.validate=function(){c.assert(3===this.x.shape.length,"Error adding maxPool op: input must be of rank 3, but got shape: "+this.x.shape+".")},e.X="x",e}(p);e.MaxPoolNode=k;var O=function(t){function e(e,r){return t.call(this,e,"ReLU",{x:r},new f(r.shape))||this}return i(e,t),e.prototype.validate=function(){},e.X="x",e}(p);e.ReLUNode=O;var R=function(t){function e(e,r,n){var i=t.call(this,e,"LeakyReLU",{x:r},new f(r.shape))||this;return i.alpha=n,i}return i(e,t),e.prototype.validate=function(){},e.X="x",e}(p);e.LeakyReLUNode=R;var I=function(t){function e(e,r){return t.call(this,e,"Exp",{x:r},new f(r.shape))||this}return i(e,t),e.prototype.validate=function(){},e.X="x",e}(p);e.ExpNode=I;var M=function(t){function e(e,r){return t.call(this,e,"Log",{x:r},new f(r.shape))||this}return i(e,t),e.prototype.validate=function(){},e.X="x",e}(p);e.LogNode=M;var N=function(t){function e(e,r){return t.call(this,e,"TanH",{x:r},new f(r.shape))||this}return i(e,t),e.prototype.validate=function(){},e.X="x",e}(p);e.TanHNode=N;var C=function(t){function e(e,r){return t.call(this,e,"Sigmoid",{x:r},new f(r.shape))||this}return i(e,t),e.prototype.validate=function(){},e.X="x",e}(p);e.SigmoidNode=C;var P=function(t){function e(e,r){return t.call(this,e,"Square",{x:r},new f(r.shape))||this}return i(e,t),e.prototype.validate=function(){},e.X="x",e}(p);e.SquareNode=P;var D=function(t){function e(e,r,n){var i=t.call(this,e,"SoftmaxCrossEntropyCost",{x:r,target:n},new f([]))||this;return i.x=r,i.target=n,i}return i(e,t),e.prototype.validate=function(){c.assert(c.arraysEqual(this.x.shape,this.target.shape),"Error adding softmaxCrossEntropyCost op: x shape ("+this.x.shape+") must match target shape ("+this.target.shape+").")},e.X="x",e.TARGET="target",e}(p);e.SoftmaxCrossEntropyCostNode=D;var L=function(t){function e(e,r){var n=t.call(this,e,"Softmax",{x:r},new f(r.shape))||this;return n.x=r,n}return i(e,t),e.prototype.validate=function(){c.assert(1===this.x.shape.length,"The input to a softmax must be a 1-D tensor"),c.assert(this.x.shape[0]>=2,"The input to a softmax must have at least 2 values")},e.X="x",e}(p);e.SoftmaxNode=L;var B=function(t){function e(e,r,n){var i=t.call(this,e,"Mean Squared Cost",{label:r,prediction:n},new f([]))||this;return i.label=r,i.prediction=n,i}return i(e,t),e.prototype.validate=function(){c.assert(c.arraysEqual(this.label.shape,this.prediction.shape),"Error adding meanSquaredCost op: label shape ("+this.label.shape+") must match prediction shape ("+this.prediction.shape+").")},e.LABEL="label",e.PREDICTION="prediction",e}(p);e.MeanSquaredCostNode=B;var F=function(t){function e(e,r){var n=t.call(this,e,"ArgMax",{x:r},new f([1]))||this;return n.x=r,n}return i(e,t),e.prototype.validate=function(){c.assert(c.sizeFromShape(this.x.shape)>0,"Error adding argmax op: input tensor must have at least one entry.")},e.X="x",e}(p);e.ArgMaxNode=F;var j=function(t){function e(e,r,n){var i=t.call(this,e,"ArgMaxEquals",{x1:r,x2:n},new f([1]))||this;return i.x1=r,i.x2=n,i}return i(e,t),e.prototype.validate=function(){c.assert(c.arraysEqual(this.x1.shape,this.x2.shape),"Error adding ArgMaxEquals op: x1 shape ("+this.x1.shape+") must match x2 shape ("+this.x2.shape+").")},e.X1="x1",e.X2="x2",e}(p);e.ArgMaxEqualsNode=j},1946:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2975),i=r(6902),o=r(6902);e.getUnorderedEvaluationSet=function(t,e){var r={},n={},i=[],o=t.slice();e.forEach((function(t){return r[t.id]=t}));for(var a=function(){var t=o.pop();null==n[t.id]&&(null==r[t.id]&&Object.keys(t.inputs).map((function(e){return t.inputs[e]})).forEach((function(t){return o.push(t.node)})),i.push(t),n[t.id]=t)};0!==o.length;)a();return i},e.getOrderedEvaluationSet=function(t){var e=[],r={},n={},a=new o.PriorityQueue((function(t,e){return i.defaultCompare(n[t.id],n[e.id])}),(function(t,e){return r[t.id]=e}));for(t.forEach((function(t){return n[t.id]=0})),t.forEach((function(e){return Object.keys(e.inputs).map((function(t){return e.inputs[t]})).forEach((function(e){-1!==t.indexOf(e.node)&&n[e.node.id]++}))})),t.forEach((function(t){return a.enqueue(t)}));!a.empty();)e.unshift(a.dequeue()),Object.keys(e[0].inputs).map((function(t){return e[0].inputs[t]})).forEach((function(e){-1!==t.indexOf(e.node)&&(n[e.node.id]--,a.update(e.node,r[e.node.id]))}));return e},e.isInputNode=function(t){return 0===Object.keys(t.inputs).length},e.shouldBackProp=function(t){return!(t.node instanceof n.ConstantNode)},e.isPassthroughNode=function(t,e){for(var r=Object.keys(t.inputs),n=0;n<r.length;n++){var i=t.inputs[r[n]];if(e.get(i,!0)===e.get(t.output,!0))return!0}return!1}},5054:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2975),i=r(1946),o=r(987),a=r(3644),s=r(7510),u=r(6618),c=r(6756),l=r(3122),h=r(5212),f=r(5005),p=r(7433),d=r(575),y=r(4366),g=r(5224),v=r(2989),m=r(6261),b=r(7834),w=r(6103),_=r(2570),x=r(9201);e.emitFromGraphNodes=function(t){var e=[];return t.forEach((function(t){return Array.prototype.push.apply(e,function(t){if(t instanceof n.ReshapeNode)return[new w.Reshape(t.inputs[n.ReshapeNode.X],t.output)];if(t instanceof n.MatMulNode){var e=t.inputs[n.MatMulNode.X1],r=t.inputs[n.MatMulNode.X2];return[new g.MatMul(e,r,t.output)]}if(t instanceof n.Convolution2DNode){var E=t.inputs[n.Convolution2DNode.W],A=t.inputs[n.Convolution2DNode.X],S=t.inputs[n.Convolution2DNode.B];return[new c.Convolution2D(E,A,S,t.output,t.fieldSize,t.outputDepth,t.stride,t.zeroPad)]}if(t instanceof n.MaxPoolNode)return A=t.inputs[n.MaxPoolNode.X],[new v.MaxPool(A,t.output,t.fieldSize,t.stride,t.zeroPad)];if(t instanceof n.ExpNode)return[new p.Exp(t.inputs[n.ExpNode.X],t.output)];if(t instanceof n.LogNode)return[new y.Log(t.inputs[n.LogNode.X],t.output)];if(t instanceof n.ReLUNode)return[new h.ReLU(t.inputs[n.ReLUNode.X],t.output)];if(t instanceof n.LeakyReLUNode)return[new h.LeakyReLU(t.inputs[n.LeakyReLUNode.X],t.output,t.alpha)];if(t instanceof n.TanHNode)return[new h.TanH(t.inputs[n.TanHNode.X],t.output)];if(t instanceof n.SigmoidNode)return[new h.Sigmoid(t.inputs[n.SigmoidNode.X],t.output)];if(t instanceof n.SoftmaxCrossEntropyCostNode){A=t.inputs[n.SoftmaxCrossEntropyCostNode.X];var T=t.inputs[n.SoftmaxCrossEntropyCostNode.TARGET];return[new _.SoftmaxCrossEntropyCost(A,T,t.output)]}if(t instanceof n.SoftmaxNode)return[new _.Softmax(t.inputs[n.SoftmaxNode.X],t.output)];if(t instanceof n.MeanSquaredCostNode){var k=t.inputs[n.MeanSquaredCostNode.LABEL],O=t.inputs[n.MeanSquaredCostNode.PREDICTION];return[new f.MeanSquaredCost(k,O,t.output)]}if(t instanceof n.ArgMaxEqualsNode)return[new s.ArgMaxEquals(t.inputs[n.ArgMaxEqualsNode.X1],t.inputs[n.ArgMaxEqualsNode.X2],t.output)];if(t instanceof n.ArgMaxNode)return[new a.ArgMax(t.x,t.output)];if(t instanceof n.FusedLinearCombinationNode)return[new d.LinearCombination(t.inputs[n.FusedLinearCombinationNode.T1],t.inputs[n.FusedLinearCombinationNode.T2],t.inputs[n.FusedLinearCombinationNode.C1],t.inputs[n.FusedLinearCombinationNode.C2],t.output)];if(t instanceof n.Concat3DNode)return[new u.Concat3D(t.inputs[n.Concat3DNode.X1],t.inputs[n.Concat3DNode.X2],t.axis,t.output)];if(t instanceof n.SquareNode)return[new h.Square(t.inputs[n.SquareNode.X],t.output)];if(t instanceof n.AddNode)return[new o.Add(t.inputs[n.AddNode.T1],t.inputs[n.AddNode.T2],t.output)];if(t instanceof n.SubtractNode)return[new x.Subtract(t.inputs[n.SubtractNode.T1],t.inputs[n.SubtractNode.T2],t.output)];if(t instanceof n.MultiplyNode)return[new m.Multiply(t.inputs[n.MultiplyNode.T1],t.inputs[n.MultiplyNode.T2],t.output)];if(t instanceof n.DivideNode)return[new l.Divide(t.inputs[n.DivideNode.T1],t.inputs[n.DivideNode.T2],t.output)];if(t instanceof n.ReduceSumNode)return[new b.ReduceSum(t.inputs[n.ReduceSumNode.X],t.output)];if(i.isInputNode(t))return[];throw Error("Unsupported node type: "+t.constructor.name)}(t))})),e}},987:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(193),s=r(1946),u=function(t){function e(e,r,n){var i=t.call(this)||this;return i.x1Tensor=e,i.x2Tensor=r,i.yTensor=n,a.assert(1===a.sizeFromShape(e.shape)||1===a.sizeFromShape(r.shape)||a.arraysEqual(e.shape,r.shape),"One of t1 or t2 must be a scalar, or t1 and t2 must have the same shape"),i}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.x1Tensor),i=e.get(this.x2Tensor);t.scope((function(o){var s;s=a.isScalarShape(n.shape)?t.scalarPlusArray(n,i):a.isScalarShape(i.shape)?t.scalarPlusArray(i,n):t.add(n,i),e.set(r.yTensor,o(s))}))},e.prototype.backProp=function(t,e,r){var n=this,i=r.get(this.yTensor);t.scope((function(){if(s.shouldBackProp(n.x1Tensor))if(a.isScalarShape(n.x1Tensor.shape)){var e=t.sum(i);null==n.dySizeScalar&&(n.dySizeScalar=o.Scalar.new(i.size)),r.add(n.x1Tensor,t.divide(e,n.dySizeScalar))}else r.add(n.x1Tensor,t.clone(i));s.shouldBackProp(n.x2Tensor)&&(a.isScalarShape(n.x2Tensor.shape)?(e=t.sum(i),null==n.dySizeScalar&&(n.dySizeScalar=o.Scalar.new(i.size)),r.add(n.x2Tensor,t.divide(e,n.dySizeScalar))):r.add(n.x2Tensor,t.clone(i)))}))},e.prototype.dispose=function(){null!=this.dySizeScalar&&this.dySizeScalar.dispose()},e}(r(6185).Operation);e.Add=u},3644:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var n=t.call(this)||this;return n.xTensor=e,n.yTensor=r,n}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.xTensor);t.scope((function(i){e.set(r.yTensor,i(t.argMax(n)))}))},e.prototype.backProp=function(t,e,r){throw new Error("ArgMax backprop unimplemented")},e}(r(6185).Operation);e.ArgMax=o},7510:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,n){var i=t.call(this)||this;return i.x1Tensor=e,i.x2Tensor=r,i.yTensor=n,i}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.x1Tensor),i=e.get(this.x2Tensor);t.scope((function(o){e.set(r.yTensor,o(t.argMaxEquals(n,i)))}))},e.prototype.backProp=function(t,e,r){throw new Error("ArgMaxEquals backprop unimplemented")},e}(r(6185).Operation);e.ArgMaxEquals=o},6618:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(7950),a=function(t){function e(e,r,n,i){var a=t.call(this)||this;return a.x1Tensor=e,a.x2Tensor=r,a.axis=n,a.yTensor=i,o.assertParams(e.shape,r.shape,n),a}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.x1Tensor),i=e.get(this.x2Tensor);t.scope((function(o){var a=t.concat3D(n,i,r.axis);e.set(r.yTensor,o(a))}))},e.prototype.backProp=function(t,e,r){throw new Error("Concat3D backprop not implemented.")},e}(r(6185).Operation);e.Concat3D=a},6756:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(7819),a=r(193),s=function(t){function e(e,r,n,i,s,u,c,l){void 0===c&&(c=1);var h=t.call(this)||this;return h.wTensor=e,h.xTensor=r,h.bTensor=n,h.yTensor=i,h.fieldSize=s,h.outputDepth=u,h.stride=c,h.assertWeightsShape(e.shape),h.zeroPad=null!=l?l:o.computeDefaultPad(h.xTensor.shape,h.fieldSize,h.stride),a.assert(a.isInt(h.zeroPad),"The zero padding ("+h.zeroPad+") must be an integer. Change the stride and/or zero pad parameters"),h}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.wTensor),i=e.get(this.bTensor),o=e.get(this.xTensor);t.scope((function(a){e.set(r.yTensor,a(t.conv2d(o,n,i,r.stride,r.zeroPad)))}))},e.prototype.backProp=function(t,e,r){var n=this,i=e.get(this.wTensor),o=e.get(this.xTensor),a=r.get(this.yTensor);t.scope((function(){var e=t.conv2dBackProp(o,a,i,n.stride,n.zeroPad),s=e.dw,u=e.db,c=e.dx;r.add(n.wTensor,s),r.add(n.bTensor,u),r.add(n.xTensor,c)}))},e.prototype.assertWeightsShape=function(t){a.assert(t[0]===this.fieldSize&&t[1]===this.fieldSize&&t[2]===this.xTensor.shape[2]&&t[3]===this.outputDepth,"weights must be of shape ["+this.fieldSize+","+this.fieldSize+","+this.xTensor.shape[2]+","+this.outputDepth+"] but they are ofshape ["+t+"]")},e}(r(6185).Operation);e.Convolution2D=s},3122:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(193),a=r(1946),s=function(t){function e(e,r,n){var i=t.call(this)||this;return i.x1Tensor=e,i.x2Tensor=r,i.yTensor=n,o.assert(1===o.sizeFromShape(e.shape)||1===o.sizeFromShape(r.shape)||o.arraysEqual(e.shape,r.shape),"One of t1 or t2 must be a scalar, or t1 and t2 must have the same shape"),i}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.x1Tensor),i=e.get(this.x2Tensor);t.scope((function(a){var s;s=o.isScalarShape(n.shape)?t.scalarDividedByArray(n,i):o.isScalarShape(i.shape)?t.arrayDividedByScalar(n,i):t.divide(n,i),e.set(r.yTensor,a(s))}))},e.prototype.backProp=function(t,e,r){var n=this,i=e.get(this.x1Tensor),s=e.get(this.x2Tensor),u=r.get(this.yTensor),c=o.isScalarShape(i.shape),l=o.isScalarShape(s.shape);t.scope((function(){if(a.shouldBackProp(n.x1Tensor))if(c){var e=t.divide(u,s);r.add(n.x1Tensor,t.sum(e)),e.dispose()}else l?r.add(n.x1Tensor,t.arrayDividedByScalar(u,s)):r.add(n.x1Tensor,t.divide(u,s));if(a.shouldBackProp(n.x2Tensor)){var o,h=t.elementWiseMul(s,s);o=l?t.arrayDividedByScalar(i,h):c?t.scalarDividedByArray(i,h):t.divide(i,h);var f=t.neg(o),p=t.elementWiseMul(u,f);l?r.add(n.x2Tensor,t.sum(p)):r.add(n.x2Tensor,p)}}))},e}(r(6185).Operation);e.Divide=s},5212:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1569),a=function(t){function e(e,r,n){var i=t.call(this)||this;return i.xTensor=e,i.yTensor=r,i.func=n,i}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.xTensor);t.scope((function(i){e.set(r.yTensor,i(r.func.output(t,n)))}))},e.prototype.backProp=function(t,e,r){var n=this,i=e.get(this.xTensor),o=e.get(this.yTensor),a=r.get(this.yTensor);t.scope((function(){var e=n.func.der(t,i,o);r.add(n.xTensor,t.elementWiseMul(a,e)),e.dispose()}))},e.prototype.dispose=function(){this.func.dispose()},e}(r(6185).Operation);e.ElementWiseActivation=a;var s=function(t){function e(e,r){return t.call(this,e,r,new o.ReLUFunc)||this}return i(e,t),e}(a);e.ReLU=s;var u=function(t){function e(e,r,n){return t.call(this,e,r,new o.LeakyReluFunc(n))||this}return i(e,t),e}(a);e.LeakyReLU=u;var c=function(t){function e(e,r){return t.call(this,e,r,new o.TanHFunc)||this}return i(e,t),e}(a);e.TanH=c;var l=function(t){function e(e,r){return t.call(this,e,r,new o.SigmoidFunc)||this}return i(e,t),e}(a);e.Sigmoid=l;var h=function(t){function e(e,r){return t.call(this,e,r,new o.SquareFunc)||this}return i(e,t),e}(a);e.Square=h},5005:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(3426),a=r(5695),s=r(193),u=r(1946),c=function(t){function e(e,r,n,i){var o=t.call(this)||this;return o.x1Tensor=e,o.x2Tensor=r,o.yTensor=n,o.func=i,o.oneOverNScalar=a.Scalar.new(1/s.sizeFromShape(e.shape)),o}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.x1Tensor),i=e.get(this.x2Tensor);t.scope((function(o){var a=r.func.cost(t,n,i),s=t.sum(a),u=t.scalarTimesArray(r.oneOverNScalar,s);e.set(r.yTensor,o(u))}))},e.prototype.backProp=function(t,e,r){var n=this,i=e.get(this.x1Tensor),o=e.get(this.x2Tensor);t.scope((function(){u.shouldBackProp(n.x1Tensor)&&r.add(n.x1Tensor,n.func.der(t,i,o)),u.shouldBackProp(n.x2Tensor)&&r.add(n.x2Tensor,n.func.der(t,o,i))}))},e.prototype.dispose=function(){this.func.dispose(),this.oneOverNScalar.dispose()},e}(r(6185).Operation);e.ElementWiseCost=c;var l=function(t){function e(e,r,n){return t.call(this,e,r,n,new o.SquareCostFunc)||this}return i(e,t),e}(c);e.MeanSquaredCost=l},7433:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1946),a=function(t){function e(e,r){var n=t.call(this)||this;return n.xTensor=e,n.yTensor=r,n}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.xTensor);t.scope((function(i){e.set(r.yTensor,i(t.exp(n)))}))},e.prototype.backProp=function(t,e,r){var n=this,i=e.get(this.yTensor),a=r.get(this.yTensor);t.scope((function(){o.shouldBackProp(n.xTensor)&&r.add(n.xTensor,t.elementWiseMul(i,a))}))},e}(r(6185).Operation);e.Exp=a},575:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1946),a=function(t){function e(e,r,n,i,o){var a=t.call(this)||this;return a.x1Tensor=e,a.x2Tensor=r,a.c1Tensor=n,a.c2Tensor=i,a.outTensor=o,a}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.x1Tensor),i=e.get(this.x2Tensor),o=e.get(this.c1Tensor).asScalar(),a=e.get(this.c2Tensor).asScalar();t.scope((function(s){e.set(r.outTensor,s(t.scaledArrayAdd(o,n,a,i)))}))},e.prototype.backProp=function(t,e,r){var n=this,i=e.get(this.x1Tensor),a=e.get(this.x2Tensor),s=e.get(this.c1Tensor),u=e.get(this.c2Tensor),c=r.get(this.outTensor);t.scope((function(){if(o.shouldBackProp(n.x1Tensor)&&r.add(n.x1Tensor,t.scalarTimesArray(s,c)),o.shouldBackProp(n.x2Tensor)&&r.add(n.x2Tensor,t.scalarTimesArray(u,c)),o.shouldBackProp(n.c1Tensor)){var e=t.elementWiseMul(i,c);r.add(n.c1Tensor,t.sum(e))}if(o.shouldBackProp(n.c2Tensor)){var l=t.elementWiseMul(a,c);r.add(n.c2Tensor,t.sum(l))}}))},e}(r(6185).Operation);e.LinearCombination=a},4366:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(1946),a=function(t){function e(e,r){var n=t.call(this)||this;return n.xTensor=e,n.yTensor=r,n}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.xTensor);t.scope((function(i){e.set(r.yTensor,i(t.log(n)))}))},e.prototype.backProp=function(t,e,r){var n=this,i=e.get(this.xTensor),a=r.get(this.yTensor);t.scope((function(){o.shouldBackProp(n.xTensor)&&r.add(n.xTensor,t.divide(a,i))}))},e}(r(6185).Operation);e.Log=a},5224:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(3287),a=r(1946),s=function(t){function e(e,r,n){var i=t.call(this)||this;return i.x1Tensor=e,i.x2Tensor=r,i.yTensor=n,i}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.x1Tensor),i=e.get(this.x2Tensor);t.scope((function(o){2===n.shape.length&&2===i.shape.length?e.set(r.yTensor,o(t.matMul(n,i))):2===n.shape.length&&1===i.shape.length?e.set(r.yTensor,o(t.matrixTimesVector(n,i))):1===n.shape.length&&2===i.shape.length&&e.set(r.yTensor,o(t.vectorTimesMatrix(n,i)))}))},e.prototype.backProp=function(t,e,r){var n=this,i=e.get(this.x1Tensor),s=e.get(this.x2Tensor),u=r.get(this.yTensor);1===i.shape.length&&(i=i.reshape([1,i.size]),u=u.reshape([1,u.size])),1===s.shape.length&&(s=s.reshape([s.size,1]),u=u.reshape([u.size,1])),t.scope((function(){if(a.shouldBackProp(n.x1Tensor)){var e=t.matMul(u,s,o.MatrixOrientation.REGULAR,o.MatrixOrientation.TRANSPOSED);r.add(n.x1Tensor,1===n.x1Tensor.shape.length?e.as1D():e)}if(a.shouldBackProp(n.x2Tensor)){var c=t.matMul(i,u,o.MatrixOrientation.TRANSPOSED,o.MatrixOrientation.REGULAR);r.add(n.x2Tensor,1===n.x2Tensor.shape.length?c.as1D():c)}}))},e}(r(6185).Operation);e.MatMul=s},2989:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(7819),a=r(193),s=function(t){function e(e,r,n,i,s){void 0===i&&(i=1);var u=t.call(this)||this;return u.xTensor=e,u.yTensor=r,u.fieldSize=n,u.stride=i,u.pad=null!=s?s:o.computeDefaultPad(e.shape,u.fieldSize,u.stride),a.assert(a.isInt(u.pad),"The zero padding ("+u.pad+") must be an integer. Change the stride and/or zero pad parameters"),u}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.xTensor);t.scope((function(i){e.set(r.yTensor,i(t.maxPool(n,r.fieldSize,r.stride,r.pad)))}))},e.prototype.backProp=function(t,e,r){var n=this,i=e.get(this.xTensor),o=r.get(this.yTensor);t.scope((function(){r.add(n.xTensor,t.maxPoolBackprop(o,i,n.fieldSize,n.stride,n.pad))}))},e}(r(6185).Operation);e.MaxPool=s},6261:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(193),a=r(1946),s=function(t){function e(e,r,n){var i=t.call(this)||this;return i.x1Tensor=e,i.x2Tensor=r,i.yTensor=n,o.assert(1===o.sizeFromShape(e.shape)||1===o.sizeFromShape(r.shape)||o.arraysEqual(e.shape,r.shape),"One of t1 or t2 must be a scalar, or t1 and t2 must have the same shape"),i}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.x1Tensor),i=e.get(this.x2Tensor);t.scope((function(a){var s;s=o.isScalarShape(n.shape)?t.scalarTimesArray(n,i):o.isScalarShape(i.shape)?t.scalarTimesArray(i,n):t.elementWiseMul(n,i),e.set(r.yTensor,a(s))}))},e.prototype.backProp=function(t,e,r){var n=this,i=e.get(this.x1Tensor),s=e.get(this.x2Tensor),u=r.get(this.yTensor);t.scope((function(){if(a.shouldBackProp(n.x1Tensor))if(o.isScalarShape(n.x1Tensor.shape)){var e=t.elementWiseMul(u,s);r.add(n.x1Tensor,t.sum(e))}else o.isScalarShape(s.shape)?r.add(n.x1Tensor,t.scalarTimesArray(s,u)):r.add(n.x1Tensor,t.elementWiseMul(s,u));a.shouldBackProp(n.x2Tensor)&&(o.isScalarShape(n.x2Tensor.shape)?(e=t.elementWiseMul(u,i),r.add(n.x2Tensor,t.sum(e))):o.isScalarShape(i.shape)?r.add(n.x2Tensor,t.scalarTimesArray(i,u)):r.add(n.x2Tensor,t.elementWiseMul(i,u)))}))},e}(r(6185).Operation);e.Multiply=s},6185:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.disposeTransientArrays=function(t,e){},t.prototype.dispose=function(){},t}();e.Operation=r},7834:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(193),s=r(1946),u=function(t){function e(e,r){var n=t.call(this)||this;return n.x=e,n.outTensor=r,a.assertShapesMatch(r.shape,[]),n}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.x);t.scope((function(i){e.set(r.outTensor,i(t.sum(n)))}))},e.prototype.backProp=function(t,e,r){var n=this;s.shouldBackProp(this.x)&&t.scope((function(){var i=r.get(n.outTensor);if(null==n.ones){var a=e.get(n.x);n.ones=o.NDArray.zerosLike(a),n.ones.fill(1)}r.add(n.x,t.scalarTimesArray(i,n.ones))}))},e}(r(6185).Operation);e.ReduceSum=u},6103:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(193),a=function(t){function e(e,r){var n=t.call(this)||this;n.xTensor=e,n.yTensor=r;var i=o.sizeFromShape(e.shape),a=o.sizeFromShape(r.shape);return o.assert(i===a,"The input size ("+i+") and output size ("+a+") must match"),n}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.xTensor),i=t.clone(n);t.scope((function(t){e.set(r.yTensor,t(i.reshape(r.yTensor.shape)))}))},e.prototype.backProp=function(t,e,r){var n=this,i=r.get(this.yTensor),o=t.clone(i);t.scope((function(){r.add(n.xTensor,o.reshape(n.xTensor.shape))}))},e}(r(6185).Operation);e.Reshape=a},2570:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(193),s=r(2975),u=r(6185),c=function(t){function e(e,r){var n=t.call(this)||this;return n.logitsTensor=e,n.output=r,n}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.logitsTensor);return t.scope((function(i){e.set(r.output,i(t.softmax(n)))}))},e.prototype.backProp=function(){throw Error("Softmax backprop is not yet implemented")},e}(u.Operation);e.Softmax=c;var l=function(t){function e(e,r,n){var i=t.call(this)||this;return i.logitsTensor=e,i.labelTensor=r,i.yTensor=n,i.epsilon=o.Scalar.new(1e-5),i.softmaxTensor=new s.Tensor(e.shape),i}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.logitsTensor),i=e.get(this.labelTensor);t.scope((function(o){var a=t.softmax(n);e.set(r.softmaxTensor,o(a)),e.set(r.yTensor,o(h(t,a,i,r.epsilon)))}))},e.prototype.backProp=function(t,e,r){var n=this,i=e.get(this.softmaxTensor),o=e.get(this.labelTensor);t.scope((function(){r.add(n.logitsTensor,t.subtract(i,o))}))},e.prototype.disposeTransientArrays=function(t,e){t.disposeArray(this.softmaxTensor)},e.prototype.dispose=function(){this.epsilon.dispose()},e}(u.Operation);function h(t,e,r,n){return a.assert(e.size===r.size,"The output and target must be the same size"),t.scope((function(){var i=t.scalarPlusArray(n,e),o=t.log(i),a=t.elementWiseMul(r,o),s=t.neg(a);return t.sum(s)}))}e.SoftmaxCrossEntropyCost=l,e.crossEntropyCost=h},9201:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(193),s=r(1946),u=function(t){function e(e,r,n){var i=t.call(this)||this;return i.t1=e,i.t2=r,i.outTensor=n,a.assert(1===a.sizeFromShape(e.shape)||1===a.sizeFromShape(r.shape)||a.arraysEqual(e.shape,r.shape),"One of t1 or t2 must be a scalar, or t1 and t2 must have the same shape"),i}return i(e,t),e.prototype.feedForward=function(t,e){var r=this,n=e.get(this.t1),i=e.get(this.t2);t.scope((function(o){var s;s=a.isScalarShape(n.shape)?t.scalarMinusArray(n,i):a.isScalarShape(i.shape)?t.arrayMinusScalar(n,i):t.subtract(n,i),e.set(r.outTensor,o(s))}))},e.prototype.backProp=function(t,e,r){var n=this,i=r.get(this.outTensor);t.scope((function(){if(s.shouldBackProp(n.t1))if(a.isScalarShape(n.t1.shape)){var e=t.sum(i);null==n.dySizeScalar&&(n.dySizeScalar=o.Scalar.new(i.size)),r.add(n.t1,t.divide(e,n.dySizeScalar))}else r.add(n.t1,t.clone(i));if(s.shouldBackProp(n.t2))if(a.isScalarShape(n.t2.shape)){e=t.sum(i);var u=t.neg(e);null==n.dySizeScalar&&(n.dySizeScalar=o.Scalar.new(i.size)),r.add(n.t2,t.divide(u,n.dySizeScalar))}else r.add(n.t2,t.neg(i))}))},e.prototype.dispose=function(){null!=this.dySizeScalar&&this.dySizeScalar.dispose()},e}(r(6185).Operation);e.Subtract=u},2029:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(7984),s=function(t){function e(e,r,n){var i=t.call(this,e,n)||this;return i.learningRate=e,i.gamma=r,i.accumulatedSquaredGradients=new a.TensorArrayMap,i.accumulatedUpdates=new a.TensorArrayMap,i.eps=o.Scalar.new(1e-6),i.g=o.Scalar.new(i.gamma),i}return i(e,t),e.prototype.beforeBatch=function(e,r,n,i,a){var s=this;t.prototype.beforeBatch.call(this,e,r,n,i,a),0===this.accumulatedSquaredGradients.size()&&this.variableNodes.forEach((function(t){s.accumulatedSquaredGradients.set(t.output,o.NDArray.zeros(t.output.shape)),s.accumulatedUpdates.set(t.output,o.NDArray.zeros(t.output.shape))}))},e.prototype.afterBatch=function(t,e,r,n,i){var o=this;t.scope((function(e){o.variableNodes.forEach((function(r){var i=n.get(r.output),a=o.variableGradients.get(r.output),s=o.accumulatedSquaredGradients.get(r.output),u=o.accumulatedUpdates.get(r.output),c=t.multiply(a,a),l=t.scaledArrayAdd(o.g,s,t.subtract(o.one,o.g),c),h=t.multiply(t.divide(t.sqrt(t.add(u,o.eps)),t.sqrt(t.add(s,o.eps))),a),f=t.scaledArrayAdd(o.c,h,o.one,i),p=t.multiply(h,h),d=t.scaledArrayAdd(o.g,u,t.subtract(o.one,o.g),p);o.accumulatedSquaredGradients.set(r.output,e(l)),o.accumulatedUpdates.set(r.output,e(d)),n.set(r.output,e(f)),r.data=f,i.dispose(),s.dispose(),u.dispose()}))})),this.variableGradients.dispose(),this.variableGradients=new a.TensorArrayMap},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.eps.dispose(),this.g.dispose(),this.accumulatedSquaredGradients.dispose(),this.accumulatedUpdates.dispose()},e}(r(778).Optimizer);e.AdadeltaOptimizer=s},2239:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(7984),s=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.learningRate=e,n.accumulatedSquaredGradients=new a.TensorArrayMap,n.eps=o.Scalar.new(1e-6),n}return i(e,t),e.prototype.beforeBatch=function(e,r,n,i,a){var s=this;t.prototype.beforeBatch.call(this,e,r,n,i,a),0===this.accumulatedSquaredGradients.size()&&this.variableNodes.forEach((function(t){s.accumulatedSquaredGradients.set(t.output,o.NDArray.zeros(t.output.shape))}))},e.prototype.afterBatch=function(t,e,r,n,i){var o=this;t.scope((function(e){o.variableNodes.forEach((function(r){var i=n.get(r.output),a=o.variableGradients.get(r.output),s=o.accumulatedSquaredGradients.get(r.output),u=t.multiply(a,a),c=t.add(s,u),l=t.scaledArrayAdd(o.c,t.divide(a,t.add(t.sqrt(c),o.eps)),o.one,i);o.accumulatedSquaredGradients.set(r.output,e(c)),n.set(r.output,e(l)),r.data=l,i.dispose(),s.dispose()}))})),this.variableGradients.dispose(),this.variableGradients=new a.TensorArrayMap},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.eps.dispose(),this.accumulatedSquaredGradients.dispose()},e}(r(778).Optimizer);e.AdagradOptimizer=s},5839:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(7984),s=function(t){function e(e,r,n,i){var s=t.call(this,e,i)||this;return s.learningRate=e,s.beta1=r,s.beta2=n,s.firstMoment=new a.TensorArrayMap,s.secondMoment=new a.TensorArrayMap,s.eps=o.Scalar.new(1e-8),s.b1=o.Scalar.new(s.beta1),s.b2=o.Scalar.new(s.beta2),s.accB1=o.Scalar.new(s.beta1),s.accB2=o.Scalar.new(s.beta2),s}return i(e,t),e.prototype.beforeBatch=function(e,r,n,i,a){var s=this;t.prototype.beforeBatch.call(this,e,r,n,i,a),0===this.firstMoment.size()&&this.variableNodes.forEach((function(t){s.firstMoment.set(t.output,o.NDArray.zeros(t.output.shape))})),0===this.secondMoment.size()&&this.variableNodes.forEach((function(t){s.secondMoment.set(t.output,o.NDArray.zeros(t.output.shape))}))},e.prototype.afterBatch=function(t,e,r,n,i){var o=this;t.scope((function(e){o.variableNodes.forEach((function(r){var i=n.get(r.output),a=o.variableGradients.get(r.output),s=o.firstMoment.get(r.output),u=o.secondMoment.get(r.output),c=t.scaledArrayAdd(o.b1,s,t.subtract(o.one,o.b1),a),l=t.multiply(a,a),h=t.scaledArrayAdd(o.b2,u,t.subtract(o.one,o.b2),l),f=t.divide(c,t.subtract(o.one,o.accB1)),p=t.divide(h,t.subtract(o.one,o.accB2)),d=t.scaledArrayAdd(o.c,t.divide(f,t.add(t.sqrt(p),o.eps)),o.one,i);n.set(r.output,e(d)),r.data=d,o.firstMoment.set(r.output,e(c)),o.secondMoment.set(r.output,e(h)),i.dispose(),a.dispose(),s.dispose(),u.dispose()}));var r=o.accB1,i=o.accB2;o.accB1=e(t.multiply(o.accB1,o.b1)),o.accB2=e(t.multiply(o.accB2,o.b2)),r.dispose(),i.dispose()})),this.variableGradients.dispose(),this.variableGradients=new a.TensorArrayMap},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.firstMoment.dispose(),this.secondMoment.dispose(),this.eps.dispose(),this.b1.dispose(),this.b2.dispose(),this.accB1.dispose(),this.accB2.dispose()},e}(r(778).Optimizer);e.AdamOptimizer=s},9336:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(7984),s=function(t){function e(e,r,n,i){var s=t.call(this,e,i)||this;return s.learningRate=e,s.beta1=r,s.beta2=n,s.firstMoment=new a.TensorArrayMap,s.weightedInfNorm=new a.TensorArrayMap,s.eps=o.Scalar.new(1e-8),s.b1=o.Scalar.new(s.beta1),s.b2=o.Scalar.new(s.beta2),s.accB1=o.Scalar.new(s.beta1),s}return i(e,t),e.prototype.beforeBatch=function(e,r,n,i,a){var s=this;t.prototype.beforeBatch.call(this,e,r,n,i,a),0===this.firstMoment.size()&&this.variableNodes.forEach((function(t){s.firstMoment.set(t.output,o.NDArray.zeros(t.output.shape))})),0===this.weightedInfNorm.size()&&this.variableNodes.forEach((function(t){s.weightedInfNorm.set(t.output,o.NDArray.zeros(t.output.shape))}))},e.prototype.afterBatch=function(t,e,r,n,i){var o=this;t.scope((function(e){o.variableNodes.forEach((function(r){var i=n.get(r.output),a=o.variableGradients.get(r.output),s=o.firstMoment.get(r.output),u=o.weightedInfNorm.get(r.output),c=t.scaledArrayAdd(o.b1,s,t.subtract(o.one,o.b1),a),l=t.multiply(o.b2,u),h=t.abs(a),f=t.add(t.relu(t.subtract(l,h)),h),p=t.scaledArrayAdd(o.one,i,t.divide(o.c,t.subtract(o.one,o.accB1)),t.divide(c,t.add(o.eps,f)));n.set(r.output,e(p)),r.data=p,o.firstMoment.set(r.output,e(c)),o.weightedInfNorm.set(r.output,e(f)),i.dispose(),a.dispose(),s.dispose(),u.dispose()}));var r=o.accB1;o.accB1=e(t.multiply(o.accB1,o.b1)),r.dispose()})),this.variableGradients.dispose(),this.variableGradients=new a.TensorArrayMap},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.firstMoment.dispose(),this.weightedInfNorm.dispose(),this.eps.dispose(),this.accB1.dispose(),this.b1.dispose(),this.b2.dispose()},e}(r(778).Optimizer);e.AdamaxOptimizer=s},6140:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(7984),s=function(t){function e(e,r,n){var i=t.call(this,e,n)||this;return i.learningRate=e,i.momentum=r,i.variableVelocities=new a.TensorArrayMap,i.m=o.Scalar.new(i.momentum),i}return i(e,t),e.prototype.beforeBatch=function(e,r,n,i,a){var s=this;t.prototype.beforeBatch.call(this,e,r,n,i,a),0===this.variableVelocities.size()&&this.variableNodes.forEach((function(t){s.variableVelocities.set(t.output,o.NDArray.zeros(t.output.shape))}))},e.prototype.afterBatch=function(t,e,r,n,i){var o=this;t.scope((function(e){o.variableNodes.forEach((function(r){var i=n.get(r.output),a=o.variableGradients.get(r.output),s=o.variableVelocities.get(r.output),u=t.scaledArrayAdd(o.m,s,o.one,a),c=t.scaledArrayAdd(o.c,u,o.one,i);o.variableVelocities.set(r.output,e(u)),n.set(r.output,e(c)),r.data=c,i.dispose(),s.dispose()}))})),this.variableGradients.dispose(),this.variableGradients=new a.TensorArrayMap},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.m.dispose(),this.variableVelocities.dispose()},e.prototype.setMomentum=function(t){this.momentum=t},e}(r(6500).SGDOptimizer);e.MomentumOptimizer=s},778:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5695),i=r(4623),o=r(7984),a=function(){function t(t,e){this.learningRate=t,this.variableGradients=new o.TensorArrayMap,this.one=n.Scalar.new(1),null!=e&&(this.specifiedVariableNodes=e)}return t.prototype.beforeBatch=function(t,e,r,o,a){var s=this;this.variableNodes=null==this.specifiedVariableNodes?i.getVariableNodesFromEvaluationSet(r.nodes):this.specifiedVariableNodes,e!==this.prevBatchSize&&(null!=this.c&&this.c.dispose(),this.prevBatchSize=e,this.c=n.Scalar.new(-this.learningRate/e)),this.variableNodes.forEach((function(t){return s.variableGradients.set(t.output,n.NDArray.zeros(t.output.shape))}))},t.prototype.afterExample=function(t,e,r,n){var i=this;t.scope((function(e){i.variableNodes.forEach((function(r){var o=n.get(r.output),a=i.variableGradients.get(r.output);i.variableGradients.set(r.output,e(t.add(o,a))),a.dispose()}))}))},t.prototype.dispose=function(){null!=this.c&&this.c.dispose(),this.one.dispose()},t}();e.Optimizer=a},1595:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5695),a=r(7984),s=function(t){function e(e,r,n){var i=t.call(this,e,n)||this;return i.learningRate=e,i.gamma=r,i.accumulatedSquaredGradients=new a.TensorArrayMap,i.eps=o.Scalar.new(1e-6),i.g=o.Scalar.new(i.gamma),i}return i(e,t),e.prototype.beforeBatch=function(e,r,n,i,a){var s=this;t.prototype.beforeBatch.call(this,e,r,n,i,a),0===this.accumulatedSquaredGradients.size()&&this.variableNodes.forEach((function(t){s.accumulatedSquaredGradients.set(t.output,o.NDArray.zeros(t.output.shape))}))},e.prototype.afterBatch=function(t,e,r,n,i){var o=this;t.scope((function(e){o.variableNodes.forEach((function(r){var i=n.get(r.output),a=o.variableGradients.get(r.output),s=o.accumulatedSquaredGradients.get(r.output),u=t.multiply(a,a),c=t.scaledArrayAdd(o.g,s,t.subtract(o.one,o.g),u),l=t.scaledArrayAdd(o.c,t.divide(a,t.add(t.sqrt(c),o.eps)),o.one,i);o.accumulatedSquaredGradients.set(r.output,e(c)),n.set(r.output,e(l)),r.data=l,i.dispose(),s.dispose()}))})),this.variableGradients.dispose(),this.variableGradients=new a.TensorArrayMap},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.eps.dispose(),this.g.dispose(),this.accumulatedSquaredGradients.dispose()},e}(r(778).Optimizer);e.RMSPropOptimizer=s},6500:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(7984),a=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.learningRate=e,n}return i(e,t),e.prototype.afterBatch=function(t,e,r,n,i){var a=this;t.scope((function(e){a.variableNodes.forEach((function(r){var i=n.get(r.output),o=a.variableGradients.get(r.output),s=t.scaledArrayAdd(a.c,o,a.one,i);n.set(r.output,e(s)),r.data=s,i.dispose()}))})),this.variableGradients.dispose(),this.variableGradients=new o.TensorArrayMap},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e.prototype.setLearningRate=function(t){this.learningRate=t},e}(r(778).Optimizer);e.SGDOptimizer=a},6902:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultCompare=function(t,e){return t===e?0:t<e?-1:1};var r=function(){function t(t,e){this.comparator=t,this.indexObserver=e,this.heap=[]}return t.prototype.enqueue=function(t){this.heap.push(t),this.onIndexChanged(t,this.heap.length-1),this.siftUp(this.heap.length-1)},t.prototype.dequeue=function(){if(this.empty())throw new Error("dequeue called on empty priority queue.");var t=this.heap[0];return this.swap(0,this.heap.length-1),this.heap.pop(),this.siftDown(0),t},t.prototype.update=function(t,e){var r=e===this.heap.length-1;r||this.swap(e,this.heap.length-1),this.heap.pop(),r||(-1!==this.siftUpIndex(e)?this.siftUp(e):-1!==this.siftDownIndex(e)&&this.siftDown(e)),this.enqueue(t)},t.prototype.empty=function(){return 0===this.heap.length},t.prototype.onIndexChanged=function(t,e){this.indexObserver&&this.indexObserver(t,e)},t.prototype.getParentIndex=function(t){return 0===t?-1:Math.floor((t-1)/2)},t.prototype.getLeftChildIndex=function(t){var e=2*t+1;return e<this.heap.length?e:-1},t.prototype.getRightChildIndex=function(t){var e=2*t+2;return e<this.heap.length?e:-1},t.prototype.siftUpIndex=function(t){var e=this.getParentIndex(t);return-1===e?-1:this.compare(e,t)>0?e:-1},t.prototype.siftUp=function(t){for(var e=this.siftUpIndex(t);-1!==e;)this.swap(t,e),t=e,e=this.siftUpIndex(t)},t.prototype.siftDownIndex=function(t){if(t>=this.heap.length)return-1;var e=t,r=this.getLeftChildIndex(t);-1!==r&&this.compare(r,e)<0&&(e=r);var n=this.getRightChildIndex(t);return-1!==n&&this.compare(n,e)<0&&(e=n),e===t?-1:e},t.prototype.siftDown=function(t){for(var e=this.siftDownIndex(t);-1!==e;)this.swap(t,e),t=e,e=this.siftDownIndex(t)},t.prototype.compare=function(t,e){return this.comparator(this.heap[t],this.heap[e])},t.prototype.swap=function(t,e){var r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,this.onIndexChanged(this.heap[t],t),this.onIndexChanged(this.heap[e],e)},t}();e.PriorityQueue=r},718:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(5695),o=r(193),a=r(5054),s=r(4623),u=r(7984),c=function(t){var e=this;this.dict={},t&&t.forEach((function(t){return e.dict[t.tensor.id]=t}))};e.FeedDictionary=c,function(t){t[t.NONE=0]="NONE",t[t.SUM=1]="SUM",t[t.MEAN=2]="MEAN"}(n=e.CostReduction||(e.CostReduction={}));var l=function(){function t(t,e){this.math=e,this.activationArrayMap=new u.TensorArrayMap,this.runtimeCache={},this.oneScalar=i.Scalar.new(1),this.gradientArrayMap=new u.SummedTensorArrayMap(this.math)}return t.prototype.dispose=function(){var t=this;this.activationArrayMap.dispose(),Object.keys(this.runtimeCache).forEach((function(e){var r=t.runtimeCache[e];r.operations&&r.operations.forEach((function(t){return t.dispose()}))})),this.runtimeCache={},null!=this.batchSizeScalar&&this.batchSizeScalar.dispose(),this.oneScalar.dispose()},t.prototype.evalAll=function(t,e){var r=this;return this.math.scope((function(){var n=new c(e),i=r.getOrCreateRuntime(t,n),o=r.activationArrayMap;s.disposeAndInitializeOperationOutputs(i.nodes,o),s.disposeTransientOperationArrays(i.operations,r.activationArrayMap,r.gradientArrayMap),s.addPersistentArraysToTensorArrayMap(i.nodes,o),s.loadInputsFromFeedDictionaryToTensorArrayMap(n,o,r.math),i.operations.forEach((function(t){return t.feedForward(r.math,o)}));var a=t.map((function(t){return o.get(t)}));return t.forEach((function(t){return o.delete(t)})),s.releaseFeedDictionaryInputsFromTensorArrayMap(n,o,r.math),a}))},t.prototype.eval=function(t,e){return this.evalAll([t],e)[0]},t.prototype.train=function(t,e,r,a,u){var l=this;void 0===u&&(u=n.NONE),o.assert(o.isScalarShape(t.shape),"Cost tensor for training must be a scalar value."),this.prevBatchSize!==r&&(this.prevBatchSize=r,this.batchSizeScalar=i.Scalar.new(r));var h=new c(e);s.throwIfFeedDictionaryContainsNDArrays(h);var f=this.getOrCreateRuntime([t],h),p=f.operations,d=f.operations.slice().reverse(),y=this.activationArrayMap,g=this.gradientArrayMap;return g.nullify(t),g.add(t,this.oneScalar),s.addPersistentArraysToTensorArrayMap(f.nodes,y),a.beforeBatch(this.math,r,f,y,g),this.math.scope((function(e,n){for(var o=n(i.Scalar.new(0)),c=0;c<r;++c)s.disposeAndInitializeOperationOutputs(f.nodes,y),s.disposeAndInitializeOperationInputGradients(f.nodes,g),s.disposeTransientOperationArrays(f.operations,y,g),s.loadInputsFromFeedDictionaryToTensorArrayMap(h,y,l.math),p.forEach((function(t){return t.feedForward(l.math,y)})),d.forEach((function(t){return t.backProp(l.math,y,g)})),a.afterExample(l.math,f,y,g),s.releaseFeedDictionaryInputsFromTensorArrayMap(h,y,l.math),o=l.updateCostForExample(o,y.get(t),u);return a.afterBatch(l.math,r,f,y,g),l.updateCostForBatch(o,u)}))},t.prototype.updateCostForExample=function(t,e,r){return r===n.MEAN||r===n.SUM?this.math.add(t,e):t},t.prototype.updateCostForBatch=function(t,e){return e===n.MEAN?this.math.divide(t,this.batchSizeScalar):t},t.prototype.getOrCreateRuntime=function(t,e){var r=this.makeRuntimeCacheKey(t,e),n=this.runtimeCache[r];if(void 0===n){var i=s.getOrderedEvaluationSetFromEvalTensor(t,e);s.removeFeedDictionaryNodesFromEvaluationSet(e,i),s.throwErrorIfEvaluationSetContainsPlaceholderNodes(i),n={nodes:i,operations:a.emitFromGraphNodes(i)},this.runtimeCache[r]=n}return n},t.prototype.makeRuntimeCacheKey=function(t,e){return t.map((function(t){return t.id})).sort().join("_")+"__"+Object.keys(e.dict).sort().join("_")},t}();e.Session=l},4623:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5695),i=r(193),o=r(2975),a=r(1946);function s(t){return Object.keys(t.dict).map((function(e){return t.dict[+e].tensor.node}))}e.getTerminatingNodesFromFeedDictionary=s,e.getOrderedEvaluationSetFromEvalTensor=function(t,e){var r=s(e),n=t.map((function(t){return t.node})),i=a.getUnorderedEvaluationSet(n,r);return a.getOrderedEvaluationSet(i)},e.addPersistentArraysToTensorArrayMap=function(t,e){t.forEach((function(t){(t instanceof o.VariableNode||t instanceof o.ConstantNode)&&e.set(t.output,t.data)}))},e.getVariableNodesFromEvaluationSet=function(t){var e=[];return t.forEach((function(t){t instanceof o.VariableNode&&e.push(t)})),e},e.throwIfFeedDictionaryContainsNDArrays=function(t){Object.keys(t.dict).forEach((function(e){if(t.dict[+e].data instanceof n.NDArray)throw new Error("training requires FeedDictionary entries to be InputProvidersand not NDArrays.")}))},e.loadInputsFromFeedDictionaryToTensorArrayMap=function(t,e,r){Object.keys(t.dict).forEach((function(o){var a,s=t.dict[+o];a=s.data instanceof n.NDArray?s.data:s.data.getNextCopy(r),i.assert(i.arraysEqual(s.tensor.shape,a.shape),"Error loading FeedEntry: feeding NDArray of shape "+a.shape+" does not match Tensor (id: "+s.tensor.id+") shape: "+s.tensor.shape+"."),e.set(s.tensor,a)}))},e.releaseFeedDictionaryInputsFromTensorArrayMap=function(t,e,r){Object.keys(t.dict).forEach((function(i){var o=t.dict[+i];if(!(o.data instanceof n.NDArray)){var a=o.data,s=e.get(o.tensor);a.disposeCopy(r,s)}e.delete(o.tensor)}))},e.removeFeedDictionaryNodesFromEvaluationSet=function(t,e){for(var r=0;r<e.length;){var n=e[r];null!=t.dict[n.output.id]?e.splice(r,1):++r}},e.disposeAndInitializeOperationOutputs=function(t,e){t.forEach((function(t){a.isInputNode(t)||(a.isPassthroughNode(t,e)||e.disposeArray(t.output),e.set(t.output,null))}))},e.disposeAndInitializeOperationInputGradients=function(t,e){t.forEach((function(t){Object.keys(t.inputs).forEach((function(r){var n=t.inputs[r];e.get(n,!0)!==e.get(t.output,!0)&&e.disposeArray(n),e.nullify(n)}))}))},e.disposeTransientOperationArrays=function(t,e,r){t.forEach((function(t){return t.disposeTransientArrays(e,r)}))},e.throwErrorIfEvaluationSetContainsPlaceholderNodes=function(t){t.forEach((function(t){if(t instanceof o.PlaceholderNode){var e="["+t.output.shape.join(", ")+"]";throw new Error('Placeholder node "'+t.name+'" '+e+" not present in feed dictionary.")}}))}},7984:function(t,e){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.dict={}}return t.prototype.get=function(t,e){if(void 0===e&&(e=!1),!e&&void 0===this.dict[t.id])throw new Error("tensor "+t.id+" not in array map.");var r=this.dict[t.id];if(!e&&null===r)throw new Error("tensor "+t.id+" has null array.");return r},t.prototype.delete=function(t){delete this.dict[t.id]},t.prototype.nullify=function(t){this.dict[t.id]=null},t.prototype.disposeArray=function(t){if(void 0!==this.dict[t.id]){var e=this.dict[t.id];null!==e&&(e.dispose(),this.dict[t.id]=null)}},t.prototype.size=function(){return Object.keys(this.dict).length},t.prototype.dispose=function(){var t=this;Object.keys(this.dict).forEach((function(e){var r=t.dict[+e];r&&r.dispose()})),this.dict={}},t.prototype.hasNullArray=function(t){if(void 0===this.dict[t.id])throw new Error("tensor "+t.id+" not in array map.");return null===this.dict[t.id]},t}();e.TensorArrayMapBase=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.set=function(t,e){this.dict[t.id]=e},e}(i);e.TensorArrayMap=o;var a=function(t){function e(e){var r=t.call(this)||this;return r.math=e,r}return n(e,t),e.prototype.add=function(t,e){if(null==this.dict[t.id])this.dict[t.id]=this.math.keep(e);else{var r=this.get(t),n=this.math.keep(this.math.addStrict(r,e));this.dict[t.id]=n,r.dispose()}},e}(i);e.SummedTensorArrayMap=a},6775:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(718),o=r(5695);!function(t){t[t.SUM=0]="SUM",t[t.MEAN=1]="MEAN"}(n=e.MetricReduction||(e.MetricReduction={}));var a=function(){function t(t,e,r){this.math=t,this.session=e,this.eventObserver=r,this.lastCostTimestamp=0,this.lastEvalTimestamp=0,this.totalIdleTimeMs=0,this.resetStatistics(),this.zeroScalar=o.Scalar.new(0)}return t.prototype.resetStatistics=function(){this.totalBatchesTrained=0,this.totalIdleTimeMs=0,this.lastStopTimestamp=null},t.prototype.train=function(t,e,r,i,a,s,u,c,l,h,f){void 0===l&&(l=n.MEAN),void 0===h&&(h=1500),void 0===f&&(f=500),this.costTensor=t,this.trainFeedEntries=e,this.metricTensor=s,this.metricFeedEntries=u,null!=c&&this.metricBatchSize!==c&&(null!=this.metricBatchSizeScalar&&this.metricBatchSizeScalar.dispose(),this.metricBatchSizeScalar=o.Scalar.new(c)),this.metricBatchSize=c,this.metricReduction=l,this.batchSize=r,this.optimizer=i,this.metricIntervalMs=h,this.costIntervalMs=f,this.currentTrainLoopNumBatches=a,this.batchesTrainedThisRun=0,this.isTraining=!0,this.trainStartTimestamp=performance.now(),this.trainNetwork()},t.prototype.stopTraining=function(){this.isTraining=!1,this.lastStopTimestamp=performance.now()},t.prototype.resumeTraining=function(){this.isTraining=!0,null!=this.lastStopTimestamp&&(this.totalIdleTimeMs+=performance.now()-this.lastStopTimestamp),this.trainNetwork()},t.prototype.trainNetwork=function(){var t=this;if(this.batchesTrainedThisRun===this.currentTrainLoopNumBatches&&this.stopTraining(),this.isTraining){var e=performance.now(),r=null!=this.eventObserver.avgCostCallback&&e-this.lastCostTimestamp>this.costIntervalMs;r&&(this.lastCostTimestamp=e);var n=r?i.CostReduction.MEAN:i.CostReduction.NONE;this.math.scope((function(i){var o=t.session.train(t.costTensor,t.trainFeedEntries,t.batchSize,t.optimizer,n);if(r){var a=performance.now()-e;if(t.eventObserver.avgCostCallback(o),null!=t.eventObserver.trainExamplesPerSecCallback){var s=1e3*t.batchSize/a;t.eventObserver.trainExamplesPerSecCallback(s)}}null!=t.eventObserver.metricCallback&&null!=t.metricFeedEntries&&e-t.lastEvalTimestamp>t.metricIntervalMs&&(t.lastEvalTimestamp=e,null!=t.lastComputedMetric&&t.lastComputedMetric.dispose(),t.lastComputedMetric=t.computeMetric(),t.eventObserver.metricCallback(t.lastComputedMetric)),null!=t.eventObserver.totalTimeCallback&&t.eventObserver.totalTimeCallback((e-t.trainStartTimestamp)/1e3),t.batchesTrainedThisRun++,t.totalBatchesTrained++,null!=t.eventObserver.batchesTrainedCallback&&t.eventObserver.batchesTrainedCallback(t.totalBatchesTrained)})),requestAnimationFrame((function(){return t.trainNetwork()}))}else null!=this.eventObserver.doneTrainingCallback&&this.eventObserver.doneTrainingCallback()},t.prototype.infer=function(t,e,r,n,i){var a=this;if(void 0===r&&(r=3e3),void 0===n&&(n=5),null==this.eventObserver.inferenceExamplesCallback&&null==this.eventObserver.inferenceExamplesPerSecCallback)throw new Error("Cannot start inference loop, no inference example or examples/sec observer provided.");for(var s=0;s<e.length;s++)if(e[s].data instanceof o.NDArray)throw new Error("Cannot start inference on the model runner with feed entries of type NDArray. Please use InputProviders.");this.inferenceExampleIntervalMs=r,this.inferenceTensor=t,this.inferenceFeedEntries=e,this.inferenceExampleCount=n,this.currentInferenceLoopNumPasses=i,this.isInferring||(this.inferencePassesThisRun=0,requestAnimationFrame((function(){return a.inferNetwork()}))),this.isInferring=!0},t.prototype.inferNetwork=function(){var t=this;this.isInferring&&this.inferencePassesThisRun!==this.currentInferenceLoopNumPasses&&(this.math.scope((function(e,r){for(var n=[],i=[],o=performance.now(),a=0;a<t.inferenceExampleCount;a++){for(var s=[],u=0;u<t.inferenceFeedEntries.length;u++){var c=t.inferenceFeedEntries[u],l=c.data.getNextCopy(t.math);s.push({tensor:c.tensor,data:r(l)})}n.push(s),i.push(t.session.eval(t.inferenceTensor,s))}if(null!=t.eventObserver.inferenceExamplesPerSecCallback){i[i.length-1].getValues();var h=performance.now()-o,f=1e3*t.inferenceExampleCount/h;t.eventObserver.inferenceExamplesPerSecCallback(f)}null!=t.eventObserver.inferenceExamplesCallback&&t.eventObserver.inferenceExamplesCallback(n,i),t.inferencePassesThisRun++})),this.lastInferTimeoutID=window.setTimeout((function(){return t.inferNetwork()}),this.inferenceExampleIntervalMs))},t.prototype.stopInferring=function(){this.isInferring=!1,window.clearTimeout(this.lastInferTimeoutID)},t.prototype.isInferenceRunning=function(){return this.isInferring},t.prototype.computeMetric=function(){var t=this;if(null==this.metricFeedEntries)throw new Error("Cannot compute metric, no metric FeedEntries provided.");var e=this.zeroScalar;return this.math.scope((function(r){for(var i=0;i<t.metricBatchSize;i++){var o=t.session.eval(t.metricTensor,t.metricFeedEntries);e=t.math.add(e,o)}return t.metricReduction===n.MEAN&&(e=t.math.divide(e,t.metricBatchSizeScalar)),e}))},t.prototype.getTotalBatchesTrained=function(){return this.totalBatchesTrained},t.prototype.getLastComputedMetric=function(){return this.lastComputedMetric},t.prototype.setMath=function(t){this.math=t},t.prototype.setSession=function(t){this.session=t},t.prototype.setInferenceTensor=function(t){this.inferenceTensor=t},t.prototype.setInferenceExampleCount=function(t){this.inferenceExampleCount=t},t}();e.GraphRunner=a},2025:(t,e,r)=>{"use strict";r(2682),r(3073),r(7819),r(4299),r(2873),r(4937),r(7596),r(193),r(2739).version,r(8575).CheckpointLoader,r(6805).InMemoryDataset;var n=r(3279);n.InCPUMemoryShuffledInputProviderBuilder,n.InGPUMemoryShuffledInputProviderBuilder,r(2682).XhrDataset;var i=r(3073);i.ENV,i.Environment;var o=r(2975);o.Graph,o.Tensor,r(2029).AdadeltaOptimizer,r(2239).AdagradOptimizer,r(5839).AdamOptimizer,r(9336).AdamaxOptimizer,r(6140).MomentumOptimizer,r(778).Optimizer,r(1595).RMSPropOptimizer,r(6500).SGDOptimizer;var a=r(718);a.CostReduction,a.Session;var s=r(6775);s.GraphRunner,s.MetricReduction;var u=r(7947);u.ConstantInitializer,u.NDArrayInitializer,u.OnesInitializer,u.RandomNormalInitializer,u.RandomTruncatedNormalInitializer,u.RandomUniformInitializer,u.VarianceScalingInitializer,u.ZerosInitializer;var c=r(3287);c.MatrixOrientation,c.NDArrayMath;var l=r(1588);e.nA=l.NDArrayMathCPU;var h=r(1613);e.vw=h.NDArrayMathGPU,r(5695).initializeGPU;var f=r(5695);f.Array1D,f.Array2D,e._6=f.Array3D,e.TP=f.Array4D,f.NDArray,e.Ru=f.Scalar,r(4430).GPGPUContext},7947:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5695),i=function(){function t(t,e,r){void 0===t&&(t=1),void 0===e&&(e="fan_in"),void 0===r&&(r="normal"),this.scale=t,this.mode=e,this.distribution=r}return t.prototype.initialize=function(t,e,r){var i=0;if("fan_in"===this.mode)i=e;else if("fan_out"===this.mode)i=r;else{if("fan_avg"!==this.mode)throw new Error("Unexpected mode for variance scaling initializer: "+this.mode);i=(e+r)/2}if("normal"===this.distribution)return n.NDArray.randTruncatedNormal(t,0,Math.sqrt(this.scale/i));if("uniform"===this.distribution)return n.NDArray.randUniform(t,0,Math.sqrt(3*this.scale/i));throw new Error("Unexpected distribution for variance scaling initializer: "+this.distribution)},t}();e.VarianceScalingInitializer=i;var o=function(){function t(){}return t.prototype.initialize=function(t,e,r){return n.NDArray.zeros(t)},t}();e.ZerosInitializer=o;var a=function(){function t(){}return t.prototype.initialize=function(t,e,r){var i=n.NDArray.zeros(t);return i.fill(1),i},t}();e.OnesInitializer=a;var s=function(){function t(t){void 0===t&&(t=0),this.value=t}return t.prototype.initialize=function(t,e,r){var i=n.NDArray.zeros(t);return i.fill(this.value),i},t}();e.ConstantInitializer=s;var u=function(){function t(t){this.ndarray=t}return t.prototype.initialize=function(t,e,r){return this.ndarray},t}();e.NDArrayInitializer=u;var c=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=.05),this.mean=t,this.stdev=e}return t.prototype.initialize=function(t,e,r){return n.NDArray.randNormal(t,this.mean,this.stdev)},t}();e.RandomNormalInitializer=c;var l=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=.05),this.mean=t,this.stdev=e}return t.prototype.initialize=function(t,e,r){return n.NDArray.randTruncatedNormal(t,this.mean,this.stdev)},t}();e.RandomTruncatedNormalInitializer=l;var h=function(){function t(t,e){void 0===t&&(t=-.05),void 0===e&&(e=.05),this.minval=t,this.maxval=e}return t.prototype.initialize=function(t,e,r){return n.NDArray.randUniform(t,this.minval,this.maxval)},t}();e.RandomUniformInitializer=h},1569:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5695),i=function(){function t(){}return t.prototype.output=function(t,e){return t.scope((function(){return t.tanh(e)}))},t.prototype.der=function(t,e,r){return t.scope((function(){var e=t.elementWiseMul(r,r);return t.scalarMinusArray(n.Scalar.ONE,e)}))},t.prototype.dispose=function(){},t}();e.TanHFunc=i;var o=function(){function t(){}return t.prototype.output=function(t,e){return t.scope((function(){return t.relu(e)}))},t.prototype.der=function(t,e,r){return t.scope((function(){return t.step(e)}))},t.prototype.dispose=function(){},t}();e.ReLUFunc=o;var a=function(){function t(t){this.alpha=t}return t.prototype.output=function(t,e){return t.leakyRelu(e,this.alpha)},t.prototype.der=function(t,e,r){return t.step(e,this.alpha)},t.prototype.dispose=function(){},t}();e.LeakyReluFunc=a;var s=function(){function t(){}return t.prototype.output=function(t,e){return t.scope((function(){return t.sigmoid(e)}))},t.prototype.der=function(t,e,r){return t.scope((function(){var e=t.elementWiseMul(r,r);return t.subStrict(r,e)}))},t.prototype.dispose=function(){},t}();e.SigmoidFunc=s;var u=function(){function t(){}return t.prototype.output=function(t,e){return t.scope((function(){return t.elementWiseMul(e,e)}))},t.prototype.der=function(t,e,r){return t.scope((function(){return t.scalarTimesArray(n.Scalar.TWO,e)}))},t.prototype.dispose=function(){},t}();e.SquareFunc=u},3353:(t,e)=>{"use strict";function r(t,e){for(var r=0;r<t.length;++r)if(t[t.length-r-1]!==e-1-r)return!1;return!0}function n(t,e,r){for(var n=t.length+e.length,i=[],o=0,a=0,s=0;s<n;s++)-1===r.indexOf(s)?i.push(t[o++]):i.push(e[a++]);return i}Object.defineProperty(e,"__esModule",{value:!0}),e.axesAreInnerMostDims=r,e.combineLocations=n,e.computeOutAndReduceShapes=function(t,e){for(var r=[],n=t.length,i=0;i<n;i++)-1===e.indexOf(i)&&r.push(t[i]);var o=e.map((function(e){return t[e]}));return[r,o]},e.expandShapeToKeepDim=function(t,e){return n(t,e.map((function(t){return 1})),e)},e.parseAxisParam=function(t,e){return null==t?t=e.map((function(t,e){return e})):"number"==typeof t&&(t=[t]),t},e.assertAxesAreInnerMostDims=function(t,e,n){if(!r(e,n))throw new Error(t+" supports only inner-most axes for now. Got axes "+e+" and rank-"+n+" input.")},e.getPermutedAxes=function(t,e){if(r(t,e))return null;for(var n=[],i=0;i<e;++i)-1===t.indexOf(i)&&n.push(i);return t.forEach((function(t){return n.push(t)})),n},e.getInnerMostAxes=function(t,e){for(var r=[],n=e-t;n<e;++n)r.push(n);return r}},1572:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBroadcastDims=function(t,e){for(var r=t.length,n=[],i=0;i<r;i++){var o=r-1-i,a=t[o]||1;(e[e.length-1-i]||1)>1&&1===a&&n.unshift(o)}return n},e.broadcastDimsAreOuter=function(t){for(var e=0;e<t.length;e++)if(t[e]!==e)return!1;return!0},e.assertAndGetBroadcastShape=function(t,e){for(var r=[],n="Operands could not be broadcast together with shapes "+t+" and "+e+".",i=Math.max(t.length,e.length),o=0;o<i;o++){var a=t[t.length-o-1]||1,s=e[e.length-o-1]||1;if(a>1&&s>1&&a!==s)throw Error(n);r.unshift(Math.max(a,s))}return r}},7950:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(193);e.assertParams=function(t,e,r){var i=t.length,o=e.length;n.assert(t.length===e.length,"Error in concat"+i+"D: rank of x1 ("+i+") and x2 ("+o+") must be the same."),n.assert(r>=0&&r<i,"Error in concat"+i+"D: axis must be between 0 and "+(i-1)+".");for(var a=0;a<i;a++)n.assert(a===r||t[a]===e[a],"Error in concat"+i+"D: Shape ("+t+") does not match ("+e+") along the non-concatenated axis "+a+".")},e.computeOutShape=function(t,e,r){n.assert(t.length===e.length,"x1 and x2 should have the same rank.");var i=t.slice();return i[r]+=e[r],i}},7819:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(193);function i(t,e,r,i,a){null==a&&(a=o(t,e,i));var s=t[0],u=t[1],c=(s-e+2*a)/i+1;n.assert(n.isInt(c),"The output # of rows ("+c+") must be an integer. Change the stride and/or zero pad parameters");var l=(u-e+2*a)/i+1;return n.assert(n.isInt(l),"The output # of columns ("+l+") must be an integer. Change the stride and/or zero pad parameters"),[c,l,r]}function o(t,e,r){return Math.floor((t[0]*(r-1)-r+e)/2)}function a(t,e,r,n,o,a,s){var u,c,l;if("number"==typeof t){u={top:t,bottom:t,left:t,right:t};var h=i([e,r,1],a,1,n,t);c=h[0],l=h[1]}else if("same"===t){var f=((c=Math.ceil(e/n))-1)*n+a-e,p=((l=Math.ceil(r/o))-1)*o+s-r,d=Math.floor(f/2),y=f-d,g=Math.floor(p/2);u={top:d,bottom:y,left:g,right:p-g}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);u={top:0,bottom:0,left:0,right:0},c=Math.ceil((e-a+1)/n),l=Math.ceil((r-s+1)/o)}return{padInfo:u,outHeight:c,outWidth:l}}e.computeDepthwiseConv2DInfo=function(t,e,r,n){var i,o=e[0],s=e[1],u=e[2],c=e[3],l="number"==typeof(i=r)?[i,i]:i,h=l[0],f=l[1],p=t[1],d=t[2],y=t[0],g=a(n,p,d,h,f,o,s),v=g.padInfo;return{inShape:t,outShape:[y,g.outHeight,g.outWidth,u*c],channelMul:c,strideHeight:h,strideWidth:f,filterHeight:o,filterWidth:s,padInfo:v}},e.computeConv2DInfo=function(t,e,r,n,i,o,s){var u=a(s,t[0],t[1],i,o,e,r),c=u.padInfo;return{inShape:t,outShape:[u.outHeight,u.outWidth,n],padInfo:c,strideHeight:i,strideWidth:o,filterHeight:e,filterWidth:r}},e.computeOutputShape3D=i,e.computeDefaultPad=o,e.computeWeightsShape4D=function(t,e,r,n){return[r,n,t,e]},e.computeDilatedRC=function(t,e){return[(t[0]-1)*e+1,(t[1]-1)*e+1]}},2487:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateShapes=function(t,e){var r=t[0]*t[1],n=e[0]*e[1];if(r!==n){var i="["+t[0]+", "+t[1]+"]",o="["+e[0]+", "+e[1]+"]";throw new Error("copy2D shapes have different areas:\n  sourceSize "+i+", area "+r+"\n  destSize "+o+", area "+n)}}},3426:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5695),i=function(){function t(){this.halfOne=n.Scalar.new(.5)}return t.prototype.cost=function(t,e,r){var n=t.subStrict(e,r),i=t.elementWiseMul(n,n),o=t.scalarTimesArray(this.halfOne,i);return n.dispose(),i.dispose(),o},t.prototype.der=function(t,e,r){return t.subStrict(e,r)},t.prototype.dispose=function(){this.halfOne.dispose()},t}();e.SquareCostFunc=i},3287:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(193),o=r(3353),a=r(1572),s=r(7950),u=r(7819),c=r(2487),l=r(5695),h=r(4359);(n=e.SumTypesMap||(e.SumTypesMap={})).float32="float32",n.int32="int32",n.bool="int32";var f,p=function(){function t(t){this.safeMode=t,this.ndarrayScopes=[],this.ndarraysToKeep=[],this.activeScopeNDArraysToKeep=[],this.debugMode=!1}return t.prototype.scope=function(t){var e=this;this.startScope();var r=t((function(t){return e.keep(t)}),(function(t){return e.track(t)}));return r instanceof Promise?(r.then((function(t){return e.endScope(t)})),r):(this.endScope(r),r)},t.prototype.enableDebugMode=function(){this.debugMode=!0,console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")},t.prototype.startScope=function(){var t=[];this.ndarrayScopes.push(t),this.activeScope=t;var e=[];this.ndarraysToKeep.push(e),this.activeScopeNDArraysToKeep=e},t.prototype.extractNDArraysFromScopeResult=function(t){if(null==t)return[];if(t instanceof l.NDArray)return[t];var e=[],r=t;for(var n in r){var i=r[n];i instanceof l.NDArray&&e.push(i)}return e},t.prototype.endScope=function(t){var e=this,r=this.activeScopeNDArraysToKeep,n=this.extractNDArraysFromScopeResult(t);r=r.concat(n);for(var i=0;i<this.activeScope.length;i++){var o=this.activeScope[i];this.isNDArrayDataInList(o,r)||o.dispose()}this.ndarrayScopes.pop(),this.activeScope=0===this.ndarrayScopes.length?null:this.ndarrayScopes[this.ndarrayScopes.length-1],n.forEach((function(t){e.isNDArrayDataInList(t,e.activeScopeNDArraysToKeep)||e.track(t)})),this.ndarraysToKeep.pop(),this.activeScopeNDArraysToKeep=0===this.ndarraysToKeep.length?null:this.ndarraysToKeep[this.ndarraysToKeep.length-1]},t.prototype.isNDArrayDataInList=function(t,e){for(var r=0;r<e.length;r++)if(e[r].getData()===t.getData())return!0;return!1},t.prototype.keep=function(t){if(null==this.activeScope){if(this.safeMode)throw new Error("You are using math in safe mode. Enclose all math.method() calls inside a scope: math.scope(() => {math.method();...}) to avoid memory leaks.");return t}return this.activeScopeNDArraysToKeep.push(t),t},t.prototype.checkForNaN=function(t,e,r){for(var n=0;n<t.length;n++)if(i.isValNaN(t[n],e))throw Error("The result of the last math."+r+" has NaNs.")},t.prototype.track=function(t){if(null==this.activeScope){if(this.safeMode)throw new Error("You are using math in safe mode. Enclose all math.method() calls inside a scope: math.scope(() => {math.method();...}) to avoid memory leaks.");return t}return this.activeScope.push(t),t},t.prototype.dispose=function(){},t.prototype.matMul=function(t,e,r,n){var o=this;void 0===r&&(r=f.REGULAR),void 0===n&&(n=f.REGULAR);var a=r===f.REGULAR?t.shape[1]:t.shape[0],s=n===f.REGULAR?e.shape[0]:e.shape[1];return i.assert(2===t.rank&&2===e.rank,"Error in matMul: inputs must be rank 2, got ranks "+t.rank+" and "+e.rank+"."),i.assert(a===s,"Error in matMul: inner shapes ("+a+") and ("+s+") of NDArrays with shapes "+t.shape+" and "+e.shape+" and orientations "+f[r]+" and "+f[n]+" must match."),this.executeOp("matMul",(function(){return o.matMulInternal(t,e,r,n)}))},t.prototype.executeOp=function(t,e){var r;this.debugMode&&(r=performance.now());var n=e();if(this.debugMode){var o=n.getValues(),a=i.rightPad(performance.now()-r+"ms",9),s=i.rightPad(t,25),u=n.rank,c=n.size,l=i.rightPad(n.shape.toString(),14);console.log("%c"+s+"\t%c"+a+"\t%c"+u+"D "+l+"\t%c"+c,"font-weight:bold","color:red","color:blue","color: orange"),this.checkForNaN(o,n.dtype,t)}return this.track(n)},t.prototype.vectorTimesMatrix=function(t,e){return i.assert(1===t.rank,"Error in vectorTimesMatrix: first input must be rank 1, but got rank "+t.rank+"."),i.assert(2===e.rank,"Error in vectorTimesMatrix: second input must be rank 2, but got rank "+e.rank+"."),i.assert(t.size===e.shape[0],"Error in vectorTimesMatrix: size of vector ("+t.size+") must match first dimension of matrix ("+e.shape[0]+")"),this.matMul(t.as2D(1,-1),e).as1D()},t.prototype.matrixTimesVector=function(t,e){return i.assert(1===e.rank,"Error in matrixTimesVector: second input must rank 1, but got rank "+e.rank+"."),i.assert(2===t.rank,"Error in matrixTimesVector: first input must be a rank 2, but got rank "+t.rank+"."),i.assert(e.size===t.shape[1],"Error in matrixTimesVector: size of first rank 1 input "+e.size+" must match inner dimension of second rank 2 input, but got shape "+t.shape+"."),this.matMul(t,e.as2D(-1,1)).as1D()},t.prototype.dotProduct=function(t,e){return i.assert(1===t.rank&&1===e.rank,"Error in dotProduct: inputs must be rank 1, but got ranks "+t.rank+" and "+e.rank+"."),i.assert(t.size===e.size,"Error in dotProduct: size of inputs ("+t.size+") and ("+e.size+") must match."),this.matMul(t.as2D(1,-1),e.as2D(-1,1)).asScalar()},t.prototype.outerProduct=function(t,e){return i.assert(1===t.rank&&1===e.rank,"Error in outerProduct: inputs must be rank 1, but got ranks "+t.rank+" and "+e.rank+"."),this.matMul(t.as2D(-1,1),e.as2D(1,-1))},t.prototype.clone=function(t){var e=this;return this.executeOp("clone",(function(){return e.cloneInternal(t)}))},t.prototype.reshape=function(t,e){return console.warn("math.reshape() is deprecated. Please call reshape() directly on the ndarray object"),t.reshape(e)},t.prototype.slice1D=function(t,e,r){var n=this;return h.assertParamsValid(t,[e],[r]),this.executeOp("slice1D",(function(){return n.slice1DInternal(t,e,r)}))},t.prototype.slice2D=function(t,e,r){var n=this;return h.assertParamsValid(t,e,r),this.executeOp("slice2D",(function(){return n.slice2DInternal(t,e,r)}))},t.prototype.slice3D=function(t,e,r){var n=this;return h.assertParamsValid(t,e,r),this.executeOp("slice3D",(function(){return n.slice3DInternal(t,e,r)}))},t.prototype.slice4D=function(t,e,r){var n=this;return h.assertParamsValid(t,e,r),this.executeOp("slice4D",(function(){return n.slice4DInternal(t,e,r)}))},t.prototype.copy2D=function(t,e,r,n,o,a){var s=this;i.assert(e[0]+r[0]<=t.shape[0]&&e[1]+r[1]<=t.shape[1],"Error in copy2D: requested source start position "+e+" and source size "+r+" would overflow source NDArrayof shape "+t.shape+"."),i.assert(o[0]+a[0]<=n.shape[0]&&o[1]+a[1]<=n.shape[1],"Error in copy2D: requested dest start position "+o+" and source size "+a+" would overflow dest NDArray ofshape "+n.shape+"."),c.validateShapes(r,a),this.executeOp("copy2D",(function(){return s.copy2DInternal(t,e,r,n,o,a),n}))},t.prototype.concat1D=function(t,e){var r=this;return s.assertParams(t.shape,e.shape,0),this.executeOp("concat1D",(function(){return r.concat1DInternal(t,e)}))},t.prototype.concat2D=function(t,e,r){var n=this;return s.assertParams(t.shape,e.shape,r),this.executeOp("concat2D",(function(){return n.concat2DInternal(t,e,r)}))},t.prototype.concat3D=function(t,e,r){var n=this;return s.assertParams(t.shape,e.shape,r),this.executeOp("concat3D",(function(){return n.concat3DInternal(t,e,r)}))},t.prototype.concat4D=function(t,e,r){var n=this;return s.assertParams(t.shape,e.shape,r),this.executeOp("concat4D",(function(){return n.concat4DInternal(t,e,r)}))},t.prototype.logSumExp=function(t,e,r){var n=this;void 0===e&&(e=null),void 0===r&&(r=!1);var i=o.parseAxisParam(e,t.shape);return this.executeOp("logSumExp",(function(){var e=n.max(t,i,!0),a=n.subtract(t,e),s=n.exp(a),u=n.sum(s,i),c=n.log(u),l=n.add(e.reshape(c.shape),c);if(r){var h=o.expandShapeToKeepDim(l.shape,i);return l.reshape(h)}return l}))},t.prototype.sum=function(t,e,r){var n=this;void 0===e&&(e=null),void 0===r&&(r=!1);var i=o.parseAxisParam(e,t.shape),a=i,s=o.getPermutedAxes(a,t.rank);return this.executeOp("sum",(function(){null!=s&&(t=n.transpose(t,s),a=o.getInnerMostAxes(a.length,t.rank));var e=n.sumInternal(t,a);if(r){var u=o.expandShapeToKeepDim(e.shape,i);return e.reshape(u)}return e}))},t.prototype.mean=function(t,e,r){var n=this;void 0===e&&(e=null),void 0===r&&(r=!1);var a=o.parseAxisParam(e,t.shape),s=o.computeOutAndReduceShapes(t.shape,a)[1],u=i.sizeFromShape(s);return this.executeOp("mean",(function(){return n.scope((function(i,o){var a=n.divide(t,o(l.Scalar.new(u)));return n.sum(a,e,r)}))}))},t.prototype.argMin=function(t,e){var r=this;void 0===e&&(e=null);var n=o.parseAxisParam(e,t.shape),i=o.getPermutedAxes(n,t.rank);return this.executeOp("argMin",(function(){return null!=i&&(t=r.transpose(t,i),n=o.getInnerMostAxes(n.length,t.rank)),r.argMinInternal(t,n)}))},t.prototype.argMax=function(t,e){var r=this;void 0===e&&(e=null);var n=o.parseAxisParam(e,t.shape),i=o.getPermutedAxes(n,t.rank);return this.executeOp("argMax",(function(){return null!=i&&(t=r.transpose(t,i),n=o.getInnerMostAxes(n.length,t.rank)),r.argMaxInternal(t,n)}))},t.prototype.argMaxEquals=function(t,e){var r=this;return i.assertShapesMatch(t.shape,e.shape,"Error in argMaxEquals: "),this.executeOp("argMaxEquals",(function(){return r.scope((function(){return r.equal(r.argMax(t),r.argMax(e))}))}))},t.prototype.equal=function(t,e){var r=this;return this.executeOp("equal",(function(){return r.equalInternal(t,e)}))},t.prototype.equalStrict=function(t,e){return i.assertShapesMatch(t.shape,e.shape,"Error in equalStrict: "),this.equal(t,e)},t.prototype.topK=function(t,e){var r,n=this;return i.assert(e<=t.size,"Error in topK: k value ("+e+") must be less than size of input ndarray, got shape "+t.shape+"."),this.executeOp("topK",(function(){return(r=n.topKInternal(t,e)).values})),this.track(r.indices),r},t.prototype.min=function(t,e,r){var n=this;void 0===e&&(e=null),void 0===r&&(r=!1);var i=o.parseAxisParam(e,t.shape),a=i,s=o.getPermutedAxes(a,t.rank);return this.executeOp("min",(function(){null!=s&&(t=n.transpose(t,s),a=o.getInnerMostAxes(a.length,t.rank));var e=n.minInternal(t,a);if(r){var u=o.expandShapeToKeepDim(e.shape,i);return e.reshape(u)}return e}))},t.prototype.max=function(t,e,r){var n=this;void 0===e&&(e=null),void 0===r&&(r=!1);var i=o.parseAxisParam(e,t.shape),a=i,s=o.getPermutedAxes(a,t.rank);return this.executeOp("max",(function(){null!=s&&(t=n.transpose(t,s),a=o.getInnerMostAxes(a.length,t.rank));var e=n.maxInternal(t,a);if(r){var u=o.expandShapeToKeepDim(e.shape,i);return e.reshape(u)}return e}))},t.prototype.softmax=function(t,e){var r=this;if(void 0===e&&(e=-1),-1===e&&(e=t.rank-1),e!==t.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and dim was "+e);return this.executeOp("softmax",(function(){return r.scope((function(){var n=r.logSumExp(t,[e],!0),i=r.subtract(t,n);return r.exp(i)}))}))},t.prototype.switchDim=function(t,e){return this.transpose(t,e)},t.prototype.tile=function(t,e){var r=this;return i.assert(t.rank===e.length,"Error in transpose: rank of input "+t.rank+" must match length of reps "+e+"."),this.executeOp("tile",(function(){return r.tileInternal(t,e)}))},t.prototype.transpose=function(t,e){var r=this;return null==e&&(e=t.shape.map((function(t,e){return e})).reverse()),i.assert(t.rank===e.length,"Error in transpose: rank of input "+t.rank+" must match length of perm "+e+"."),this.executeOp("transpose",(function(){return r.transposeInternal(t,e)}))},t.prototype.scalarPlusArray=function(t,e){return i.assert(1===t.size,"Error in scalarPlusArray: first argument must be rank 0, but got rank "+t.rank+"."),this.add(t,e)},t.prototype.scalarMinusArray=function(t,e){return i.assert(1===t.size,"Error in scalarMinusArray: first argument must be rank 0, but got rank "+t.rank+"."),this.subtract(t,e)},t.prototype.arrayMinusScalar=function(t,e){return i.assert(1===e.size,"Error in arrayMinusScalar: second argument must be rank 0, but got rank "+e.rank+"."),this.subtract(t,e)},t.prototype.neg=function(t){var e=this;return this.executeOp("neg",(function(){return e.negInternal(t)}))},t.prototype.add=function(t,e){var r=this;return a.assertAndGetBroadcastShape(t.shape,e.shape),this.executeOp("add",(function(){return r.addInternal(t,e)}))},t.prototype.addStrict=function(t,e){return i.assertShapesMatch(t.shape,e.shape,"Error in addStrict: "),this.add(t,e)},t.prototype.subtract=function(t,e){var r=this;return a.assertAndGetBroadcastShape(t.shape,e.shape),this.executeOp("subtract",(function(){return r.subtractInternal(t,e)}))},t.prototype.sub=function(t,e){return this.subtract(t,e)},t.prototype.subStrict=function(t,e){return i.assertShapesMatch(t.shape,e.shape,"Error in subStrict: "),this.subtract(t,e)},t.prototype.multiply=function(t,e){var r=this;return a.assertAndGetBroadcastShape(t.shape,e.shape),this.executeOp("multiply",(function(){return r.multiplyInternal(t,e)}))},t.prototype.elementWiseMul=function(t,e){return this.multiplyStrict(t,e)},t.prototype.multiplyStrict=function(t,e){return i.assertShapesMatch(t.shape,e.shape,"Error in multiplyStrict: "),this.multiply(t,e)},t.prototype.divide=function(t,e){var r=this;return a.assertAndGetBroadcastShape(t.shape,e.shape),this.executeOp("divide",(function(){return r.divideInternal(t,e)}))},t.prototype.divideStrict=function(t,e){return i.assertShapesMatch(t.shape,e.shape,"Error in divideStrict: "),this.divide(t,e)},t.prototype.scalarDividedByArray=function(t,e){return i.assert(1===t.size,"Error in scalarDividedByArray: first argument must be rank 0, but got NDArray of rank "+t.rank+"."),this.divide(t,e)},t.prototype.arrayDividedByScalar=function(t,e){return i.assert(1===e.size,"Error in arrayDividedByScalar: second argument must be rank 0, but got NDArray of rank "+e.rank+"."),this.divide(t,e)},t.prototype.ceil=function(t){var e=this;return this.executeOp("ceil",(function(){return e.ceilInternal(t)}))},t.prototype.floor=function(t){var e=this;return this.executeOp("floor",(function(){return e.floorInternal(t)}))},t.prototype.exp=function(t){var e=this;return this.executeOp("exp",(function(){return e.expInternal(t)}))},t.prototype.log=function(t){var e=this;return this.executeOp("log",(function(){return e.logInternal(t)}))},t.prototype.sqrt=function(t){var e=this;return this.executeOp("sqrt",(function(){return e.sqrtInternal(t)}))},t.prototype.square=function(t){var e=this;return this.executeOp("square",(function(){return e.squareInternal(t)}))},t.prototype.abs=function(t){var e=this;return this.executeOp("abs",(function(){return e.absInternal(t)}))},t.prototype.clip=function(t,e,r){var n=this;return i.assert(e<=r,"Error in clip: min ("+e+") must beless than or equal to max ("+r+")."),this.executeOp("clip",(function(){return n.clipInternal(t,e,r)}))},t.prototype.relu=function(t){var e=this;return this.executeOp("relu",(function(){return e.reluInternal(t)}))},t.prototype.elu=function(t){var e=this;return this.executeOp("elu",(function(){return e.eluInternal(t)}))},t.prototype.leakyRelu=function(t,e){var r=this;return void 0===e&&(e=.2),this.executeOp("leakyRelu",(function(){return r.leakyReluInternal(t,e)}))},t.prototype.sigmoid=function(t){var e=this;return this.executeOp("sigmoid",(function(){return e.sigmoidInternal(t)}))},t.prototype.sin=function(t){var e=this;return this.executeOp("sin",(function(){return e.sinInternal(t)}))},t.prototype.cos=function(t){var e=this;return this.executeOp("cos",(function(){return e.cosInternal(t)}))},t.prototype.tan=function(t){var e=this;return this.executeOp("tan",(function(){return e.tanInternal(t)}))},t.prototype.asin=function(t){var e=this;return this.executeOp("asin",(function(){return e.asinInternal(t)}))},t.prototype.acos=function(t){var e=this;return this.executeOp("acos",(function(){return e.acosInternal(t)}))},t.prototype.atan=function(t){var e=this;return this.executeOp("atan",(function(){return e.atanInternal(t)}))},t.prototype.sinh=function(t){var e=this;return this.executeOp("sinh",(function(){return e.sinhInternal(t)}))},t.prototype.cosh=function(t){var e=this;return this.executeOp("cosh",(function(){return e.coshInternal(t)}))},t.prototype.tanh=function(t){var e=this;return this.executeOp("tanh",(function(){return e.tanhInternal(t)}))},t.prototype.step=function(t,e){var r=this;return void 0===e&&(e=0),this.executeOp("step",(function(){return r.stepInternal(t,e)}))},t.prototype.scaledArrayAdd=function(t,e,r,n){var o=this;return i.assert(1===t.size,"Error in scaledArrayAdd: first argument must rank 0, but got  rank "+t.rank+"."),i.assert(1===r.size,"Error in scaledArrayAdd: third argument must be rank 0, but got NDArray of rank "+r.rank+"."),i.assertShapesMatch(e.shape,n.shape,"Error in scaledArrayAdd: "),this.executeOp("scaledArrayAdd",(function(){return o.scaledArrayAddInternal(t,e,r,n)}))},t.prototype.scalarTimesArray=function(t,e){return i.assert(1===t.size,"Error in arrayDividedByScalar: first argument must be rank 0, but got rank "+t.rank+"."),this.multiply(t,e)},t.prototype.elementWiseMulBroadcast=function(t,e){return i.assert(2===t.rank,"Error in elementWiseMulBroadcast: first argument must be rank 2, but got rank "+t.rank+"."),i.assert(2===e.rank,"Error in elementWiseMulBroadcast: second argument must be rank 2, but got rank "+e.rank+"."),this.multiply(t,e)},t.prototype.conv2d=function(t,e,r,n,o){var a=this;i.assert(3===t.rank,"Error in conv2d: x must be rank 3, but got rank "+t.rank+"."),i.assert(4===e.rank,"Error in conv2d: filter must be rank 4, but got rank "+e.rank+"."),null!=r&&i.assert(1===r.rank,"Error in conv2d: bias must be rank 1, but got rank "+r.rank+"."),i.assert(t.shape[2]===e.shape[2],"Error in conv2d: depth of input ("+t.shape[2]+") must match  input depth for filter "+e.shape[2]+".");var s=e.shape[0],c=e.shape[1],l=e.shape[3],h=d(n),f=h[0],p=h[1],y=u.computeConv2DInfo(t.shape,s,c,l,f,p,o);return this.executeOp("conv2d",(function(){return a.conv2dInternal(t,e,r,y)}))},t.prototype.conv2dBackProp=function(t,e,r,n,i){var o=this.conv2dDerFilter(t,e,r.shape,n,i);return{db:this.conv2dDerBias(e),dw:o,dx:this.conv2dDerInput(t.shape,e,r,n,i)}},t.prototype.conv2dDerInput=function(t,e,r,n,o){var a=this,s=t[2],c=e.shape[2];i.assert(3===t.length,"Error in conv2dDerInput: x must be rank 3, but got rank "+t.length+"."),i.assert(3===e.rank,"Error in conv2dDerInput: dy must be rank 3, but got rank "+e.rank),i.assert(4===r.rank,"Error in conv2dDerInput: filter must be rank 4, but got rank "+r.rank),i.assert(s===r.shape[2],"Error in conv2dDerInput: depth of input ("+s+") must match input depth for filter "+r.shape[2]+"."),i.assert(c===r.shape[3],"Error in conv2dDerInput: depth of output ("+c+") mustmatch output depth for filter "+r.shape[3]+".");var l=r.shape[0],h=r.shape[1],f=d(n),p=f[0],y=f[1],g=u.computeConv2DInfo(t,l,h,c,p,y,o);return this.executeOp("conv2dDerInput",(function(){return a.conv2dDerInputInternal(e,r,g)}))},t.prototype.conv2dDerBias=function(t){return this.track(this.conv2dDerBiasInternal(t))},t.prototype.conv2dDerFilter=function(t,e,r,n,o){i.assert(3===t.rank,"Error in conv2dDerFilter: x must be rank 3, but got shape "+t.shape+"."),i.assert(3===e.rank,"Error in conv2dDerFilter: dy must be rank 3, but got shape "+e.shape+"."),i.assert(4===r.length,"Error in conv2dDerFilter: filterSize must be length 4, but got "+r+"."),i.assert(t.shape[2]===r[2],"Error in conv2dDerFilter: depth of x "+t.shape[2]+") must match input depth in filter ("+r[2]+"."),i.assert(e.shape[2]===r[3],"Error in conv2dDerFilter: depth of dy ("+e.shape[2]+") must match output depth for filter ("+r[3]+").");var a=r[0],s=r[1],c=r[3],l=d(n),h=l[0],f=l[1],p=u.computeConv2DInfo(t.shape,a,s,c,h,f,o);return this.track(this.conv2dDerFilterInternal(t,e,p))},t.prototype.conv2dTranspose=function(t,e,r,n,i){return this.conv2dDerInput(r,t,e,n,i)},t.prototype.depthwiseConv2D=function(t,e,r,n,o){var a=this;void 0===o&&(o=[1,1]);var s=t,c=!1;3===t.rank&&(c=!0,s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),i.assert(4===s.rank,"Error in depthwiseConv2D: input must be rank 4, but got rank "+s.rank+"."),i.assert(4===e.rank,"Error in depthwiseConv2D: filter must be rank 4, but got rank "+e.rank+"."),i.assert(s.shape[3]===e.shape[2],"Error in depthwiseConv2D: number of input channels ("+s.shape[3]+") must match the inChannels dimension in filter "+e.shape[2]+".");var l=d(o=o||[1,1]),h=l[0],f=l[1];i.assert(1===h&&1===f,"Error in depthwiseConv2D: rates greater than 1 are not yet supported. Got rates '"+o+"'");var p=u.computeDepthwiseConv2DInfo(s.shape,e.shape,r,n);return this.executeOp("depthwiseConv2D",(function(){var t=a.depthwiseConv2DInternal(s,e,p);return c?t.as3D(t.shape[1],t.shape[2],t.shape[3]):t}))},t.prototype.maxPool=function(t,e,r,n){var o=this;i.assert(3===t.rank,"Error in maxPool: x must be rank 3 but got rank "+t.rank+".");var a=d(e),s=a[0],c=a[1],l=t.shape[2],h=d(r),f=h[0],p=h[1],y=u.computeConv2DInfo(t.shape,s,c,l,f,p,n);return this.executeOp("maxPool",(function(){return o.maxPoolInternal(t,y)}))},t.prototype.maxPoolBackprop=function(t,e,r,n,o){var a=this;i.assert(3===t.rank,"Error in maxPoolBackprop: dy must be rank 3 but got rank "+t.rank+"."),i.assert(3===e.rank,"Error in maxPoolBackprop: x must be rank 3 but got rank "+e.rank+".");var s=d(r),c=s[0],l=s[1],h=e.shape[2],f=d(n),p=f[0],y=f[1],g=u.computeConv2DInfo(e.shape,c,l,h,p,y,o);return this.executeOp("maxPoolBackprop",(function(){return a.maxPoolBackpropInternal(t,e,g)}))},t.prototype.minPool=function(t,e,r,n){var o=this;i.assert(3===t.rank,"Error in minPool: x must be rank 3 but got rank "+t.rank+".");var a=d(e),s=a[0],c=a[1],l=t.shape[2],h=d(r),f=h[0],p=h[1],y=u.computeConv2DInfo(t.shape,s,c,l,f,p,n);return this.executeOp("minPool",(function(){return o.minPoolInternal(t,y)}))},t.prototype.avgPool=function(t,e,r,n){var o=this;i.assert(3===t.rank,"Error in avgPool: x must be rank 3 but got rank "+t.rank+".");var a=d(e),s=a[0],c=a[1],l=t.shape[2],h=d(r),f=h[0],p=h[1],y=u.computeConv2DInfo(t.shape,s,c,l,f,p,n);return this.executeOp("avgPool",(function(){return o.avgPoolInternal(t,y)}))},t.prototype.resizeBilinear3D=function(t,e,r){var n=this;return void 0===r&&(r=!1),i.assert(3===t.rank,"Error in resizeBilinear3D: x must be rank 3 but got rank "+t.rank+"."),i.assert(2===e.length,"Error in resizeBilinear3D: new shape must 2D, but got shape "+e+"."),this.executeOp("resizeBilinear3D",(function(){return n.resizeBilinear3DInternal(t,e,r)}))},t.prototype.batchNormalization2D=function(t,e,r,n,o,a){var s=this;return void 0===n&&(n=.001),i.assert(2===t.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+t.rank+"."),i.assert(2===e.rank||1===e.rank,"Error in batchNormalization2D: mean must be rank 2 or rank 1 but got rank "+e.rank+"."),i.assert(2===r.rank||1===r.rank,"Error in batchNormalization2D: variance must be rank 2 or rank 1 but got rank "+r.rank+"."),null!=o&&i.assert(2===o.rank||1===o.rank,"Error in batchNormalization2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."),null!=a&&i.assert(2===a.rank||1===a.rank,"Error in batchNormalization2D: offset must be rank 2 or rank 1 but got rank "+a.rank+"."),this.executeOp("batchNorm2D",(function(){return s.batchNormalization2DInternal(t,e,r,n,o,a)}))},t.prototype.batchNormalization3D=function(t,e,r,n,o,a){var s=this;return void 0===n&&(n=.001),i.assert(3===t.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+t.rank+"."),i.assert(3===e.rank||1===e.rank,"Error in batchNormalization3D: mean must be rank 3 or rank 1 but got rank "+e.rank+"."),i.assert(3===r.rank||1===r.rank,"Error in batchNormalization3D: variance must be rank 3 or rank 1 but got rank "+r.rank+"."),null!=o&&i.assert(3===o.rank||1===o.rank,"Error in batchNormalization3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."),null!=a&&i.assert(3===a.rank||1===a.rank,"Error in batchNormalization3D: offset must be rank 3 or rank 1 but got rank "+a.rank+"."),this.executeOp("batchNorm3D",(function(){return s.batchNormalization3DInternal(t,e,r,n,o,a)}))},t.prototype.multiRNNCell=function(t,e,r,n){for(var i=this.scope((function(){for(var i=e,o=[],a=0;a<t.length;a++){var s=t[a](i,r[a],n[a]);o.push(s[0]),o.push(s[1]),i=s[1]}return o})),o=[],a=[],s=0;s<i.length;s+=2)o.push(i[s]),a.push(i[s+1]);return[o,a]},t.prototype.basicLSTMCell=function(t,e,r,n,i,o){var a=this,s=this.scope((function(){var s=a.concat2D(n,o,1),u=a.matMul(s,e),c=a.add(u,r),l=c.shape[0],h=c.shape[1]/4,f=[l,h],p=a.slice2D(c,[0,0],f),d=a.slice2D(c,[0,h],f),y=a.slice2D(c,[0,2*h],f),g=a.slice2D(c,[0,3*h],f),v=a.addStrict(a.multiplyStrict(i,a.sigmoid(a.scalarPlusArray(t,y))),a.multiplyStrict(a.sigmoid(p),a.tanh(d)));return[v,a.multiplyStrict(a.tanh(v),a.sigmoid(g))]}));return[s[0],s[1]]},t.prototype.multinomial=function(t,e,r){var n=this,i=t.size;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(t.rank>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+t.rank);r=r||Math.random();var o=t.rank;return 1===t.rank&&(t=t.as2D(1,-1)),this.executeOp("multinomial",(function(){var i=n.multinomialInternal(t,e,r);return 1===o?i.as1D():i}))},t.prototype.oneHot=function(t,e,r,n){var i=this;if(void 0===r&&(r=1),void 0===n&&(n=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);return this.executeOp("oneHot",(function(){return i.oneHotInternal(t,e,r,n)}))},t.prototype.moments=function(t,e,r){var n=this;void 0===e&&(e=null),void 0===r&&(r=!1);var i=o.parseAxisParam(e,t.shape);return this.scope((function(){var e=n.mean(t,i,r),a=e.shape;r||(a=o.expandShapeToKeepDim(e.shape,i));var s=n.square(n.subtract(t,e.reshape(a)));return{mean:e,variance:n.mean(s,i,r)}}))},t}();function d(t){return"number"==typeof t?[t,t]:t}e.NDArrayMath=p,function(t){t[t.REGULAR=0]="REGULAR",t[t.TRANSPOSED=1]="TRANSPOSED"}(f=e.MatrixOrientation||(e.MatrixOrientation={}))},1588:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(6377),a=r(193),s=r(3353),u=r(1572),c=r(7950),l=r(7819),h=r(2487),f=r(3287),p=r(5695),d=function(t){function e(e){return void 0===e&&(e=!1),t.call(this,e)||this}return i(e,t),e.prototype.cloneInternal=function(t){return p.NDArray.make(t.shape,{values:new Float32Array(t.getValues())})},e.prototype.slice1DInternal=function(t,e,r){var n=t.getValues().slice(e,e+r);return p.Array1D.new(n)},e.prototype.slice2DInternal=function(t,e,r){for(var n=p.Array2D.zeros(r),i=e[0],o=e[1],a=0;a<r[0];++a)for(var s=0;s<r[1];++s){var u=t.get(a+i,s+o);n.set(u,a,s)}return n},e.prototype.slice3DInternal=function(t,e,r){for(var n=p.Array3D.zeros(r),i=e[0],o=e[1],a=e[2],s=0;s<r[0];++s)for(var u=0;u<r[1];++u)for(var c=0;c<r[2];++c){var l=t.get(s+i,u+o,c+a);n.set(l,s,u,c)}return n},e.prototype.slice4DInternal=function(t,e,r){for(var n=p.Array4D.zeros(r),i=e[0],o=e[1],a=e[2],s=e[3],u=0;u<r[0];++u)for(var c=0;c<r[1];++c)for(var l=0;l<r[2];++l)for(var h=0;h<r[3];++h){var f=t.get(u+i,c+o,l+a,h+s);n.set(f,u,c,l,h)}return n},e.prototype.copy2DInternal=function(t,e,r,n,i,o){h.validateShapes(r,o);for(var a=t.getValues(),s=n.getValues(),u=r[0]*r[1],c=0;c<u;++c){var l=e[0]+Math.floor(c/r[1]),f=e[1]+c%r[1],p=l*t.shape[1]+f,d=i[0]+Math.floor(c/o[1]),y=i[1]+c%o[1];s[d*n.shape[1]+y]=a[p]}},e.prototype.concat1DInternal=function(t,e){var r=c.computeOutShape(t.shape,e.shape,0),n=p.Array1D.zeros(r),i=t.getValues(),o=e.getValues(),a=n.getValues();return a.set(i,0),a.set(o,t.size),n},e.prototype.concat2DInternal=function(t,e,r){var n=c.computeOutShape(t.shape,e.shape,r),i=p.Array2D.zeros(n);if(0===r){var o=t.getValues(),a=e.getValues(),s=i.getValues();return s.set(o,0),s.set(a,t.size),i}for(var u=0;u<n[0];++u)for(var l=0;l<n[1];++l){var h=[u,l],f=void 0;if(h[r]<t.shape[r])f=t.get(u,l);else{h[r]-=t.shape[r];var d=h[0],y=h[1];f=e.get(d,y)}i.set(f,u,l)}return i},e.prototype.concat3DInternal=function(t,e,r){var n=c.computeOutShape(t.shape,e.shape,r),i=p.Array3D.zeros(n);if(0===r){var o=t.getValues(),a=e.getValues(),s=i.getValues();return s.set(o,0),s.set(a,t.size),i}for(var u=0;u<n[0];++u)for(var l=0;l<n[1];++l)for(var h=0;h<n[2];++h){var f=[u,l,h],d=void 0;if(f[r]<t.shape[r])d=t.get(u,l,h);else{f[r]-=t.shape[r];var y=f[0],g=f[1],v=f[2];d=e.get(y,g,v)}i.set(d,u,l,h)}return i},e.prototype.concat4DInternal=function(t,e,r){var n=c.computeOutShape(t.shape,e.shape,r),i=p.Array4D.zeros(n);if(0===r){var o=t.getValues(),a=e.getValues(),s=i.getValues();return s.set(o,0),s.set(a,t.size),i}for(var u=0;u<n[0];++u)for(var l=0;l<n[1];++l)for(var h=0;h<n[2];++h)for(var f=0;f<n[3];++f){var d=[u,l,h,f],y=void 0;if(d[r]<t.shape[r])y=t.get(u,l,h,f);else{d[r]-=t.shape[r];var g=d[0],v=d[1],m=d[2],b=d[3];y=e.get(g,v,m,b)}i.set(y,u,l,h,f)}return i},e.prototype.scaledArrayAddInternal=function(t,e,r,n){var i=t.get(),o=r.get();return this.broadcastedBinaryOp(e,n,"float32",(function(t,e){return i*t+o*e}))},e.prototype.negInternal=function(t){return this.scalarTimesArray(p.Scalar.NEG_ONE,t)},e.prototype.addInternal=function(t,e){return this.scaledArrayAddInternal(p.Scalar.ONE,t,p.Scalar.ONE,e)},e.prototype.subtractInternal=function(t,e){return this.scaledArrayAddInternal(p.Scalar.ONE,t,p.Scalar.NEG_ONE,e)},e.prototype.matMulInternal=function(t,e,r,n){void 0===r&&(r=f.MatrixOrientation.REGULAR),void 0===n&&(n=f.MatrixOrientation.REGULAR);for(var i=r===f.MatrixOrientation.REGULAR?t.shape[1]:t.shape[0],o=r===f.MatrixOrientation.REGULAR?t.shape[0]:t.shape[1],a=n===f.MatrixOrientation.REGULAR?e.shape[1]:e.shape[0],s=function(t,e,r){return t.get(e,r)},u=function(t,e,r){return t.get(r,e)},c=r===f.MatrixOrientation.REGULAR?s:u,l=n===f.MatrixOrientation.REGULAR?s:u,h=new Float32Array(o*a),d=0,y=0;y<o;++y)for(var g=0;g<a;++g){for(var v=0,m=0;m<i;++m)v+=c(t,y,m)*l(e,m,g);h[d++]=v}return p.Array2D.new([o,a],h)},e.prototype.multiplyInternal=function(t,e){for(var r=u.assertAndGetBroadcastShape(t.shape,e.shape),n=new Float32Array(a.sizeFromShape(r)),i=t.getValues(),o=e.getValues(),s=0;s<n.length;++s)n[s]=i[s%t.size]*o[s%e.size];return p.NDArray.make(r,{values:n})},e.prototype.divideInternal=function(t,e){for(var r=u.assertAndGetBroadcastShape(t.shape,e.shape),n=new Float32Array(a.sizeFromShape(r)),i=t.getValues(),o=e.getValues(),s=0;s<n.length;++s)n[s]=i[s%t.size]/o[s%e.size];return p.NDArray.make(r,{values:n},"float32")},e.prototype.sumInternal=function(t,e){s.assertAxesAreInnerMostDims("sum",e,t.rank);for(var r=s.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],o=f.SumTypesMap[t.dtype],u=p.NDArray.zeros(n,o),c=a.sizeFromShape(i),l=u.getValues(),h=t.getValues(),d=0;d<l.length;++d){for(var y=d*c,g=0,v=0;v<c;++v)g+=h[y+v];l[d]=g}return u},e.prototype.argMinInternal=function(t,e){s.assertAxesAreInnerMostDims("argMin",e,t.rank);for(var r=s.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],o=p.NDArray.zeros(n,"int32"),u=a.sizeFromShape(i),c=o.getValues(),l=t.getValues(),h=0;h<c.length;++h){for(var f=h*u,d=l[f],y=0,g=0;g<u;++g){var v=l[f+g];if(isNaN(v)){y=a.NAN_INT32;break}v<d&&(d=v,y=g)}c[h]=y}return o},e.prototype.argMaxInternal=function(t,e){s.assertAxesAreInnerMostDims("argMax",e,t.rank);for(var r=s.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],o=p.NDArray.zeros(n,"int32"),u=a.sizeFromShape(i),c=o.getValues(),l=t.getValues(),h=0;h<c.length;++h){for(var f=h*u,d=l[f],y=0,g=0;g<u;++g){var v=l[f+g];if(isNaN(v)){y=a.NAN_INT32;break}v>d&&(d=v,y=g)}c[h]=y}return o},e.prototype.equalInternal=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",(function(r,n){return a.isValNaN(r,t.dtype)||a.isValNaN(n,e.dtype)?a.getNaN("bool"):r===n?1:0}))},e.prototype.topKInternal=function(t,e){for(var r=t.getValues(),n=[],i=0;i<r.length;i++)n.push({value:r[i],index:i});n.sort((function(t,e){return e.value-t.value}));var o=new Float32Array(e),a=new Float32Array(e);for(i=0;i<e;i++)o[i]=n[i].value,a[i]=n[i].index;return{values:p.Array1D.new(o),indices:p.Array1D.new(a)}},e.prototype.minInternal=function(t,e){s.assertAxesAreInnerMostDims("min",e,t.rank);for(var r=s.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],o=p.NDArray.zeros(n,t.dtype),u=a.sizeFromShape(i),c=o.getValues(),l=t.getValues(),h=0;h<c.length;++h){for(var f=h*u,d=l[0],y=0;y<u;++y){var g=l[f+y];if(isNaN(g)){d=Number.NaN;break}g<d&&(d=g)}c[h]=d}return o},e.prototype.maxInternal=function(t,e){s.assertAxesAreInnerMostDims("max",e,t.rank);for(var r=s.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],o=p.NDArray.zeros(n,t.dtype),u=a.sizeFromShape(i),c=o.getValues(),l=t.getValues(),h=0;h<c.length;++h){for(var f=h*u,d=l[f],y=0;y<u;++y){var g=l[f+y];if(isNaN(g)){d=Number.NaN;break}g>d&&(d=g)}c[h]=d}return o},e.prototype.ceilInternal=function(t){for(var e=t.getValues(),r=new Float32Array(e.length),n=0;n<e.length;++n)r[n]=Math.ceil(e[n]);return p.NDArray.make(t.shape,{values:r})},e.prototype.floorInternal=function(t){for(var e=t.getValues(),r=new Float32Array(e.length),n=0;n<e.length;++n)r[n]=Math.floor(e[n]);return p.NDArray.make(t.shape,{values:r})},e.prototype.expInternal=function(t){for(var e=t.getValues(),r=new Float32Array(e.length),n=0;n<e.length;++n)r[n]=Math.exp(e[n]);return p.NDArray.make(t.shape,{values:r})},e.prototype.logInternal=function(t){for(var e=t.getValues(),r=new Float32Array(e.length),n=0;n<e.length;++n){var i=e[n];r[n]=Math.log(i)}return p.NDArray.make(t.shape,{values:r})},e.prototype.sqrtInternal=function(t){for(var e=t.getValues(),r=new Float32Array(e.length),n=0;n<e.length;++n){var i=e[n];r[n]=Math.sqrt(i)}return p.NDArray.make(t.shape,{values:r})},e.prototype.squareInternal=function(t){for(var e=t.getValues(),r=new Float32Array(e.length),n=0;n<e.length;++n){var i=e[n];r[n]=i*i}return p.NDArray.make(t.shape,{values:r})},e.prototype.reluInternal=function(t){for(var e=p.NDArray.zeros(t.shape,t.dtype),r=e.getValues(),n=t.getValues(),i=0;i<n.length;++i){var o=n[i];a.isValNaN(o,t.dtype)?r[i]=a.getNaN(e.dtype):r[i]=Math.max(0,n[i])}return e},e.prototype.eluInternal=function(t){for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n){var i=r[n];e[n]=i>=0?i:Math.exp(i)-1}return p.NDArray.make(t.shape,{values:e})},e.prototype.leakyReluInternal=function(t,e){for(var r=new Float32Array(t.size),n=t.dataSync(),i=0;i<n.length;i++){var o=n[i];r[i]=o>=0?o:e*o}return p.NDArray.make(t.shape,{values:r})},e.prototype.clipInternal=function(t,e,r){for(var n=new Float32Array(t.size),i=t.getValues(),o=0;o<i.length;++o)n[o]=Math.min(r,Math.max(e,i[o]));return p.NDArray.make(t.shape,{values:n})},e.prototype.absInternal=function(t){for(var e=new Float32Array(t.size),r=t.getValues(),n=0;n<r.length;++n)e[n]=Math.abs(r[n]);return p.NDArray.make(t.shape,{values:e})},e.prototype.sigmoidInternal=function(t){for(var e=new Float32Array(t.size),r=t.getValues(),n=0;n<r.length;++n)e[n]=1/(1+Math.exp(-r[n]));return p.NDArray.make(t.shape,{values:e})},e.prototype.sinInternal=function(t){for(var e=new Float32Array(t.size),r=t.getValues(),n=0;n<r.length;++n)e[n]=Math.sin(r[n]);return p.NDArray.make(t.shape,{values:e})},e.prototype.cosInternal=function(t){for(var e=new Float32Array(t.size),r=t.getValues(),n=0;n<r.length;++n)e[n]=Math.cos(r[n]);return p.NDArray.make(t.shape,{values:e})},e.prototype.tanInternal=function(t){for(var e=new Float32Array(t.size),r=t.getValues(),n=0;n<r.length;++n)e[n]=Math.tan(r[n]);return p.NDArray.make(t.shape,{values:e})},e.prototype.asinInternal=function(t){for(var e=new Float32Array(t.size),r=t.getValues(),n=0;n<r.length;++n)e[n]=Math.asin(r[n]);return p.NDArray.make(t.shape,{values:e})},e.prototype.acosInternal=function(t){for(var e=new Float32Array(t.size),r=t.getValues(),n=0;n<r.length;++n)e[n]=Math.acos(r[n]);return p.NDArray.make(t.shape,{values:e})},e.prototype.atanInternal=function(t){for(var e=new Float32Array(t.size),r=t.getValues(),n=0;n<r.length;++n)e[n]=Math.atan(r[n]);return p.NDArray.make(t.shape,{values:e})},e.prototype.sinhInternal=function(t){for(var e=new Float32Array(t.size),r=t.getValues(),n=0;n<r.length;++n)e[n]=Math.sinh(r[n]);return p.NDArray.make(t.shape,{values:e})},e.prototype.coshInternal=function(t){for(var e=new Float32Array(t.size),r=t.getValues(),n=0;n<r.length;++n)e[n]=Math.cosh(r[n]);return p.NDArray.make(t.shape,{values:e})},e.prototype.tanhInternal=function(t){for(var e=new Float32Array(t.size),r=t.getValues(),n=0;n<r.length;++n)e[n]=a.tanh(r[n]);return p.NDArray.make(t.shape,{values:e})},e.prototype.stepInternal=function(t,e){void 0===e&&(e=0);for(var r=new Float32Array(t.size),n=t.getValues(),i=0;i<n.length;++i){var o=n[i];r[i]=o>0?1:o<0?e:o}return p.NDArray.make(t.shape,{values:r})},e.prototype.conv2dInternal=function(t,e,r,n){for(var i=t.shape,o=i[0],a=i[1],s=i[2],u=e.shape[0],c=e.shape[1],l=e.shape[3],h=n.padInfo.left,f=n.padInfo.top,d=p.Array3D.zeros(n.outShape),y=0;y<l;++y)for(var g=0;g<d.shape[0];++g)for(var v=g*n.strideHeight-h,m=Math.max(0,v),b=Math.min(o,u+v),w=0;w<d.shape[1];++w){for(var _=w*n.strideWidth-f,x=Math.max(0,_),E=Math.min(a,c+_),A=0,S=m;S<b;++S)for(var T=S-v,k=x;k<E;++k)for(var O=k-_,R=0;R<s;++R)A+=t.get(S,k,R)*e.get(T,O,R,y);var I=null!=r?r.get(y):0;d.set(A+I,g,w,y)}return d},e.prototype.conv2dDerInputInternal=function(t,e,r){for(var n=e.shape[2],i=e.shape[3],o=t.shape[0],a=t.shape[1],s=e.shape[0],u=e.shape[1],c=s-1-r.padInfo.top,l=u-1-r.padInfo.left,h=r.strideHeight,f=r.strideWidth,d=p.Array3D.zeros(r.inShape),y=0;y<n;++y)for(var g=0;g<d.shape[0];++g)for(var v=g-l,m=Math.max(0,Math.ceil(v/h)),b=Math.min(o,(s+v)/h),w=0;w<d.shape[1];++w){for(var _=w-c,x=Math.max(0,Math.ceil(_/f)),E=Math.min(a,(u+_)/f),A=0,S=m;S<b;++S)for(var T=S*h-v,k=x;k<E;++k)for(var O=k*f-_,R=0;R<i;++R)A+=t.get(S,k,R)*e.get(s-1-T,u-1-O,y,R);d.set(A,g,w,y)}return d},e.prototype.conv2dDerFilterInternal=function(t,e,r){for(var n=t.shape[2],i=e.shape[2],o=r.strideHeight,a=r.strideWidth,s=r.filterHeight,u=r.filterWidth,c=l.computeWeightsShape4D(n,i,s,u),h=p.Array4D.zeros(c),f=e.shape[0],d=e.shape[1],y=t.shape[0],g=t.shape[1],v=r.padInfo.left,m=r.padInfo.top,b=0;b<s;++b)for(var w=Math.max(0,Math.ceil((m-b)/o)),_=Math.min(f,(y+m-b)/o),x=0;x<u;++x)for(var E=Math.max(0,Math.ceil((v-x)/a)),A=Math.min(d,(g+v-x)/a),S=0;S<n;++S)for(var T=0;T<i;++T){for(var k=0,O=w;O<_;++O)for(var R=b+O*o-m,I=E;I<A;++I){var M=x+I*a-v;k+=t.get(R,M,S)*e.get(O,I,T)}h.set(k,b,x,S,T)}return h},e.prototype.conv2dDerBiasInternal=function(t){for(var e=t.shape[2],r=t.shape[0],n=t.shape[1],i=new Float32Array(e),o=0;o<e;++o){for(var a=0,s=0;s<r;++s)for(var u=0;u<n;++u)a+=t.get(s,u,o);i[o]=a}return p.Array1D.new(i)},e.prototype.depthwiseConv2DInternal=function(t,e,r){for(var n=r.inShape,i=n[0],o=n[1],a=n[2],s=n[3],u=r.filterHeight,c=r.filterWidth,l=r.padInfo.left,h=r.padInfo.top,f=r.outShape[1],d=r.outShape[2],y=r.channelMul,g=p.Array4D.zeros(r.outShape),v=0;v<i;++v)for(var m=0;m<s;++m)for(var b=0;b<f;++b)for(var w=b*r.strideHeight-l,_=Math.max(0,w),x=Math.min(o,u+w),E=0;E<d;++E)for(var A=E*r.strideWidth-h,S=Math.max(0,A),T=Math.min(a,c+A),k=0;k<y;++k){for(var O=0,R=_;R<x;++R)for(var I=R-w,M=S;M<T;++M){var N=M-A;O+=t.get(v,R,M,m)*e.get(I,N,m,k)}g.set(O,v,b,E,m*y+k)}return g},e.prototype.tileInternal=function(t,e){for(var r,n=new Array(t.rank),i=0;i<n.length;i++)n[i]=t.shape[i]*e[i];if("float32"===t.dtype)r=Float32Array;else if("int32"===t.dtype)r=Int32Array;else{if("bool"!==t.dtype)throw new Error("Dtype "+t.dtype+" not supported for tile");r=Uint8Array}var o=new r(a.sizeFromShape(n)),s=p.NDArray.make(n,{values:o},t.dtype),u=t.getValues();for(i=0;i<s.size;++i){for(var c=s.indexToLoc(i),l=new Array(t.rank),h=0;h<l.length;h++)l[h]=c[h]%t.shape[h];var f=t.locToIndex(l);o[i]=u[f]}return s},e.prototype.transposeInternal=function(t,e){for(var r=new Array(t.rank),n=0;n<r.length;n++)r[n]=t.shape[e[n]];var i=new Float32Array(t.size),o=t.getValues(),a=p.NDArray.make(r,{values:i});for(n=0;n<t.size;++n){for(var s=t.indexToLoc(n),u=new Array(s.length),c=0;c<u.length;c++)u[c]=s[e[c]];i[a.locToIndex(u)]=o[n]}return a},e.prototype.pool=function(t,e,r){for(var n=t.shape,i=n[0],o=n[1],a=n[2],s=e.strideHeight,u=e.strideWidth,c=e.filterHeight,l=e.filterWidth,h=p.Array3D.zeros(e.outShape),f=e.padInfo.top,d=e.padInfo.left,y=0;y<a;++y)for(var g=0;g<h.shape[0];++g)for(var v=g*s-f,m=Math.max(0,v),b=Math.min(i,c+v),w=0;w<h.shape[1];++w){for(var _=w*u-d,x=Math.max(0,_),E=Math.min(o,l+_),A="max"===r?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,S=0,T=m;T<b;++T){for(var k=x;k<E;++k){var O=t.get(T,k,y);if(isNaN(O)){A=NaN,S=NaN;break}"max"===r&&O>A||"min"===r&&O<A?A=O:"avg"===r&&(S+=O/(c*l))}if(isNaN(A))break}h.set("avg"===r?S:A,g,w,y)}return h},e.prototype.maxPoolInternal=function(t,e){return this.pool(t,e,"max")},e.prototype.maxPoolPositions=function(t,e){for(var r=t.shape,n=r[0],i=r[1],o=r[2],a=e.outShape,s=p.Array3D.zeros(a),u=e.strideHeight,c=e.strideWidth,l=e.filterHeight,h=e.filterWidth,f=e.padInfo.top,d=e.padInfo.left,y=0;y<o;++y)for(var g=0;g<a[0];++g)for(var v=g*u-f,m=Math.max(0,v),b=Math.min(n,l+v),w=0;w<a[1];++w){for(var _=w*c-d,x=Math.max(0,_),E=Math.min(i,h+_),A=Number.NEGATIVE_INFINITY,S=-1,T=m;T<b;++T)for(var k=T-v,O=x;O<E;++O){var R=O-_,I=t.get(T,O,y);I>A&&(A=I,S=k*h+R)}s.set(S,g,w,y)}return s},e.prototype.maxPoolBackpropInternal=function(t,e,r){for(var n=this.maxPoolPositions(e,r),i=r.strideHeight,o=r.strideWidth,a=r.filterHeight,s=r.filterWidth,u=s-1-r.padInfo.left,c=a-1-r.padInfo.top,l=t.shape,h=l[0],f=l[1],d=l[2],y=p.Array3D.zeros(e.shape),g=0;g<d;++g)for(var v=0;v<y.shape[0];++v)for(var m=0;m<y.shape[1];++m){for(var b=v-c,w=m-u,_=0,x=0;x<a;++x){var E=(b+x)/i;if(!(E<0||E>=h||Math.floor(E)!==E))for(var A=0;A<s;++A){var S=(w+A)/o;if(!(S<0||S>=f||Math.floor(S)!==S)){var T=a*s-1-n.get(E,S,g)===x*s+A?1:0;0!==T&&(_+=t.get(E,S,g)*T)}}}y.set(_,v,m,g)}return y},e.prototype.minPoolInternal=function(t,e){return this.pool(t,e,"min")},e.prototype.avgPoolInternal=function(t,e){return this.pool(t,e,"avg")},e.prototype.resizeBilinear3DInternal=function(t,e,r){for(var n=p.Array3D.zeros([e[0],e[1],t.shape[2]]),i=r?[t.shape[0]-1,t.shape[1]-1,t.shape[2]]:t.shape,o=r?[n.shape[0]-1,n.shape[1]-1,n.shape[2]]:n.shape,a=0;a<n.shape[0];a++)for(var s=0;s<n.shape[1];s++)for(var u=0;u<n.shape[2];u++){var c=i[0]*a/o[0],l=i[1]*s/o[1],h=Math.floor(c),f=Math.min(t.shape[0]-1,Math.ceil(c)),d=Math.floor(l),y=Math.min(t.shape[1]-1,Math.ceil(l)),g=t.get(h,d,u),v=t.get(f,d,u),m=l-d,b=g+(t.get(h,y,u)-g)*m,w=b+(v+(t.get(f,y,u)-v)*m-b)*(c-h);n.set(w,a,s,u)}return n},e.prototype.batchNormalization2DInternal=function(t,e,r,n,i,o){for(var a=t.getValues(),s=e.getValues(),u=r.getValues(),c=i?i.getValues():new Float32Array([1]),l=o?o.getValues():new Float32Array([0]),h=new Float32Array(a.length),f=0;f<a.length;f++)h[f]=l[f%l.length]+(a[f]-s[f%s.length])*c[f%c.length]/Math.sqrt(u[f%u.length]+n);return p.Array2D.new(t.shape,h)},e.prototype.batchNormalization3DInternal=function(t,e,r,n,i,o){for(var a=t.getValues(),s=e.getValues(),u=r.getValues(),c=i?i.getValues():new Float32Array([1]),l=o?o.getValues():new Float32Array([0]),h=new Float32Array(a.length),f=0;f<a.length;f++)h[f]=l[f%l.length]+(a[f]-s[f%s.length])*c[f%c.length]/Math.sqrt(u[f%u.length]+n);return p.Array3D.new(t.shape,h)},e.prototype.multinomialInternal=function(t,e,r){for(var n=t.shape[0],i=t.shape[1],a=p.Array2D.zeros([n,e],"int32"),s=a.getValues(),u=t.getValues(),c=0;c<n;++c){var l=c*i,h=new Float32Array(i-1);h[0]=u[l];for(var f=1;f<h.length;++f)h[f]=h[f-1]+u[l+f];for(var d=o.alea(r.toString()),y=c*e,g=0;g<e;++g){var v=d();s[y+g]=h.length;for(var m=0;m<h.length;m++)if(v<h[m]){s[y+g]=m;break}}}return a},e.prototype.oneHotInternal=function(t,e,r,n){var i=new Float32Array(t.size*e);i.fill(n);for(var o=0;o<t.size;++o)i[o*e+t.get(o)]=r;return p.Array2D.new([t.size,e],i)},e.prototype.broadcastedBinaryOp=function(t,e,r,n){for(var i=u.assertAndGetBroadcastShape(t.shape,e.shape),o=p.NDArray.zeros(i,r),a=o.getValues(),s=t.getValues(),c=e.getValues(),l=u.getBroadcastDims(t.shape,i),h=u.getBroadcastDims(e.shape,i),f=function(r){var i=o.indexToLoc(r),u=i.slice(-t.rank);l.forEach((function(t){return u[t]=0}));var f=t.locToIndex(u),p=i.slice(-e.rank);h.forEach((function(t){return p[t]=0}));var d=e.locToIndex(p);a[r]=n(s[f],c[d])},d=0;d<a.length;++d)f(d);return o},e}(f.NDArrayMath);e.NDArrayMathCPU=d},1613:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(193),a=r(3353),s=r(3287),u=r(5695),c=r(5695),l=r(2937),h=r(4713),f=r(7818),p=r(8293),d=r(1375),y=r(1375),g=r(1545),v=r(3916),m=r(2207),b=r(5975),w=r(8511),_=r(6585),x=r(4430),E=r(5136),A=r(4299),S=r(4118),T=r(7994),k=r(3225),O=r(8171),R=r(915),I=r(1245),M=r(2631),N=r(3330),C=r(7873),P=r(2585),D=r(3707),L=r(8941),B=r(8941),F=r(4937),j=function(t){function e(e,r){void 0===r&&(r=!1);var n=t.call(this,r)||this;if(n.binaryCache={},null==e){var i=A.createWebGLContext();n.gpgpu=new x.GPGPUContext(i),n.gpgpuCreatedLocally=!0}else n.gpgpu=e,n.gpgpuCreatedLocally=!1;return n.textureManager=new C.TextureManager(n.gpgpu),u.initializeGPU(n.gpgpu,n.textureManager),n}return i(e,t),e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.cloneInternal=function(t){var e=t.getTextureShapeRC(),r=t.as2D(e[0],e[1]),n=this.makeOutputArray(e,t.dtype);return this.copy2D(r,[0,0],e,n,[0,0],e),n.reshape(t.shape)},e.prototype.slice1DInternal=function(t,e,r){var n=new N.SliceProgram([r]),i=n.getCustomSetupFunc([e]);return this.compileAndRun(n,[t],null,i)},e.prototype.slice2DInternal=function(t,e,r){var n=new N.SliceProgram(r),i=n.getCustomSetupFunc(e);return this.compileAndRun(n,[t],null,i)},e.prototype.slice3DInternal=function(t,e,r){var n=new N.SliceProgram(r),i=n.getCustomSetupFunc(e);return this.compileAndRun(n,[t],null,i)},e.prototype.slice4DInternal=function(t,e,r){var n=new N.SliceProgram(r),i=n.getCustomSetupFunc(e);return this.compileAndRun(n,[t],null,i)},e.prototype.copy2DInternal=function(t,e,r,n,i,o){var a=new _.Copy2DProgram(r[1],o[1]),s=a.getCustomSetupFunc(e,i,o);this.compileAndRun(a,[t],n,s)},e.prototype.concat1DInternal=function(t,e){var r=new v.ConcatProgram(t.shape,e.shape,0);return this.compileAndRun(r,[t,e])},e.prototype.concat2DInternal=function(t,e,r){var n=new v.ConcatProgram(t.shape,e.shape,r);return this.compileAndRun(n,[t,e])},e.prototype.concat3DInternal=function(t,e,r){var n=new v.ConcatProgram(t.shape,e.shape,r);return this.compileAndRun(n,[t,e])},e.prototype.concat4DInternal=function(t,e,r){var n=new v.ConcatProgram(t.shape,e.shape,r);return this.compileAndRun(n,[t,e])},e.prototype.scaledArrayAddInternal=function(t,e,r,n){var i=new h.AddScaledMatProgram(e.shape,n.shape);return this.compileAndRun(i,[e,n,t,r])},e.prototype.negInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.NEG);return this.compileAndRun(e,[t])},e.prototype.makeOutputArray=function(t,e){var r=F.getTextureShapeFromLogicalShape(this.gpgpu.gl,t),n=this.textureManager.acquireTexture(r);return c.NDArray.make(t,{texture:n,textureShapeRC:r},e)},e.prototype.compileAndRun=function(t,e,r,n){var i=this;null==r&&(r=this.makeOutputArray(t.outputShape,e[0].dtype));var o=E.makeShaderKey(t,e,r),a=this.getAndSaveBinary(o,(function(){return E.compileProgram(i.gpgpu,t,e,r)}));return E.runProgram(a,e,r,n),r},e.prototype.matMulInternal=function(t,e,r,n){var i=new T.MatMulProgram(t.shape,e.shape,r,n);return this.compileAndRun(i,[t,e])},e.prototype.multiplyInternal=function(t,e){var r=new y.BinaryOpProgram(d.MUL,t.shape,e.shape);return this.compileAndRun(r,[t,e])},e.prototype.batchNormalization2DInternal=function(t,e,r,n,i,o){var a=[t,e,r],s=null;null!=o&&(s=o.shape,a.push(o));var u=null;null!=i&&(u=i.shape,a.push(i));var c=new p.BatchNormProgram(t.shape,e.shape,r.shape,s,u,n);return this.compileAndRun(c,a)},e.prototype.batchNormalization3DInternal=function(t,e,r,n,i,o){var a=[t,e,r],s=null;null!=o&&(s=o.shape,a.push(o));var u=null;null!=i&&(u=i.shape,a.push(i));var c=new p.BatchNormProgram(t.shape,e.shape,r.shape,s,u,n);return this.compileAndRun(c,a)},e.prototype.tileInternal=function(t,e){var r=new P.TileProgram(t.shape,e);return this.compileAndRun(r,[t])},e.prototype.transposeInternal=function(t,e){var r=new D.TransposeProgram(t.shape,e);return this.compileAndRun(r,[t])},e.prototype.reduce=function(t,e,r){var n=t.shape[0],i=t.shape[1],o={windowSize:l.computeOptimalWindowSize(i),inSize:i,batchSize:n},a=new I.ReduceProgram(o,e),s=a.outputShape,u=s[0],c=s[1],h=this.makeOutputArray(a.outputShape,r).as2D(u,c);return this.compileAndRun(a,[t],h),1===h.shape[1]?h:this.reduce(h,e,r)},e.prototype.argReduce=function(t,e,r){void 0===r&&(r=null);var n=t.shape[0],i=t.shape[1];null!=r&&(n=r.shape[0],i=r.shape[1]);var o={windowSize:l.computeOptimalWindowSize(i),inSize:i,batchSize:n},a=new f.ArgMinMaxProgram(o,e,null==r),s=a.outputShape,u=s[0],c=s[1],h=this.makeOutputArray(a.outputShape,"int32").as2D(u,c),p=[t];return null!=r&&p.push(r),this.compileAndRun(a,p,h),1===h.shape[1]?h:this.argReduce(t,e,h)},e.prototype.sumInternal=function(t,e){a.assertAxesAreInnerMostDims("sum",e,t.rank);var r=a.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],u=o.sizeFromShape(i),c=t.as2D(-1,u),l=s.SumTypesMap[t.dtype];return this.reduce(c,"sum",l).reshape(n)},e.prototype.argMinInternal=function(t,e){a.assertAxesAreInnerMostDims("argMin",e,t.rank);var r=a.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],s=o.sizeFromShape(i),u=t.as2D(-1,s);return this.argReduce(u,"min").reshape(n)},e.prototype.argMaxInternal=function(t,e){a.assertAxesAreInnerMostDims("argMax",e,t.rank);var r=a.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],s=o.sizeFromShape(i),u=t.as2D(-1,s);return this.argReduce(u,"max").reshape(n)},e.prototype.equalInternal=function(t,e){var r=new y.BinaryOpProgram(d.EQUAL,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[t,e],n)},e.prototype.topKInternal=function(t,e){throw new Error("topK GPU not yet implemented!")},e.prototype.minInternal=function(t,e){a.assertAxesAreInnerMostDims("min",e,t.rank);var r=a.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],s=o.sizeFromShape(i),u=t.as2D(-1,s);return this.reduce(u,"min",u.dtype).reshape(n)},e.prototype.maxInternal=function(t,e){a.assertAxesAreInnerMostDims("max",e,t.rank);var r=a.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],s=o.sizeFromShape(i),u=t.as2D(-1,s);return this.reduce(u,"max",u.dtype).reshape(n)},e.prototype.divideInternal=function(t,e){var r=new y.BinaryOpProgram(d.DIV,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,"float32");return this.compileAndRun(r,[t,e],n)},e.prototype.addInternal=function(t,e){var r=new y.BinaryOpProgram(d.ADD,t.shape,e.shape);return this.compileAndRun(r,[t,e])},e.prototype.subtractInternal=function(t,e){var r=new y.BinaryOpProgram(d.SUB,t.shape,e.shape);return this.compileAndRun(r,[t,e])},e.prototype.ceilInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.CEIL);return this.compileAndRun(e,[t])},e.prototype.floorInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.FLOOR);return this.compileAndRun(e,[t])},e.prototype.expInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.EXP);return this.compileAndRun(e,[t])},e.prototype.logInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.LOG);return this.compileAndRun(e,[t])},e.prototype.sqrtInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.SQRT);return this.compileAndRun(e,[t])},e.prototype.squareInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.SQUARE);return this.compileAndRun(e,[t])},e.prototype.reluInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.RELU);return this.compileAndRun(e,[t])},e.prototype.eluInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.ELU);return this.compileAndRun(e,[t])},e.prototype.leakyReluInternal=function(t,e){var r=new B.UnaryOpProgram(t.shape,L.LEAKY_RELU(e));return this.compileAndRun(r,[t])},e.prototype.clipInternal=function(t,e,r){var n=new g.ClipProgram(t.shape,e,r);return this.compileAndRun(n,[t])},e.prototype.absInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.ABS);return this.compileAndRun(e,[t])},e.prototype.sigmoidInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.SIGMOID);return this.compileAndRun(e,[t])},e.prototype.sinInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.SIN);return this.compileAndRun(e,[t])},e.prototype.cosInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.COS);return this.compileAndRun(e,[t])},e.prototype.tanInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.TAN);return this.compileAndRun(e,[t])},e.prototype.asinInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.ASIN);return this.compileAndRun(e,[t])},e.prototype.acosInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.ACOS);return this.compileAndRun(e,[t])},e.prototype.atanInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.ATAN);return this.compileAndRun(e,[t])},e.prototype.sinhInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.SINH);return this.compileAndRun(e,[t])},e.prototype.coshInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.COSH);return this.compileAndRun(e,[t])},e.prototype.tanhInternal=function(t){var e=new B.UnaryOpProgram(t.shape,L.TANH);return this.compileAndRun(e,[t])},e.prototype.stepInternal=function(t,e){var r=new B.UnaryOpProgram(t.shape,L.STEP(e));return this.compileAndRun(r,[t])},e.prototype.conv2dInternal=function(t,e,r,n){var i=new b.Conv2DProgram(n,null!=r),o=null!=r?[t,e,r]:[t,e];return this.compileAndRun(i,o)},e.prototype.conv2dDerInputInternal=function(t,e,r){var n=new m.Conv2DDerInputProgram(r);return this.compileAndRun(n,[t,e])},e.prototype.conv2dDerFilterInternal=function(t,e,r){var n=new m.Conv2DDerWeightsProgram(r);return this.compileAndRun(n,[t,e])},e.prototype.conv2dDerBiasInternal=function(t){var e=new m.Conv2DDerBiasProgram(t.shape);return this.compileAndRun(e,[t])},e.prototype.depthwiseConv2DInternal=function(t,e,r){var n=new w.DepthwiseConv2DProgram(r);return this.compileAndRun(n,[t,e])},e.prototype.maxPoolInternal=function(t,e){var r=new R.Pool2DProgram(e,"max",!1);return this.compileAndRun(r,[t])},e.prototype.minPoolInternal=function(t,e){var r=new R.Pool2DProgram(e,"min",!1);return this.compileAndRun(r,[t])},e.prototype.avgPoolInternal=function(t,e){var r=new R.Pool2DProgram(e,"avg",!1);return this.compileAndRun(r,[t])},e.prototype.maxPoolBackpropInternal=function(t,e,r){var n=new R.Pool2DProgram(r,"max",!0),i=this.compileAndRun(n,[e]),o=new S.MaxPool2DBackpropProgram(r),a=this.compileAndRun(o,[t,i]);return i.dispose(),a},e.prototype.resizeBilinear3DInternal=function(t,e,r){var n=new M.ResizeBilinear3DProgram(t.shape,e,r);return this.compileAndRun(n,[t])},e.prototype.multinomialInternal=function(t,e,r){var n=t.shape[0],i=t.shape[1],o=new k.MultinomialProgram(n,i,e),a=this.makeOutputArray(o.outputShape,"int32"),s=o.getCustomSetupFunc(r);return this.compileAndRun(o,[t],a,s)},e.prototype.oneHotInternal=function(t,e,r,n){var i=new O.OneHotProgram(t.size,e,r,n);return this.compileAndRun(i,[t])},e.prototype.getAndSaveBinary=function(t,e){return t in this.binaryCache||(this.binaryCache[t]=e()),this.binaryCache[t]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){for(var t in this.binaryCache)this.gpgpu.deleteProgram(this.binaryCache[t].webGLProgram);this.textureManager.dispose(),this.gpgpuCreatedLocally&&this.gpgpu.dispose()},e}(s.NDArrayMath);e.NDArrayMathGPU=j},5695:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s,u=r(3073),c=r(193),l=r(1737),h=r(4937);function f(){if(null==e.GPGPU||null==e.TEXTURE_MANAGER)throw new Error("GPU not intialized.")}e.GPGPU=null,e.TEXTURE_MANAGER=null,(s=e.DType||(e.DType={})).float32="float32",s.int32="int32",s.bool="bool",e.initializeGPU=function(t,r){e.GPGPU=t,e.TEXTURE_MANAGER=r};var p=function(){function t(t,e,r){c.assert(null!=e.values||null!=e.texture,"Either `values` or `texture` must be defined"),c.assert(null==e.texture||null!=e.textureShapeRC,"`textureShape` must be defined when `texture` is defined"),this.size=c.sizeFromShape(t),null!=e.values&&c.assert(this.size===e.values.length,"Constructing ndarray of shape ("+this.size+") should match the length of values ("+e.values.length+")"),this.shape=t,null==e.textureType&&(e.textureType=l.TextureType.DEFAULT),this.ndarrayData=e,this.dtype=r||"float32";var n=this.shape.length;if(n<2)this.strides=[];else{this.strides=new Array(n-1),this.strides[n-2]=this.shape[n-1];for(var i=n-3;i>=0;--i)this.strides[i]=this.strides[i+1]*this.shape[i+1]}}return t.zeros=function(e,r){var n=function(t,e){if(null==e||"float32"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error("Unknown data type "+e)}(c.sizeFromShape(e),r);return t.make(e,{values:n},r)},t.zerosLike=function(e){return t.zeros(e.shape,e.dtype)},t.like=function(e){var r=b(e.getValues(),e.dtype);return t.make(e.shape,{values:r},e.dtype)},t.make=function(e,r,n){if(r.isDisposed)throw new Error("Cannot make new NDArray from disposed NDArrayData.");switch(e.length){case 0:return new d(r,n);case 1:return new y(r,n);case 2:return new g(e,r,n);case 3:return new v(e,r,n);case 4:return new m(e,r,n);default:return new t(e,r,n)}},t.fromPixels=function(t,r){if(void 0===r&&(r=3),r>4)throw new Error("Cannot construct NDArray with more than 4 channels from pixels.");var n=[t.height,t.width,r],i=[n[0],n[1]],o=e.TEXTURE_MANAGER.acquireTexture(i),a=l.TextureType.RGBA_COLOR;return e.GPGPU.uploadPixelDataToTexture(o,t),v.make(n,{texture:o,textureShapeRC:i,textureType:a})},t.prototype.reshape=function(e){return this.throwIfDisposed(),e=c.inferFromImplicitShape(e,this.size),c.arraysEqual(this.shape,e)?this:(c.assert(this.size===c.sizeFromShape(e),"new shape and old shape must have the same number of elements."),t.make(e,this.ndarrayData,this.dtype))},t.prototype.flatten=function(){return this instanceof y?this:this.as1D()},t.prototype.asScalar=function(){return c.assert(1===this.size,"The array must have only 1 element."),this.reshape([])},t.prototype.as1D=function(){return this.reshape([this.size])},t.prototype.as2D=function(t,e){return this.reshape([t,e])},t.prototype.as3D=function(t,e,r){return this.reshape([t,e,r])},t.prototype.as4D=function(t,e,r,n){return this.reshape([t,e,r,n])},t.prototype.asType=function(e){this.throwIfDisposed();var r=this.getData();return null!=r.values&&(r={values:_(r.values,e)}),t.make(this.shape,r,e)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.throwIfDisposed(),this.shape.length},enumerable:!0,configurable:!0}),t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.throwIfDisposed();for(var r=t[t.length-1],n=0;n<t.length-1;++n)r+=this.strides[n]*t[n];return this.getValues()[r]},t.prototype.add=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.throwIfDisposed(),this.set.apply(this,[this.get.apply(this,e)+t].concat(e))},t.prototype.set=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.throwIfDisposed();for(var n=e[e.length-1],i=0;i<e.length-1;++i)n+=this.strides[i]*e[i];this.getValues()[n]=t},t.prototype.val=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return this.throwIfDisposed(),[4,this.data()];case 1:return e.sent(),[2,this.get.apply(this,t)]}}))}))},t.prototype.locToIndex=function(t){for(var e=t[t.length-1],r=0;r<t.length-1;++r)e+=this.strides[r]*t[r];return e},t.prototype.indexToLoc=function(t){for(var e=new Array(this.shape.length),r=0;r<e.length-1;++r)e[r]=Math.floor(t/this.strides[r]),t-=e[r]*this.strides[r];return e[e.length-1]=t,e},t.prototype.fill=function(t){this.throwIfDisposed(),this.getValues().fill(t)},t.prototype.getData=function(){return this.ndarrayData},t.prototype.getValues=function(){return this.dataSync()},t.prototype.getValuesAsync=function(){return this.data()},t.prototype.data=function(){return o(this,void 0,void 0,(function(){var t,r;return a(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),null!=this.ndarrayData.values?[2,this.ndarrayData.values]:u.ENV.get("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED")&&this.ndarrayData.textureType===l.TextureType.DEFAULT?(t=this.ndarrayData,[4,e.GPGPU.downloadMatrixFromTextureAsync(this.ndarrayData.texture,this.ndarrayData.textureShapeRC[0],this.ndarrayData.textureShapeRC[1])]):[3,2];case 1:return t.values=n.sent(),[2,this.ndarrayData.values];case 2:return u.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED")?[3,4]:[4,this.dataSync()];case 3:return[2,n.sent()];case 4:return r=function(){},[4,e.GPGPU.runQuery(r)];case 5:return n.sent(),[2,this.dataSync()]}}))}))},t.prototype.dataSync=function(){if(this.throwIfDisposed(),null==this.ndarrayData.values){f();var t;t=this.ndarrayData.textureType===l.TextureType.DEFAULT?e.GPGPU.downloadMatrixFromTexture(this.ndarrayData.texture,this.ndarrayData.textureShapeRC[0],this.ndarrayData.textureShapeRC[1]):e.GPGPU.downloadMatrixFromRGBAColorTexture(this.ndarrayData.texture,this.ndarrayData.textureShapeRC[0],this.ndarrayData.textureShapeRC[1],this.shape[2]),this.ndarrayData.values=function(t,e){if("float32"===e)return t;if("int32"===e||"bool"===e){for(var r="int32"===e?new Int32Array(t.length):new Uint8Array(t.length),n=0;n<r.length;++n){var i=t[n];i=isNaN(i)?c.getNaN(e):Math.round(i),r[n]=i}return r}throw new Error("Unknown dtype "+e)}(t,this.dtype),this.disposeTexture()}return this.ndarrayData.values},t.prototype.uploadToGPU=function(){f(),this.throwIfDisposed(),this.ndarrayData.textureShapeRC=h.getTextureShapeFromLogicalShape(e.GPGPU.gl,this.shape),this.ndarrayData.texture=e.TEXTURE_MANAGER.acquireTexture(this.ndarrayData.textureShapeRC),this.ndarrayData.textureType=l.TextureType.DEFAULT,e.GPGPU.uploadMatrixToTexture(this.ndarrayData.texture,this.ndarrayData.textureShapeRC[0],this.ndarrayData.textureShapeRC[1],function(t,e){if(t instanceof Float32Array)return t;for(var r=new Float32Array(t.length),n=0;n<r.length;n++){var i=t[n];r[n]=c.isValNaN(i,e)?NaN:i}return r}(this.ndarrayData.values,this.dtype)),this.ndarrayData.values=null},t.prototype.getTexture=function(){return this.throwIfDisposed(),null==this.ndarrayData.texture&&this.uploadToGPU(),this.ndarrayData.texture},t.prototype.getTextureShapeRC=function(){return this.throwIfDisposed(),null==this.ndarrayData.textureShapeRC&&this.uploadToGPU(),this.ndarrayData.textureShapeRC},t.prototype.throwIfDisposed=function(){if(this.ndarrayData.isDisposed)throw new Error("NDArray is disposed.")},t.prototype.dispose=function(){this.ndarrayData.values=null,this.shape=null,this.ndarrayData.isDisposed=!0,null!=this.ndarrayData.texture&&this.disposeTexture()},t.prototype.disposeTexture=function(){f(),e.TEXTURE_MANAGER.releaseTexture(this.ndarrayData.texture,this.ndarrayData.textureShapeRC),this.ndarrayData.texture=null,this.ndarrayData.textureShapeRC=null,this.ndarrayData.textureType=null},t.prototype.inGPU=function(){return this.throwIfDisposed(),null!=this.ndarrayData.texture},t.prototype.equals=function(t){return this.throwIfDisposed(),this.dtype===t.dtype&&c.arraysEqual(this.shape,t.shape)&&c.arraysEqual(this.getValues(),t.getValues())},t.rand=function(e,r){for(var n=c.sizeFromShape(e),i=new Float32Array(n),o=0;o<n;o++)i[o]=r();return t.make(e,{values:i})},t.randNormal=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=1),t.rand(e,(function(){return c.randGauss(r,n)}))},t.randTruncatedNormal=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=1),t.rand(e,(function(){return c.randGauss(r,n,!0)}))},t.randUniform=function(e,r,n){return t.rand(e,(function(){return c.randUniform(r,n)}))},t}();e.NDArray=p;var d=function(t){function e(e,r){return null!=e.texture&&(e.textureShapeRC=[1,1]),t.call(this,[],e,r)||this}return i(e,t),e.new=function(t,r){return new e({values:_([t],r)},r)},e.prototype.get=function(){return this.getValues()[0]},e.prototype.val=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return t.sent(),[2,this.get()]}}))}))},e.prototype.set=function(t){this.getValues()[0]=t},e.prototype.add=function(t){this.getValues()[0]+=t},e.prototype.asType=function(e){return t.prototype.asType.call(this,e)},e.prototype.locToIndex=function(t){return 0},e.prototype.indexToLoc=function(t){return[]},e.ZERO=e.new(0),e.ONE=e.new(1),e.TWO=e.new(2),e.NEG_ONE=e.new(-1),e}(p);e.Scalar=d;var y=function(t){function e(e,r){var n=null!=e.values?[e.values.length]:[c.sizeFromShape(e.textureShapeRC)];return t.call(this,n,e,r)||this}return i(e,t),e.new=function(t,r){if(!w(t)){var n=c.inferShape(t);c.assert(1===n.length,"Error constructing Array1D. Shape of values "+n+" is not 1 dimensional.")}return new e({values:_(t,r)},r)},e.prototype.get=function(t){return this.getValues()[t]},e.prototype.set=function(t,e){this.getValues()[e]=t},e.prototype.val=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.data()];case 1:return e.sent(),[2,this.get(t)]}}))}))},e.prototype.add=function(t,e){this.getValues()[e]+=t},e.prototype.locToIndex=function(t){return t[0]},e.prototype.indexToLoc=function(t){return[t]},e.prototype.asType=function(e){return t.prototype.asType.call(this,e)},e.zeros=function(t,e){return p.zeros(t,e)},e.randNormal=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),p.rand(t,(function(){return c.randGauss(e,r)}))},e.randTruncatedNormal=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),p.rand(t,(function(){return c.randGauss(e,r,!0)}))},e.randUniform=function(t,e,r){return p.rand(t,(function(){return c.randUniform(e,r)}))},e}(p);e.Array1D=y;var g=function(t){function e(e,r,n){var i=this;return c.assert(2===e.length,"Shape should be of length 2"),(i=t.call(this,e,r,n)||this).stride0=i.strides[0],i}return i(e,t),e.new=function(t,r,n){if(!w(r)){var i=c.inferShape(r);i.length>1&&c.assertShapesMatch(t,i,"Error when constructing Array2D. Shape of values "+i+" does not match the provided shape "+t+". ")}return new e(t,{values:_(r,n)},n)},e.prototype.get=function(t,e){return this.getValues()[this.stride0*t+e]},e.prototype.set=function(t,e,r){this.getValues()[this.stride0*e+r]=t},e.prototype.add=function(t,e,r){this.getValues()[this.stride0*e+r]+=t},e.prototype.val=function(t,e){return o(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,this.data()];case 1:return r.sent(),[2,this.get(t,e)]}}))}))},e.prototype.locToIndex=function(t){return this.stride0*t[0]+t[1]},e.prototype.indexToLoc=function(t){return[Math.floor(t/this.stride0),t%this.stride0]},e.prototype.asType=function(e){return t.prototype.asType.call(this,e)},e.zeros=function(t,e){return p.zeros(t,e)},e.randNormal=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),p.rand(t,(function(){return c.randGauss(e,r)}))},e.randTruncatedNormal=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),p.rand(t,(function(){return c.randGauss(e,r,!0)}))},e.randUniform=function(t,e,r){return p.rand(t,(function(){return c.randUniform(e,r)}))},e}(p);e.Array2D=g;var v=function(t){function e(e,r,n){var i=this;return c.assert(3===e.length,"Shape should be of length 3"),(i=t.call(this,e,r,n)||this).stride0=i.strides[0],i.stride1=i.strides[1],i}return i(e,t),e.new=function(t,r,n){if(!w(r)){var i=c.inferShape(r);i.length>1&&c.assertShapesMatch(t,i,"Error when constructing Array3D. Shape of values "+i+" does not match the provided shape "+t+". ")}return new e(t,{values:_(r,n)},n)},e.prototype.get=function(t,e,r){return this.getValues()[this.stride0*t+this.stride1*e+r]},e.prototype.set=function(t,e,r,n){this.getValues()[this.stride0*e+this.stride1*r+n]=t},e.prototype.val=function(t,e,r){return o(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.data()];case 1:return n.sent(),[2,this.get(t,e,r)]}}))}))},e.prototype.add=function(t,e,r,n){this.getValues()[this.stride0*e+this.stride1*r+n]+=t},e.prototype.locToIndex=function(t){return this.stride0*t[0]+this.stride1*t[1]+t[2]},e.prototype.indexToLoc=function(t){var e=Math.floor(t/this.stride0);return t-=e*this.stride0,[e,Math.floor(t/this.stride1),t%this.stride1]},e.prototype.asType=function(e){return t.prototype.asType.call(this,e)},e.zeros=function(t,e){return p.zeros(t,e)},e.randNormal=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),p.rand(t,(function(){return c.randGauss(e,r)}))},e.randTruncatedNormal=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),p.rand(t,(function(){return c.randGauss(e,r,!0)}))},e.randUniform=function(t,e,r){return p.rand(t,(function(){return c.randUniform(e,r)}))},e}(p);e.Array3D=v;var m=function(t){function e(e,r,n){var i=this;return c.assert(4===e.length,"Shape should be of length 4"),(i=t.call(this,e,r,n)||this).stride0=i.strides[0],i.stride1=i.strides[1],i.stride2=i.strides[2],i}return i(e,t),e.new=function(t,r,n){if(!w(r)){var i=c.inferShape(r);i.length>1&&c.assertShapesMatch(t,i,"Error when constructing Array4D. Shape of values "+i+" does not match the provided shape "+t+". ")}return new e(t,{values:_(r,n)},n)},e.prototype.get=function(t,e,r,n){return this.getValues()[this.stride0*t+this.stride1*e+this.stride2*r+n]},e.prototype.set=function(t,e,r,n,i){this.getValues()[this.stride0*e+this.stride1*r+this.stride2*n+i]=t},e.prototype.val=function(t,e,r,n){return o(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.data()];case 1:return i.sent(),[2,this.get(t,e,r,n)]}}))}))},e.prototype.add=function(t,e,r,n,i){this.getValues()[this.stride0*e+this.stride1*r+this.stride2*n+i]+=t},e.prototype.locToIndex=function(t){return this.stride0*t[0]+this.stride1*t[1]+this.stride2*t[2]+t[3]},e.prototype.indexToLoc=function(t){var e=Math.floor(t/this.stride0);t-=e*this.stride0;var r=Math.floor(t/this.stride1);return t-=r*this.stride1,[e,r,Math.floor(t/this.stride2),t%this.stride2]},e.prototype.asType=function(e){return t.prototype.asType.call(this,e)},e.zeros=function(t,e){return p.zeros(t,e)},e.randNormal=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),p.rand(t,(function(){return c.randGauss(e,r)}))},e.randTruncatedNormal=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),p.rand(t,(function(){return c.randGauss(e,r,!0)}))},e.randUniform=function(t,e,r){return p.rand(t,(function(){return c.randUniform(e,r)}))},e}(p);function b(t,e){if(null==e||"float32"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e){for(var r=new Uint8Array(t.length),n=0;n<r.length;++n){var i=t[n];c.isValNaN(i,"bool")?r[n]=c.getNaN("bool"):i&&(r[n]=1)}return r}throw new Error("Unknown data type "+e)}function w(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function _(t,e){return function(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}(t,e)?t:(Array.isArray(t)&&(t=c.flatten(t)),b(t,e))}e.Array4D=m},2937:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PARALLELIZE_THRESHOLD=30,e.computeOptimalWindowSize=function(t){return t<=e.PARALLELIZE_THRESHOLD?t:function(t,e){for(var r=e;r<t;++r)if(t%r==0)return r;return t}(t,Math.floor(Math.sqrt(t)))}},4359:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(193);e.assertParamsValid=function(t,e,r){n.assert(t.rank===e.length,"Error in slice"+t.rank+"D: Length of begin "+e+" must match the rank of the array ("+t.rank+")."),n.assert(t.rank===r.length,"Error in slice"+t.rank+"D: Length of size "+r+" must match the rank of the array ("+t.rank+").");for(var i=0;i<t.rank;++i)n.assert(e[i]+r[i]<=t.shape[i],"Error in slice"+t.rank+"D: begin["+i+"] + size["+i+"] ("+(e[i]+r[i])+") would overflow input.shape["+i+"] ("+t.shape[i]+")")}},4713:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1572);e.AddScaledMatProgram=function(t,e){this.variableNames=["A","B","c1","c2"],this.supportsBroadcasting=!0,this.outputShape=n.assertAndGetBroadcastShape(t,e),this.userCode="\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        float c1 = getC1();\n        float c2 = getC2();\n        setOutput(dot(vec2(c1, c2), vec2(a, b)));\n      }\n    "}},7818:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ArgMinMaxProgram=function(t,e,r){this.variableNames=["A"];var n=t.windowSize,i=t.batchSize,o=t.inSize,a=Math.ceil(o/n);r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];var s="max"===e?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        int bestIndex = 0;\n        float bestValue = getA(batch, inOffset);\n\n        for (int i = 0; i < "+n+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (isNaN(candidate)) {\n            setOutput(candidate);\n            return;\n          }\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "}},8293:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1572);e.BatchNormProgram=function(t,e,r,i,o,a){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],n.assertAndGetBroadcastShape(t,e),n.assertAndGetBroadcastShape(t,r);var s="0.0";null!=i&&(n.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="1.0";null!=o&&(n.assertAndGetBroadcastShape(t,o),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+s+";\n        float scale = "+u+";\n        float inv = scale / sqrt(variance + float("+a+"));\n        setOutput((x - mean) * inv + offset);\n      }\n    "}},1375:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1572);e.ADD="return a + b;",e.SUB="return a - b;",e.MUL="return a * b;",e.DIV="return a / b;",e.EQUAL="\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n  return float(a == b);\n";e.BinaryOpProgram=function(t,e,r){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.outputShape=n.assertAndGetBroadcastShape(e,r),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+t+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "}},1545:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ClipProgram=function(t,e,r){this.variableNames=["A"],this.outputShape=t;var n=e.toFixed(20),i=r.toFixed(20);this.userCode="\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, "+n+", "+i+"));\n      }\n    "}},3916:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(7950),i=r(841);e.ConcatProgram=function(t,e,r){this.variableNames=["A","B"],this.outputShape=[];var o=["yR","yC","yD","yW"][r];this.outputShape=n.computeOutShape(t,e,r);var a=i.getCoordsDataType(t.length),s=function(t){var e=1===t?"int yR = coords;":"int yR = coords.x;";if(t>1&&(e+="\nint yC = coords.y;"),t>2&&(e+="\nint yD = coords.z;"),t>3&&(e+="\nint yW = coords.w;"),t>4)throw Error("Concat for rank "+t+" is not yet supported");return e}(t.length),u=function(t){if(1===t)return"yR";if(2===t)return"yR, yC";if(3===t)return"yR, yC, yD";if(4===t)return"yR, yC, yD, yW";throw Error("Concat for rank "+t+" is not yet supported")}(t.length);this.userCode="\n      void main() {\n        "+a+" coords = getOutputCoords();\n        "+s+"\n\n        float value = 0.0;\n        if ("+o+" < "+t[r]+") {\n          value = getA("+u+");\n        } else {\n          "+o+" -= "+t[r]+";\n          value = getB("+u+");\n        }\n\n        setOutput(value);\n      }\n    "}},2207:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(7819);e.Conv2DDerWeightsProgram=function(t){this.variableNames=["x","dy"];var e=t.outShape,r=e[0],i=e[1],o=e[2],a=t.inShape,s=a[0],u=a[1],c=a[2],l=t.strideHeight,h=t.strideWidth;this.outputShape=n.computeWeightsShape4D(c,o,t.filterHeight,t.filterWidth);var f=t.padInfo.top,p=t.padInfo.left;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int yR = 0; yR < "+r+"; yR++) {\n          int xR = wR + yR * "+l+" - "+f+";\n\n          if (xR < 0 || xR >= "+s+") {\n            continue;\n          }\n\n          for (int yC = 0; yC < "+i+"; yC++) {\n            int xC = wC + yC * "+h+" - "+p+";\n\n            if (xC < 0 || xC >= "+u+") {\n              continue;\n            }\n\n            float dyValue = getDy(yR, yC, d2);\n            float xValue = getX(xR, xC, d1);\n            dotProd += (xValue * dyValue);\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};e.Conv2DDerInputProgram=function(t){this.variableNames=["dy","W"];var e=t.outShape,r=e[0],n=e[1],i=e[2];this.outputShape=t.inShape;var o=t.filterHeight,a=t.filterWidth,s=t.strideHeight,u=t.strideWidth,c=o-1-t.padInfo.top,l=a-1-t.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2("+c+", "+l+");\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int d1 = coords.z;\n\n        ivec2 dyCorner = coords.xy - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+o+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+s+".0;\n\n          if (dyR < 0.0 || dyR >= "+r+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+o+" - 1 - wR;\n\n          for (int wC = 0; wC < "+a+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+u+".0;\n\n            if (dyC < 0.0 || dyC >= "+n+".0 || fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+a+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+i+"; d2++) {\n              float xValue = getDy(idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};e.Conv2DDerBiasProgram=function(t){this.variableNames=["dy"];var e=t[0],r=t[1],n=t[2];this.outputShape=[n],this.userCode="\n      void main() {\n        int d2 = getOutputCoords();\n\n        float derBias = 0.0;\n        for (int yR = 0; yR < "+e+"; yR++) {\n          for (int yC = 0; yC < "+r+"; yC++) {\n            derBias += getDy(yR, yC, d2);\n          }\n        }\n        setOutput(derBias);\n      }\n    "}},5975:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Conv2DProgram=function(t,e){this.variableNames=["x","W"],e&&this.variableNames.push("bias"),this.outputShape=t.outShape;var r=e?"dotProd += getBias(d2);":"",n=t.inShape,i=n[0],o=n[1],a=n[2],s=t.padInfo.top,u=t.padInfo.left,c=t.strideHeight,l=t.strideWidth,h=t.filterHeight,f=t.filterWidth,p=4*Math.floor(a/4),d=a%4;this.userCode="\n      const ivec2 strides = ivec2("+c+", "+l+");\n      const ivec2 pads = ivec2("+s+", "+u+");\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int d2 = coords.z;\n\n        ivec2 xRCCorner = coords.xy * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+h+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+i+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC;\n\n            if (xC < 0 || xC >= "+o+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+p+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(xR, xC, d1),\n                getX(xR, xC, d1 + 1),\n                getX(xR, xC, d1 + 2),\n                getX(xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===d)+") {\n              dotProd +=\n                getX(xR, xC, "+p+") *\n                getW(wR, wC, "+p+", d2);\n            } else if ("+(2===d)+") {\n              vec2 xValues = vec2(\n                getX(xR, xC, "+p+"),\n                getX(xR, xC, "+p+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+p+", d2),\n                getW(wR, wC, "+p+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===d)+") {\n              vec3 xValues = vec3(\n                getX(xR, xC, "+p+"),\n                getX(xR, xC, "+p+" + 1),\n                getX(xR, xC, "+p+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+p+", d2),\n                getW(wR, wC, "+p+" + 1, d2),\n                getW(wR, wC, "+p+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        "+r+"\n        setOutput(dotProd);\n      }\n    "}},8511:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DepthwiseConv2DProgram=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.inShape[1],r=t.inShape[2],n=t.padInfo.top,i=t.padInfo.left,o=t.strideHeight,a=t.strideWidth,s=t.filterHeight,u=t.filterWidth,c=t.channelMul;this.userCode="\n      const ivec2 strides = ivec2("+o+", "+a+");\n      const ivec2 pads = ivec2("+n+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+c+";\n        int q = d2 - d1 * "+c+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+s+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+u+"; wC++) {\n            int xC = xCCorner + wC;\n\n            if (xC < 0 || xC >= "+r+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}},6585:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.variableNames=["source"],this.outputShape=null,this.userCode="\n      uniform ivec2 sourceStart;\n      uniform ivec2 destStart;\n\n      void main() {\n        ivec2 destCoords = getOutputCoords() - destStart;\n        int index = destCoords.x * "+e+" + destCoords.y;\n        int r = index / "+t+";\n        ivec2 sourceCoords = sourceStart + ivec2(r, index - r * "+t+");\n        setOutput(getSource(sourceCoords.x, sourceCoords.y));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t,e,r){return function(n,i){n.setOutputMatrixWriteRegion(e[0],r[0],e[1],r[1]);var o=n.getUniformLocation(i,"sourceStart");n.gl.uniform2i(o,t[0],t[1]);var a=n.getUniformLocation(i,"destStart");n.gl.uniform2i(a,e[0],e[1])}},t}();e.Copy2DProgram=r},4430:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(3073),a=r(193),s=r(4299),u=r(1737),c=r(4937),l=function(){function t(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.autoDebugValidate=!1,this.gl=null!=t?t:s.createWebGLContext(),1===o.ENV.get("WEBGL_VERSION")?(this.textureFloatExtension=c.getExtensionOrThrow(this.gl,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float")):this.colorBufferFloatExtension=c.getExtensionOrThrow(this.gl,"EXT_color_buffer_float"),this.loseContextExtension=c.getExtensionOrThrow(this.gl,"WEBGL_lose_context"),o.ENV.get("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED")&&(this.getBufferSubDataAsyncExtension=this.gl.getExtension("WEBGL_get_buffer_sub_data_async")),this.vertexBuffer=s.createVertexBuffer(this.gl),this.indexBuffer=s.createIndexBuffer(this.gl),this.framebuffer=c.createFramebuffer(this.gl)}return t.prototype.dispose=function(){var t=this;this.throwIfDisposed(),null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;c.callAndCheck(e,(function(){return e.finish()})),c.callAndCheck(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),c.callAndCheck(e,(function(){return e.deleteFramebuffer(t.framebuffer)})),c.callAndCheck(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,null)})),c.callAndCheck(e,(function(){return e.deleteBuffer(t.vertexBuffer)})),c.callAndCheck(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)})),c.callAndCheck(e,(function(){return e.deleteBuffer(t.indexBuffer)})),this.loseContextExtension.loseContext(),this.disposed=!0},t.prototype.enableAutomaticDebugValidation=function(t){this.autoDebugValidate=t,c.enableDebugWebGLErrorChecking(t)},t.prototype.createMatrixTexture=function(t,e){return this.throwIfDisposed(),s.createMatrixTexture(this.gl,t,e)},t.prototype.uploadPixelDataToTexture=function(t,e){this.throwIfDisposed(),s.uploadPixelDataToTexture(this.gl,t,e)},t.prototype.createPackedMatrixTexture=function(t,e){return this.throwIfDisposed(),s.createPackedMatrixTexture(this.gl,t,e)},t.prototype.deleteMatrixTexture=function(t){var e=this;this.throwIfDisposed(),this.outputTexture===t&&(c.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer),this.outputTexture=null),c.callAndCheck(this.gl,(function(){return e.gl.deleteTexture(t)}))},t.prototype.uploadMatrixToTexture=function(t,e,r,n){return this.throwIfDisposed(),s.uploadMatrixToTexture(this.gl,t,e,r,n,1)},t.prototype.uploadMatrixToPackedTexture=function(t,e,r,n){return this.throwIfDisposed(),s.uploadMatrixToPackedTexture(this.gl,t,e,r,n)},t.prototype.downloadMatrixFromTexture=function(t,e,r){var n=this;return this.downloadMatrixDriver(t,(function(){return s.downloadMatrixFromOutputTexture(n.gl,e,r)}))},t.prototype.downloadMatrixFromTextureAsync=function(t,e,r){return n(this,void 0,void 0,(function(){var n=this;return i(this,(function(i){if(null==this.getBufferSubDataAsyncExtension)throw new Error("Cannot download matrix from output texture asynchronously, WEBGL_get_buffer_sub_data_async is not enabled.");return[2,this.downloadMatrixDriverAsync(t,(function(){return s.downloadMatrixFromOutputTextureAsync(n.gl,n.getBufferSubDataAsyncExtension,e,r)}))]}))}))},t.prototype.downloadMatrixFromRGBAColorTexture=function(t,e,r,n){var i=this;return this.downloadMatrixDriver(t,(function(){return s.downloadMatrixFromRGBAColorTexture(i.gl,e,r,n)}))},t.prototype.downloadMatrixFromPackedTexture=function(t,e,r){var n=this;return this.downloadMatrixDriver(t,(function(){return s.downloadMatrixFromPackedOutputTexture(n.gl,e,r)}))},t.prototype.createProgram=function(t){this.throwIfDisposed();var e=this.gl,r=c.createFragmentShader(e,t),n=s.createVertexShader(e),i=c.createProgram(e);return c.callAndCheck(e,(function(){return e.attachShader(i,n)})),c.callAndCheck(e,(function(){return e.attachShader(i,r)})),c.linkProgram(e,i),this.autoDebugValidate&&c.validateProgram(e,i),i},t.prototype.deleteProgram=function(t){var e=this;this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&c.callAndCheck(this.gl,(function(){return e.gl.deleteProgram(t)}))},t.prototype.setProgram=function(t){var e=this;this.throwIfDisposed(),this.program=t,null!=this.program&&this.autoDebugValidate&&c.validateProgram(this.gl,this.program),c.callAndCheck(this.gl,(function(){return e.gl.useProgram(t)}))},t.prototype.getUniformLocation=function(t,e){return this.throwIfDisposed(),c.getProgramUniformLocationOrThrow(this.gl,t,e)},t.prototype.getAttributeLocation=function(t,e){var r=this;return this.throwIfDisposed(),c.callAndCheck(this.gl,(function(){return r.gl.getAttribLocation(t,e)}))},t.prototype.getUniformLocationNoThrow=function(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)},t.prototype.setInputMatrixTexture=function(t,e,r){this.throwIfDisposed(),this.throwIfNoProgram(),c.bindTextureToProgramUniformSampler(this.gl,this.program,t,e,r)},t.prototype.setOutputMatrixTexture=function(t,e,r){this.setOutputMatrixTextureDriver(t,r,e)},t.prototype.setOutputPackedMatrixTexture=function(t,e,r){this.throwIfDisposed();var n=u.getPackedMatrixTextureShapeWidthHeight(e,r),i=n[0],o=n[1];this.setOutputMatrixTextureDriver(t,i,o)},t.prototype.setOutputMatrixWriteRegion=function(t,e,r,n){this.setOutputMatrixWriteRegionDriver(r,t,n,e)},t.prototype.setOutputPackedMatrixWriteRegion=function(t,e,r,n){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){null!=this.program&&c.validateProgram(this.gl,this.program),c.validateFramebuffer(this.gl)},t.prototype.executeProgram=function(t){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;s.bindVertexProgramAttributeStreams(e,this.program,this.vertexBuffer,t),this.autoDebugValidate&&this.debugValidate(),c.callAndCheck(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))},t.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),c.callAndCheck(this.gl,(function(){return t.gl.finish()}))},t.prototype.runQuery=function(t){return 2===o.ENV.get("WEBGL_VERSION")?this.runQueryWebGL2(t):this.runQueryWebGL1(t)},t.prototype.runQueryWebGL2=function(t){var e=this,r=c.getExtensionOrThrow(this.gl,"EXT_disjoint_timer_query_webgl2"),n=this.gl.createQuery();return this.gl.beginQuery(r.TIME_ELAPSED_EXT,n),t(),this.gl.endQuery(r.TIME_ELAPSED_EXT),new Promise((function(t,i){a.repeatedTry((function(){var t=e.gl.getQueryParameter(n,e.gl.QUERY_RESULT_AVAILABLE),i=e.gl.getParameter(r.GPU_DISJOINT_EXT);return t&&!i})).then((function(){var r=e.gl.getQueryParameter(n,e.gl.QUERY_RESULT);t(r/1e6)})).catch((function(){console.warn("Disjoint query timer never available."),t(-1)}))}))},t.prototype.runQueryWebGL1=function(t){var e=this,r=c.getExtensionOrThrow(this.gl,"EXT_disjoint_timer_query"),n=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,n),t(),r.endQueryEXT(r.TIME_ELAPSED_EXT),new Promise((function(t,i){a.repeatedTry((function(){var t=r.getQueryObjectEXT(n,r.QUERY_RESULT_AVAILABLE_EXT),i=e.gl.getParameter(r.GPU_DISJOINT_EXT);return t&&!i})).then((function(){var e=r.getQueryObjectEXT(n,r.QUERY_RESULT_EXT);t(e/1e6)})).catch((function(){console.warn("Disjoint query timer never available."),t(-1)}))}))},t.prototype.downloadMatrixDriverSetup=function(t){this.throwIfDisposed(),c.bindColorTextureToFramebuffer(this.gl,t,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(this.gl)},t.prototype.downloadMatrixDriverTeardown=function(){null!=this.outputTexture?(c.bindColorTextureToFramebuffer(this.gl,this.outputTexture,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(this.gl)):c.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer)},t.prototype.downloadMatrixDriver=function(t,e){this.downloadMatrixDriverSetup(t);var r=e();return this.downloadMatrixDriverTeardown(),r},t.prototype.downloadMatrixDriverAsync=function(t,e){return n(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return this.downloadMatrixDriverSetup(t),[4,e()];case 1:return r=n.sent(),this.downloadMatrixDriverTeardown(),[2,r]}}))}))},t.prototype.setOutputMatrixTextureDriver=function(t,e,r){this.throwIfDisposed();var n=this.gl;c.bindColorTextureToFramebuffer(n,t,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(n),this.outputTexture=t,c.callAndCheck(n,(function(){return n.viewport(0,0,e,r)})),c.callAndCheck(n,(function(){return n.scissor(0,0,e,r)}))},t.prototype.setOutputMatrixWriteRegionDriver=function(t,e,r,n){var i=this;this.throwIfDisposed(),c.callAndCheck(this.gl,(function(){return i.gl.scissor(t,e,r,n)}))},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},t}();e.GPGPUContext=l},5136:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3073),i=r(193),o=r(841),a=["uv","clipSpacePos"];function s(){return!n.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")}function u(t,e){if(t.length!==e.length)throw Error("Binary was compiled with "+t.length+" inputs, but was executed with "+e.length+" inputs");t.forEach((function(t,r){var n=t.logicalShape,o=t.texShape,a=e[r].shape,s=e[r].getTextureShapeRC();if(!i.arraysEqual(n,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+n+" and "+a+" must match");if(!i.arraysEqual(o,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+o+" and "+s+" must match")}))}e.compileProgram=function(t,e,r,n){for(var i=e.userCode,u=r.map((function(t,r){var n={logicalShape:t.shape,texShape:t.getTextureShapeRC(),textureType:t.getData().textureType};return{name:e.variableNames[r],shapeInfo:n}})),c=u.map((function(t){return t.shapeInfo})),l={logicalShape:n.shape,texShape:n.getTextureShapeRC(),textureType:n.getData().textureType},h=o.makeShader(u,l,i,!0===e.supportsBroadcasting),f=t.createProgram(h),p={},d=0;d<e.variableNames.length;d++){var y=e.variableNames[d];p[y]=t.getUniformLocation(f,y)}var g={};return a.forEach((function(e){g[e]=t.getAttributeLocation(f,e)})),s()&&(p.NaN=t.getUniformLocation(f,"NaN")),{program:e,source:h,webGLProgram:f,uniformLocations:p,attributeLocations:g,gpgpu:t,inShapeInfos:c,outShapeInfo:l}},e.runProgram=function(t,e,r,n){u(t.inShapeInfos,e),u([t.outShapeInfo],[r]);var i=r.getTexture(),o=r.getTextureShapeRC(),a=t.gpgpu;a.setOutputMatrixTexture(i,o[0],o[1]),a.setProgram(t.webGLProgram),e.forEach((function(e,r){var n=e.getTexture(),i=t.program.variableNames[r],o=t.uniformLocations[i];a.setInputMatrixTexture(n,o,r)})),s()&&a.gl.uniform1f(t.uniformLocations.NaN,NaN),null!=n&&n(a,t.webGLProgram),a.executeProgram(t.attributeLocations)},e.makeShaderKey=function(t,e,r){var n="";e.concat(r).forEach((function(t){n+=t.shape+"_"+t.getTextureShapeRC()}));var i=t.userCode,o=(!0===t.supportsBroadcasting).toString();return t.constructor.name+"_"+o+"_"+n+"_"+i}},4299:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(3073),a=r(1737),s=r(4937);function u(t,e){return o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")&&2===o.ENV.get("WEBGL_VERSION")?4===e?t.RGBA:t.RED:t.RGBA}function c(t){return o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?t.FLOAT:t.UNSIGNED_BYTE}function l(t,e,r,n){s.validateTextureSize(t,e,r);var i=s.createTexture(t),a=t.TEXTURE_2D,l=function(t,e){return o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")&&2===o.ENV.get("WEBGL_VERSION")?4===e?t.RGBA32F:t.R32F:t.RGBA}(t,n),h=u(t,n);return s.callAndCheck(t,(function(){return t.bindTexture(a,i)})),s.callAndCheck(t,(function(){return t.texParameteri(a,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)})),s.callAndCheck(t,(function(){return t.texParameteri(a,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)})),s.callAndCheck(t,(function(){return t.texParameteri(a,t.TEXTURE_MIN_FILTER,t.NEAREST)})),s.callAndCheck(t,(function(){return t.texParameteri(a,t.TEXTURE_MAG_FILTER,t.NEAREST)})),s.callAndCheck(t,(function(){return t.texImage2D(a,0,l,e,r,0,h,c(t),null)})),s.callAndCheck(t,(function(){return t.bindTexture(t.TEXTURE_2D,null)})),i}function h(t,e,r,n,i,o){var a=u(t,o);s.validateTextureSize(t,r,n),s.callAndCheck(t,(function(){return t.bindTexture(t.TEXTURE_2D,e)})),s.callAndCheck(t,(function(){return t.texSubImage2D(t.TEXTURE_2D,0,0,0,r,n,a,c(t),i)})),s.callAndCheck(t,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))}function f(t,e,r){return o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?new Float32Array(a.getUnpackedArraySizeFromMatrixSize(t*e,r)):new Uint8Array(t*e*r)}function p(t,e,r,n){if(o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")){var i=new Float32Array(e*r);return a.decodeMatrixFromUnpackedArray(t,i,n),i}return a.decodeToFloatArray(t)}e.getWebGLContextAttributes=function(){return{alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0}},e.createWebGLContext=function(t){var e,r={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};return e=null!=t?s.createWebGLRenderingContextFromCanvas(t,r):s.createWebGLRenderingContext(r),s.callAndCheck(e,(function(){return e.disable(e.DEPTH_TEST)})),s.callAndCheck(e,(function(){return e.disable(e.STENCIL_TEST)})),s.callAndCheck(e,(function(){return e.disable(e.BLEND)})),s.callAndCheck(e,(function(){return e.disable(e.DITHER)})),s.callAndCheck(e,(function(){return e.disable(e.POLYGON_OFFSET_FILL)})),s.callAndCheck(e,(function(){return e.disable(e.SAMPLE_COVERAGE)})),s.callAndCheck(e,(function(){return e.enable(e.SCISSOR_TEST)})),s.callAndCheck(e,(function(){return e.enable(e.CULL_FACE)})),s.callAndCheck(e,(function(){return e.cullFace(e.BACK)})),e},e.createVertexShader=function(t){return s.createVertexShader(t,"\n    precision highp float;\n    attribute vec3 clipSpacePos;\n    attribute vec2 uv;\n    varying vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")},e.createVertexBuffer=function(t){var e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return s.createStaticVertexBuffer(t,e)},e.createIndexBuffer=function(t){var e=new Uint16Array([0,1,2,2,1,3]);return s.createStaticIndexBuffer(t,e)},e.createMatrixTexture=function(t,e,r){var n=a.getUnpackedMatrixTextureShapeWidthHeight(e,r);return l(t,n[0],n[1],1)},e.createColorMatrixTexture=function(t,e,r){var n=a.getColorMatrixTextureShapeWidthHeight(e,r);return l(t,n[0],n[1],4)},e.createPackedMatrixTexture=function(t,e,r){var n=a.getPackedMatrixTextureShapeWidthHeight(e,r);return l(t,n[0],n[1],4)},e.bindVertexProgramAttributeStreams=function(t,e,r,n){s.callAndCheck(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,r)})),s.bindVertexBufferToProgramAttribute(t,e,"clipSpacePos",r,3,20,0,n),s.bindVertexBufferToProgramAttribute(t,e,"uv",r,2,20,12,n)},e.uploadPixelDataToTexture=function(t,e,r){s.callAndCheck(t,(function(){return t.bindTexture(t.TEXTURE_2D,e)})),s.callAndCheck(t,(function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)})),s.callAndCheck(t,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))},e.uploadMatrixToTexture=function(t,e,r,n,i,u){var c,l=a.getUnpackedMatrixTextureShapeWidthHeight(r,n),f=l[0],p=l[1];if(o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")){var d=1===u?s.getChannelsPerTexture():u;1===d?c=i:(c=new Float32Array(a.getUnpackedArraySizeFromMatrixSize(i.length,d)),a.encodeMatrixToUnpackedArray(i,c,d))}else c=a.encodeFloatArray(i);h(t,e,f,p,c,u)},e.uploadMatrixToPackedTexture=function(t,e,r,n,i){var o=a.getPackedMatrixTextureShapeWidthHeight(r,n),s=o[0],u=o[1],c=new Float32Array(a.getPackedRGBAArraySizeFromMatrixShape(r,n));a.encodeMatrixToPackedRGBA(i,r,n,c),h(t,e,s,u,c,4)},e.downloadMatrixFromOutputTextureAsync=function(t,e,r,o){return n(this,void 0,void 0,(function(){var n,a,u,l,h;return i(this,(function(i){switch(i.label){case 0:return n=t,u=f(r,o,a=4),l=u instanceof Float32Array?4*u.length:u,h=t.createBuffer(),s.callAndCheck(t,(function(){return t.bindBuffer(n.PIXEL_PACK_BUFFER,h)})),s.callAndCheck(t,(function(){return t.bufferData(n.PIXEL_PACK_BUFFER,l,t.STATIC_DRAW)})),s.callAndCheck(t,(function(){return n.readPixels(0,0,o,r,t.RGBA,c(t),0)})),[4,e.getBufferSubDataAsync(n.PIXEL_PACK_BUFFER,0,u)];case 1:return i.sent(),[2,p(u,r,o,a)]}}))}))},e.downloadMatrixFromOutputTexture=function(t,e,r){var n=a.getUnpackedMatrixTextureShapeWidthHeight(e,r),i=n[0],o=n[1],u=f(e,r,4);return s.callAndCheck(t,(function(){return t.readPixels(0,0,i,o,t.RGBA,c(t),u)})),p(u,e,r,4)},e.downloadMatrixFromRGBAColorTexture=function(t,e,r,n){var i=e*r*4,o=new Uint8Array(i);s.callAndCheck(t,(function(){return t.readPixels(0,0,r,e,t.RGBA,t.UNSIGNED_BYTE,o)}));for(var u=new Float32Array(i),c=0;c<o.length;c++)u[c]=o[c];var l=new Float32Array(e*r*n);return a.decodeMatrixFromUnpackedColorRGBAArray(u,l,n),l},e.downloadMatrixFromPackedOutputTexture=function(t,e,r){var n=a.getPackedMatrixTextureShapeWidthHeight(e,r),i=n[0],o=n[1],u=new Float32Array(a.getPackedRGBAArraySizeFromMatrixShape(e,r));s.callAndCheck(t,(function(){return t.readPixels(0,0,i,o,t.RGBA,c(t),u)}));var l=new Float32Array(e*r);return a.decodeMatrixFromPackedRGBA(u,e,r,l)}},4118:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.MaxPool2DBackpropProgram=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.outShape[0],r=t.outShape[1],n=t.filterHeight,i=t.filterWidth,o=t.strideHeight,a=t.strideWidth,s=n-1-t.padInfo.top,u=i-1-t.padInfo.left,c=n*i-1;this.userCode="\n      const ivec2 pads = ivec2("+s+", "+u+");\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int d = coords.z;\n\n        ivec2 dyRCCorner = coords.xy - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+n+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+o+".0;\n\n          if (dyR < 0.0 || dyR >= "+e+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+i+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+r+".0 || fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(idyR, idyC, d);\n            int maxPosValue = "+c+" - int(getMaxPos(idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+i+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}},7994:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3287);e.MatMulProgram=function(t,e,r,i){void 0===r&&(r=n.MatrixOrientation.REGULAR),void 0===i&&(i=n.MatrixOrientation.REGULAR),this.variableNames=["matrixA","matrixB"];var o=r===n.MatrixOrientation.REGULAR?t[0]:t[1],a=i===n.MatrixOrientation.REGULAR?e[1]:e[0];this.outputShape=[o,a];var s=r===n.MatrixOrientation.REGULAR?t[1]:t[0],u=function(t,e){return r===n.MatrixOrientation.REGULAR?"aRow, "+e+" + "+t:e+" + "+t+", aRow"},c=function(t,e){return i===n.MatrixOrientation.REGULAR?e+" + "+t+", bCol":"bCol, "+e+" + "+t},l=4*Math.floor(s/4),h=s%4;this.userCode=" float dotARowBCol(int aRow, int bCol) {\n      float result = 0.0;\n      for (int i = 0; i < "+l+"; i += 4) {\n        vec4 a = vec4(\n          getMatrixA("+u(0,"i")+"),\n          getMatrixA("+u(1,"i")+"),\n          getMatrixA("+u(2,"i")+"),\n          getMatrixA("+u(3,"i")+")\n        );\n        vec4 b = vec4(\n          getMatrixB("+c(0,"i")+"),\n          getMatrixB("+c(1,"i")+"),\n          getMatrixB("+c(2,"i")+"),\n          getMatrixB("+c(3,"i")+")\n        );\n\n        result += dot(a, b);\n      }\n\n      if ("+(1===h)+") {\n        result += getMatrixA("+u(0,l)+") *\n          getMatrixB("+c(0,l)+");\n      } else if ("+(2===h)+") {\n        vec2 a = vec2(\n          getMatrixA("+u(0,l)+"),\n          getMatrixA("+u(1,l)+")\n        );\n        vec2 b = vec2(\n          getMatrixB("+c(0,l)+"),\n          getMatrixB("+c(1,l)+")\n        );\n        result += dot(a, b);\n      } else if ("+(3===h)+") {\n        vec3 a = vec3(\n          getMatrixA("+u(0,l)+"),\n          getMatrixA("+u(1,l)+"),\n          getMatrixA("+u(2,l)+")\n        );\n        vec3 b = vec3(\n          getMatrixB("+c(0,l)+"),\n          getMatrixB("+c(1,l)+"),\n          getMatrixB("+c(2,l)+")\n        );\n        result += dot(a, b);\n      }\n\n      return result;\n    }\n\n    void main() {\n      ivec2 resRC = getOutputCoords();\n      setOutput(dotARowBCol(resRC.x, resRC.y));\n    }\n    "}},3225:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r){this.variableNames=["probs"],this.outputShape=[t,r],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(e-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(e-1)+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(r,n){null==e.seedLoc&&(e.seedLoc=r.getUniformLocation(n,"seed")),r.gl.uniform1f(e.seedLoc,t)}},t}();e.MultinomialProgram=r},8171:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r,n){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+n+"), float("+r+"),\n                      float(index == coords.y)));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(r,n){null==e.seedLoc&&(e.seedLoc=r.getUniformLocation(n,"seed")),r.gl.uniform1f(e.seedLoc,t)}},t}();e.OneHotProgram=r},915:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Pool2DProgram=function(t,e,r){if(this.variableNames=["x"],"avg"===e&&r)throw new Error("Cannot compute positions for average pool.");var n=t.filterHeight,i=t.filterWidth,o=t.strideHeight,a=t.strideWidth,s=t.inShape[0],u=t.inShape[1],c=t.padInfo.top,l=t.padInfo.left;this.outputShape=t.outShape;var h="avg"===e,f="0.0";if(h||(f="min"===e?"1.0 / 0.0":"-1.0 / 0.0"),r){var p="min"===e?"<=":">=";this.userCode="\n        const ivec2 strides = ivec2("+o+", "+a+");\n        const ivec2 pads = ivec2("+c+", "+l+");\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n          int d = coords.z;\n\n          ivec2 xRCCorner = coords.xy * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+s+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+i+"; wC++) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+u+") {\n                continue;\n              }\n\n              float value = getX(xR, xC, d);\n\n              if (isNaN(value)) {\n                setOutput(value);\n                return;\n              }\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value "+p+" currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+i+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "}else{var d="min"===e?"min":"max",y=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===e&&(y="avgValue / "+n*i+".0");var g=4*Math.floor(i/4),v=i%4,m="\n      if (hasNaN(values)) {\n        setOutput(getNaN(values));\n        return;\n      }\n      if ("+h+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = "+d+"(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+a+");\n      const ivec2 pads = ivec2("+c+", "+l+");\n      const float initializationValue = "+f+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+u+") {\n          return initializationValue;\n        }\n        return getX(xR, xC, d);\n      }\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int d = coords.z;\n\n        ivec2 xRCCorner = coords.xy * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+f+");\n        float avgValue = 0.0;\n\n        for (int wR = 0; wR < "+n+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+s+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+g+"; wC += 4) {\n            int xC = xCCorner + wC;\n\n            vec4 values = vec4(\n              getValue(xR, xC, d),\n              getValue(xR, xC + 1, d),\n              getValue(xR, xC + 2, d),\n              getValue(xR, xC + 3, d)\n            );\n\n            "+m+"\n          }\n\n          int xC = xCCorner + "+g+";\n          if ("+(1===v)+") {\n            vec4 values = vec4(\n              getValue(xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n            "+m+"\n          } else if ("+(2===v)+") {\n            vec4 values = vec4(\n              getValue(xR, xC, d),\n              getValue(xR, xC + 1, d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+m+"\n          } else if ("+(3===v)+") {\n            vec4 values = vec4(\n              getValue(xR, xC, d),\n              getValue(xR, xC + 1, d),\n              getValue(xR, xC + 2, d),\n              initializationValue\n            );\n\n            "+m+"\n          }\n        }\n        setOutput("+y+");\n      }\n    "}}},1245:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ReduceProgram=function(t,e){this.variableNames=["x"];var r=t.windowSize,n=t.batchSize,i=t.inSize,o=Math.ceil(i/r);this.outputShape=[n,o];var a="sum"===e,s="0.0";a||(s="min"===e?"1.0 / 0.0":"-1.0 / 0.0");var u="min"===e?"min":"max",c=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===e&&(c="sumValue");var l=4*Math.floor(r/4),h=r%4,f="\n      if ("+a+") {\n        sumValue += dot(values, ones);\n      } else {\n        if (hasNaN(values)) {\n          setOutput(getNaN(values));\n          return;\n        }\n        minMaxValue = "+u+"(values, minMaxValue);\n      }\n    ",p="";i%r>0&&(p="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+s+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+p+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        vec4 minMaxValue = vec4("+s+");\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===h)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n          "+f+"\n        } else if ("+(2===h)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n          "+f+"\n        } else if ("+(3===h)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n          "+f+"\n        }\n        setOutput("+c+");\n      }\n    "}},2873:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4937);function i(t,e,r){t.setProgram(e);var i=n.getProgramUniformLocationOrThrow(t.gl,e,"source");t.setInputMatrixTexture(r,i,0),t.executeProgram()}e.getRenderRGBShader=function(t,e){var r="\n    precision highp float;\n    uniform sampler2D source;\n    varying vec2 resultUV;\n\n    const float destinationWidth = "+e+".0;\n    const float a = 1.0;\n\n    void main() {\n      float xr = floor(resultUV.s * destinationWidth) * 3.0;\n      vec3 x = xr + vec3(0, 1, 2);\n\n      float sourceWidth = destinationWidth * 3.0;\n      vec3 u = (x + 0.5) / sourceWidth;\n      float v = 1.0 - resultUV.t;\n\n      float r = texture2D(source, vec2(u[0], v)).r;\n      float g = texture2D(source, vec2(u[1], v)).r;\n      float b = texture2D(source, vec2(u[2], v)).r;\n\n      gl_FragColor = vec4(r, g, b, a);\n    }";return t.createProgram(r)},e.renderToCanvas=function(t,e,r){n.bindCanvasToFramebuffer(t.gl),i(t,e,r)},e.renderToFramebuffer=i},2631:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ResizeBilinear3DProgram=function(t,e,r){this.variableNames=["A"],this.outputShape=[];var n=t[2];this.outputShape=[e[0],e[1],n];var i=r?[t[0]-1,t[1]-1,n]:t,o=r?[this.outputShape[0]-1,this.outputShape[1]-1,n]:this.outputShape;this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+i[0]/o[0]+",\n          "+i[1]/o[1]+");\n      const vec2 inputShapeRC = vec2("+t[0]+".0, "+t[1]+".0);\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        ivec2 yRC = coords.xy;\n        int d = coords.z;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "}},841:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3073),i=r(193),o=r(1572),a=r(1737),s=r(1737);function u(t){var e,r=t.shapeInfo.logicalShape;switch(r.length){case 0:return"\n    float get"+(e=t.name).charAt(0).toUpperCase()+e.slice(1)+"() {\n      return sample("+e+", halfCR);\n    }\n  ";case 1:return function(t){var e=t.name,r="get"+e.charAt(0).toUpperCase()+e.slice(1);return"\n    float "+r+"(int index) {\n      return "+r+"Flat(index);\n    }\n  "}(t);case 2:return function(t){var e=t.shapeInfo.logicalShape,r=t.shapeInfo.texShape,n=t.name,o="get"+n.charAt(0).toUpperCase()+n.slice(1),a=r[0],s=r[1];if(i.arraysEqual(e,r))return"\n    float "+o+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+s+".0, "+a+".0);\n      return sample("+n+", uv);\n    }\n  ";var c=i.squeezeShape(e),l=c.newShape,h=c.keptDims,f=l;if(f.length<e.length){return"\n      "+u(d(t,f))+"\n      float "+o+"(int row, int col) {\n        return "+o+"("+y(["row","col"],h)+");\n      }\n    "}return 1===s?"\n    float "+o+"(int row, int col) {\n      int index = row * "+e[1]+" + col;\n      vec2 uv = vec2(0.5, (float(index) + 0.5) / "+a+".0);\n      return sample("+n+", uv);\n    }\n  ":1===a?"\n    float "+o+"(int row, int col) {\n      int index = row * "+e[1]+" + col;\n      vec2 uv = vec2((float(index) + 0.5) / "+s+".0, 0.5);\n      return sample("+n+", uv);\n    }\n  ":"\n  float "+o+"(int row, int col) {\n    vec2 uv = UVfrom2D("+a+", "+s+", "+e[1]+", row, col);\n    return sample("+n+", uv);\n  }\n"}(t);case 3:return function(t){var e=t.shapeInfo.texShape,r=t.shapeInfo.logicalShape,n=t.name,o="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e[0],c=e[1],l=r[1]*r[2],h=r[2],f=t.shapeInfo.textureType;if(f===s.TextureType.DEFAULT){var p=i.squeezeShape(r),g=p.newShape,v=p.keptDims,m=g;if(m.length<r.length){return"\n        "+u(d(t,m))+"\n        float "+o+"(int row, int col, int depth) {\n          return "+o+"("+y(["row","col","depth"],v)+");\n        }\n      "}}if(c===l){if(f===s.TextureType.DEFAULT)return"\n        float "+o+"(int row, int col, int depth) {\n          int texR = row;\n          int texC = col * "+h+" + depth;\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+c+".0, "+a+".0);\n          return sample("+n+", uv);\n        }\n      ";if(f===s.TextureType.RGBA_COLOR)return"\n        float "+o+"(int row, int col, int depth) {\n          vec2 uv = (vec2(col, row) + halfCR) /\n                     vec2("+c+".0, "+a+".0);\n          return sampleUVAndDepth("+n+", uv, depth);\n        }\n      ";throw new Error("Unknown TextureType "+f+".")}if(c===h&&f===s.TextureType.DEFAULT)return"\n    float "+o+"(int row, int col, int depth) {\n      int texR = row * "+r[1]+" + col;\n      int texC = depth;\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+c+".0, "+a+".0);\n      return sample("+n+", uv);\n    }\n  ";if(f===s.TextureType.DEFAULT)return"\n      float "+o+"(int row, int col, int depth) {\n        vec2 uv = UVfrom3D(\n            "+a+", "+c+", "+l+", "+h+", row, col, depth);\n        return sample("+n+", uv);\n      }\n  ";if(f===s.TextureType.RGBA_COLOR)return"\n      float "+o+"(int row, int col, int depth) {\n        vec2 uv = UVfrom2D("+a+", "+c+", "+r[1]+", row, col);\n        return sampleUVAndDepth("+n+", uv, depth);\n      }\n    ";throw new Error("Unknown TextureType "+f+".")}(t);case 4:return function(t){var e=t.shapeInfo.logicalShape,r=t.shapeInfo.texShape,n=t.name,o="get"+n.charAt(0).toUpperCase()+n.slice(1),a=r[0],s=r[1],c=e[3],l=e[2]*c,h=e[1]*l,f=i.squeezeShape(e),p=f.newShape,g=f.keptDims;if(p.length<e.length){return"\n      "+u(d(t,p))+"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        return "+o+"("+y(["row","col","depth","depth2"],g)+");\n      }\n    "}return s===h?"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        int texR = row;\n        int texC = col * "+l+" + depth * "+c+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+s+".0, "+a+".0);\n        return sample("+n+", uv);\n      }\n    ":s===c?"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        int texR = row * "+e[1]*e[2]+" + col * "+e[2]+" + depth;\n        int texC = depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+s+".0, "+a+".0);\n        return sample("+n+", uv);\n      }\n    ":"\n    float "+o+"(int row, int col, int depth, int depth2) {\n      vec2 uv = UVfrom4D("+a+", "+s+", "+h+", "+l+",\n          "+c+", row, col, depth, depth2);\n      return sample("+n+", uv);\n    }\n  "}(t);default:throw new Error(r.length+"-D input sampling is not yet supported")}}e.makeShader=function(t,e,r,a){var d=n.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?h:c,y=n.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?f:l,g=t.map((function(t){return"uniform sampler2D "+t.name+";"})).join("\n"),v=t.map((function(t){return function(t,e,r){var n,a,c,l,h,f,p=(a=(n=t).name,c=n.shapeInfo.texShape,l="get"+a.charAt(0).toUpperCase()+a.slice(1)+"Flat",h=c[0],1===(f=c[1])&&1===h?"\n      float "+l+"(int index) {\n        return sample("+a+", halfCR);\n      }\n    ":1===f?"\n      float "+l+"(int index) {\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / "+h+".0);\n        return sample("+a+", uv);\n      }\n    ":1===h?"\n      float "+l+"(int index) {\n        vec2 uv = vec2((float(index) + 0.5) / "+f+".0, 0.5);\n        return sample("+a+", uv);\n      }\n    ":"\n    float "+l+"(int index) {\n      vec2 uv = UVfrom1D("+h+", "+f+", index);\n      return sample("+a+", uv);\n    }\n  ");return p+=u(t),(r||i.arraysEqual(t.shapeInfo.logicalShape,e.logicalShape))&&(p+=function(t,e,r){var n=t.shapeInfo.texShape,a=t.name,u=t.shapeInfo.textureType===s.TextureType.RGBA_COLOR,c=a.charAt(0).toUpperCase()+a.slice(1),l="get"+c+"AtOutCoords",h=o.getBroadcastDims(t.shapeInfo.logicalShape,e.logicalShape),f=t.shapeInfo.logicalShape.length,p=e.logicalShape.length,d=r&&(p>f||h.length>0),y=o.broadcastDimsAreOuter(h);if(d&&!y)return function(t,e,r,n){var i=t.shapeInfo.logicalShape.length,a=e.logicalShape.length,s="int";2===a?s="ivec2":3===a?s="ivec3":4===a&&(s="ivec4");var u=o.getBroadcastDims(t.shapeInfo.logicalShape,e.logicalShape),c=a-i;return"\n    float "+n+"() {\n      "+s+" coords = getOutputCoords();\n      "+(0===i?"":a<2&&u.length>=1?"coords = 0;":u.map((function(t){return"coords["+(t+c)+"] = 0;"})).join("\n"))+"\n      return get"+r+"("+(a<2&&i>0?"coords":t.shapeInfo.logicalShape.map((function(t,e){return"coords["+(e+c)+"]"})).join(", "))+");\n    }\n  "}(t,e,c,l);var g=e.texShape;if(i.arraysEqual(n,g)&&!u)return"\n      float "+l+"() {\n        return sample("+a+", resultUV);\n      }\n    ";var v=u?[n[0],n[1]*t.shapeInfo.logicalShape[2]]:n,m="return sample("+a+", uv);",b="";u&&(b="\n      int col = texC / "+t.shapeInfo.logicalShape[2]+";\n      int texD = texC - col * "+t.shapeInfo.logicalShape[2]+";\n      texC = col;\n    ",m="return sampleUVAndDepth("+a+", uv, texD);");var w=i.sizeFromShape(v),_="";return d&&y&&(_="\n        int mainPart = index / "+w+";\n        index -= mainPart * "+w+";\n      "),"\n    float "+l+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+g[0]+", "+g[1]+"));\n      int index = resTexRC.x * "+g[1]+" + resTexRC.y;\n      "+_+"\n      int texR = index / "+v[1]+";\n      int texC = index - texR * "+v[1]+";\n\n      "+b+"\n\n      vec2 uv = (vec2(texC, texR) + halfCR) /\n                 vec2("+n[1]+".0, "+n[0]+".0);\n\n      "+m+"\n    }\n  "}(t,e,r)),p}(t,e,a)})).join("\n"),m=e.texShape,b=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){return 1===e[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+e[1]+".0);\n      }\n    ":1===e[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+e[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      return resTexRC.x * "+e[1]+" + resTexRC.y;\n    }\n  "}(0,e);case 2:return function(t,e){return i.arraysEqual(t,e)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+e[0]+", "+e[1]+"));\n      }\n    ":1===t[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===t[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+t[1]+";\n      int c = index - r * "+t[1]+";\n      return ivec2(r, c);\n    }\n  "}(t,e);case 3:return n=e,o=(r=t)[1]*r[2],a=r[2],"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = index / "+o+";\n      index -= r * "+o+";\n      int c = index / "+a+";\n      int d = index - c * "+a+";\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(t,e){var r=t[3],n=t[2]*r,i=t[1]*n;return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      int r = index / "+i+";\n      index -= r * "+i+";\n\n      int c = index / "+n+";\n      index -= c * "+n+";\n\n      int d = index / "+r+";\n      int d2 = index - d * "+r+";\n\n      return ivec4(r, c, d, d2);\n    }\n  "}(t,e);default:throw new Error(t.length+"-D output sampling is not yet supported")}var r,n,o,a}(e.logicalShape,m);return[p,d,y,g,b,v,r].join("\n")};var c="\n  uniform float NaN;\n\n  const vec4 floatDeltas = vec4(\n      1.0,\n      1.0 / 255.0,\n      1.0 / (255.0 * 255.0),\n      1.0 / (255.0 * 255.0 * 255.0)\n  );\n  const float minValue = "+a.FLOAT_MIN+".0;\n  const float maxValue = "+a.FLOAT_MAX+".0;\n  const float range = (maxValue - minValue) / 255.0;\n  const vec2 dotRange = vec2(1.0, range);\n\n  float sample(sampler2D texture, vec2 uv) {\n    vec4 sampleValue = texture2D(texture, uv);\n    if (all(equal(sampleValue, vec4("+a.BYTE_NAN_VALUE+")))) {\n      return NaN;\n    }\n\n    vec4 encValue = floor(sampleValue * 255.0 + 0.5);\n    float decodedValue = dot(encValue, floatDeltas);\n    return dot(vec2(minValue, decodedValue), dotRange);\n  }\n",l="\n  const vec4 floatPowers = vec4(\n    1.0,\n    255.0,\n    255.0 * 255.0,\n    255.0 * 255.0 * 255.0\n  );\n  const vec2 recipRange = vec2(1.0/range);\n  const vec2 recipRange255 = vec2(1.0/(maxValue - minValue));\n\n  void setOutput(float decodedValue) {\n    if (isNaN(decodedValue)) {\n      gl_FragColor = vec4("+a.BYTE_NAN_VALUE+");\n      return;\n    }\n\n    float a = dot(vec2(decodedValue, -minValue), recipRange);\n    float b = fract(a) * 255.0;\n    float c = fract(b) * 255.0;\n    float d = fract(c) * 255.0;\n    gl_FragColor = floor(vec4(a, b, c, d)) / 255.0;\n\n    // TODO(dsmilkov): Version above gets better accuracy but probably slower\n    // than the version below. Benchmark to determine if the accuracy is worth\n    // the cost.\n\n    // float normValue = dot(vec2(decodedValue, -minValue), recipRange255);\n    // vec4 f = normValue * floatPowers;\n    // gl_FragColor = floor(fract(f) * 255.0) / 255.0;\n  }\n",h="\n  float sample(sampler2D texture, vec2 uv) {\n    return texture2D(texture, uv).r;\n  }\n",f="\n  void setOutput(float val) {\n    gl_FragColor = vec4(val, 0, 0, 0);\n  }\n",p="\n  precision highp float;\n  precision highp int;\n  varying vec2 resultUV;\n  const vec2 halfCR = vec2(0.5, 0.5);\n\n  bool isNaN(float val) {\n    return val == val ? false : true;\n  }\n\n  bool hasNaN(vec4 values) {\n    return any(notEqual(values, values));\n  }\n\n  float getNaN(vec4 values) {\n    return dot(vec4(1), values);\n  }\n\n  int round(float value) {\n    return int(floor(value + 0.5));\n  }\n\n  int imod(int x, int y) {\n    return x - y * (x / y);\n  }\n\n  const vec2 randomConst = vec2(\n    23.14069263277926, // e^pi (Gelfond's constant)\n     2.665144142690225 // 2^sqrt(2) (Gelfond–Schneider constant)\n  );\n\n  float random(float seed) {\n      return fract(cos(dot(resultUV * seed, randomConst)) * 12345.6789);\n  }\n\n  float sampleUVAndDepth(sampler2D texture, vec2 uv, int depth) {\n    float value;\n    if (depth == 0) {\n      value = texture2D(texture, uv).r;\n    } else if (depth == 1) {\n      value = texture2D(texture, uv).g;\n    } else if (depth == 2) {\n      value = texture2D(texture, uv).b;\n    } else if (depth == 3) {\n      value = texture2D(texture, uv).a;\n    }\n    return floor(value * 255.0 + 0.5);\n  }\n\n  \nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\n  int index = row * numC + col;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\n    int stride1, int row, int col, int depth) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int row, int col, int depth,\n    int depth2) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n";function d(t,e){var r=JSON.parse(JSON.stringify(t));return r.shapeInfo.logicalShape=e,r}function y(t,e){return e.map((function(e){return t[e]})).join(", ")}e.getCoordsDataType=function(t){if(1===t)return"int";if(2===t)return"ivec2";if(3===t)return"ivec3";if(4===t)return"ivec4";throw Error("GPU for rank "+t+" is not yet supported")}},3330:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(841),i=function(){function t(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var e=n.getCoordsDataType(this.rank),r=function(t){if(1===t)return"sourceLoc";if(2===t)return"sourceLoc.x, sourceLoc.y";if(3===t)return"sourceLoc.x, sourceLoc.y, sourceLoc.z";if(4===t)return"sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w";throw Error("Slicing for rank "+t+" is not yet supported")}(this.rank);this.userCode="\n      uniform "+e+" start;\n\n      void main() {\n        "+e+" sourceLoc = start + getOutputCoords();\n        setOutput(getSource("+r+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(r,n){if(null!=e.startLoc||(e.startLoc=r.getUniformLocationNoThrow(n,"start"),null!=e.startLoc))if(1===e.rank)r.gl.uniform1i(e.startLoc,t[0]);else if(2===e.rank)r.gl.uniform2i(e.startLoc,t[0],t[1]);else if(3===e.rank)r.gl.uniform3i(e.startLoc,t[0],t[1],t[2]);else{if(4!==e.rank)throw Error("Slicing for rank "+e.rank+" is not yet supported");r.gl.uniform4i(e.startLoc,t[0],t[1],t[2],t[3])}}},t}();e.SliceProgram=i},1737:(t,e)=>{"use strict";function r(t,e){return t*e}function n(t,e){if(t%e!=0)throw new Error("unpackedSize ("+t+") must be a multiple of "+e);return t/e}var i;Object.defineProperty(e,"__esModule",{value:!0}),(i=e.TextureType||(e.TextureType={}))[i.DEFAULT=0]="DEFAULT",i[i.RGBA_COLOR=1]="RGBA_COLOR",e.getUnpackedMatrixTextureShapeWidthHeight=function(t,e){return[e,t]},e.getUnpackedArraySizeFromMatrixSize=r,e.getColorMatrixTextureShapeWidthHeight=function(t,e){return[4*e,t]},e.getMatrixSizeFromUnpackedArraySize=n,e.encodeMatrixToUnpackedArray=function(t,e,n){var i=r(t.length,n);if(e.length<i)throw new Error("unpackedArray length ("+e.length+") must be >= "+i);for(var o=0,a=0;a<t.length;++a)e[o]=t[a],o+=n},e.FLOAT_MAX=2e4,e.FLOAT_MIN=-e.FLOAT_MAX;var o=(e.FLOAT_MAX-e.FLOAT_MIN)/255,a=[1,1/255,1/65025,1/16581375],s=[1,255,65025];function u(t,e){return[Math.ceil(e/2),Math.ceil(t/2)]}function c(t,e){var r=u(t,e);return r[0]*r[1]*4}e.BYTE_NAN_VALUE=0,e.encodeFloatArray=function(t){for(var r=new Uint8Array(4*t.length),n=function(n){var i=t[n/4];if(isNaN(i))return r[n]=e.BYTE_NAN_VALUE,r[n+1]=e.BYTE_NAN_VALUE,r[n+2]=e.BYTE_NAN_VALUE,r[n+3]=e.BYTE_NAN_VALUE,"continue";var a=(i-e.FLOAT_MIN)/o,u=s.map((function(t){return t*a})).map((function(t){return Math.floor(t%1*255)}));r[n]=Math.floor(a),r[n+1]=u[0],r[n+2]=u[1],r[n+3]=u[2]},i=0;i<r.length;i+=4)n(i);return r},e.decodeToFloatArray=function(t){for(var r=new Float32Array(t.length/4),n=function(n){if(t[n]===e.BYTE_NAN_VALUE&&t[n+1]===e.BYTE_NAN_VALUE&&t[n+2]===e.BYTE_NAN_VALUE&&t[n+3]===e.BYTE_NAN_VALUE)return r[n/4]=NaN,"continue";var i=0;a.forEach((function(e,r){i+=e*t[n+r]}));var s=i*o+e.FLOAT_MIN;r[n/4]=s},i=0;i<t.length;i+=4)n(i);return r},e.decodeMatrixFromUnpackedArray=function(t,e,r){var i=n(t.length,r);if(e.length<i)throw new Error("matrix length ("+e.length+") must be >= "+i);for(var o=0,a=0;a<t.length;a+=r)e[o++]=t[a]},e.decodeMatrixFromUnpackedColorRGBAArray=function(t,e,r){var n=t.length*r/4;if(e.length<n)throw new Error("matrix length ("+e.length+") must be >= "+n);for(var i=0,o=0;o<t.length;o+=4)for(var a=0;a<r;a++)e[i++]=t[o+a]},e.getPackedMatrixTextureShapeWidthHeight=u,e.getPackedRGBAArraySizeFromMatrixShape=c,e.encodeMatrixToPackedRGBA=function(t,e,r,n){var i=c(e,r);if(n.length<i)throw new Error("packedRGBA length ("+n.length+") must be >= "+i);for(var o=u(e,r),a=o[0],s=o[1],l=r%2==1,h=e%2==1,f=Math.floor(r/2),p=Math.floor(e/2),d=l?4:0,y=r,g=0,v=0;v<p;++v){for(var m=2*v*r,b=0;b<f;++b){var w=m+2*b;n[g]=t[w],n[g+1]=t[w+1],n[g+2]=t[w+y],n[g+3]=t[w+y+1],g+=4}g+=d}if(l){w=r-1,g=4*(a-1);var _=2*r;for(d=4*a,v=0;v<p;++v)n[g]=t[w],n[g+2]=t[w+r],w+=_,g+=d}if(h)for(w=(e-1)*r,g=(s-1)*a*4,b=0;b<f;++b)n[g++]=t[w++],n[g++]=t[w++],g+=2;return l&&h&&(n[n.length-4]=t[t.length-1]),n},e.decodeMatrixFromPackedRGBA=function(t,e,r,n){var i=e*r;if(i<n.length)throw new Error("matrix length ("+n.length+") must be >= "+i);for(var o=r%2==1,a=e%2==1,s=Math.floor(r/2),c=Math.floor(e/2),l=u(e,r),h=l[0],f=l[1],p=o?4:0,d=r+(o?1:0),y=0,g=0,v=r,m=0;m<c;++m){for(var b=0;b<s;++b)n[g++]=t[y++],n[g++]=t[y++],n[v++]=t[y++],n[v++]=t[y++];y+=p,g+=d,v+=d}if(o){y=4*(h-1);var w=r-1;for(p=4*h,d=2*r,m=0;m<c;++m)n[w]=t[y],n[w+r]=t[y+2],y+=p,w+=d}if(a)for(y=(f-1)*h*4,w=(e-1)*r,b=0;b<s;++b)n[w++]=t[y++],n[w++]=t[y++],y+=2;return o&&a&&(n[n.length-1]=t[t.length-4]),n}},7873:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextureCount={}}return t.prototype.acquireTexture=function(t){var e=n(t);return e in this.freeTextures||(this.freeTextures[e]=[]),e in this.usedTextureCount||(this.usedTextureCount[e]=0),this.usedTextureCount[e]++,this.freeTextures[e].length>0?(this.numFreeTextures--,this.numUsedTextures++,this.log(),this.freeTextures[e].shift()):(this.numUsedTextures++,this.log(),this.gpgpu.createMatrixTexture(t[0],t[1]))},t.prototype.releaseTexture=function(t,e){var r=n(e);r in this.freeTextures||(this.freeTextures[r]=[]),this.freeTextures[r].push(t),this.numFreeTextures++,this.numUsedTextures--,this.usedTextureCount[r]--,this.log()},t.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){for(var t in this.freeTextures)if(this.freeTextures.hasOwnProperty(t))for(var e=0;e<this.freeTextures[t].length;e++)this.gpgpu.deleteMatrixTexture(this.freeTextures[t][e])},t}();function n(t){return t[0]+"_"+t[1]}e.TextureManager=r},2585:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(841);e.TileProgram=function(t,e){this.variableNames=["A"];for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[i]*e[i];this.outputShape=r,this.rank=r.length;var o=n.getCoordsDataType(this.rank),a=function(t){var e=t.length;if(e>4)throw Error("Tile for rank "+e+" is not yet supported");if(1===e)return"imod(resRC, "+t[0]+")";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[],i=0;i<t.length;i++)n.push("imod("+r[i]+", "+t[i]+")");return n.join()}(t);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "}},3707:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(841);e.TransposeProgram=function(t,e){this.variableNames=["A"];for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[e[i]];this.outputShape=r,this.rank=r.length;var o=n.getCoordsDataType(this.rank),a=function(t){var e=t.length;if(e>4)throw Error("Transpose for rank "+e+" is not yet supported");for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],n=new Array(e),i=0;i<t.length;i++)n[t[i]]=r[i];return n.join()}(e);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+a+"));\n    }\n    "}},8941:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.UnaryOpProgram=function(t,e){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      float unaryOperation(float x) {\n        "+e+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},e.CHECK_NAN_SNIPPET="\n  if (isNaN(x)) {\n    return x;\n  }\n",e.ABS="\n  return abs(x);\n",e.RELU="\n  return (x < 0.0) ? 0.0 : x;\n",e.ELU="\n  return (x >= 0.0) ? x : (exp(x) - 1.0);\n",e.LEAKY_RELU=function(t){return"\n    return (x >= 0.0) ? x : "+t+" * x;\n  "},e.STEP=function(t){return void 0===t&&(t=0),"\n    return (x == x) ? (x > 0.0 ? 1.0 : float("+t+")) : x;\n  "},e.NEG="\n  return -x;\n",e.CEIL="\n  return ceil(x);\n",e.FLOOR="\n  return floor(x);\n",e.EXP="\n  return exp(x);\n",e.LOG="\n  return log(x);\n",e.SQRT=e.CHECK_NAN_SNIPPET+"\n  return sqrt(x);\n",e.SIGMOID="\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",e.SIN=e.CHECK_NAN_SNIPPET+"\n  return sin(x);\n",e.COS=e.CHECK_NAN_SNIPPET+"\n  return cos(x);\n",e.TAN="\n  return tan(x);\n",e.ASIN=e.CHECK_NAN_SNIPPET+"\n  return asin(x);\n",e.ACOS=e.CHECK_NAN_SNIPPET+"\n  return acos(x);\n",e.ATAN=e.CHECK_NAN_SNIPPET+"\n  return atan(x);\n",e.SINH="\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n",e.COSH="\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n",e.TANH="\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n",e.SQUARE="\n  return x * x;\n"},4937:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=null,i=r(193),o=r(3073);function a(t,e){var r,n=o.ENV.get("WEBGL_VERSION");if(2===n?r=t.getContext("webgl2",e):1===n&&(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)),0===n||null==r)throw new Error("This browser does not support WebGL.");return r}function s(t,e){var r=e();return c(t),r}e.createWebGLRenderingContext=function(t){var e=document.createElement("canvas");return e.width=1,e.height=1,a(e,t)},e.createWebGLRenderingContextFromCanvas=a,e.callAndCheck=s;var u=!1;function c(t){if(u){var e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+l(t,e))}}function l(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}e.enableDebugWebGLErrorChecking=function(t){u=t},e.checkWebGLError=c,e.getWebGLErrorMessage=l,e.getExtensionOrThrow=function(t,e){return y(t,(function(){return t.getExtension(e)}),'Extension "'+e+'" not supported on this browser.')},e.createVertexShader=function(t,e){var r=y(t,(function(){return t.createShader(t.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(s(t,(function(){return t.shaderSource(r,e)})),s(t,(function(){return t.compileShader(r)})),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw console.log(t.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r},e.createFragmentShader=function(t,e){var r=y(t,(function(){return t.createShader(t.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(s(t,(function(){return t.shaderSource(r,e)})),s(t,(function(){return t.compileShader(r)})),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw function(t,e){var r=h.exec(e);if(null==r)return console.log("Couldn't parse line number in error: "+e),void console.log(t);for(var n=+r[1],o=t.split("\n"),a=o.length.toString().length+2,s=o.map((function(t,e){return i.rightPad((e+1).toString(),a)+t})),u=0,c=0;c<s.length;c++)u=Math.max(s[c].length,u);var l=s.slice(0,n-1),f=s.slice(n-1,n),p=s.slice(n);console.log(l.join("\n")),console.log(e.split("\n")[0]),console.log("%c "+i.rightPad(f[0],u),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join("\n"))}(e,t.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r};var h=/ERROR: [0-9]+:([0-9]+):/g;function f(t){return null!=n?n:n=s(t,(function(){return t.getParameter(t.MAX_TEXTURE_SIZE)}))}function p(t,e,r){g(t,r),s(t,(function(){return t.activeTexture(t.TEXTURE0+r)})),s(t,(function(){return t.bindTexture(t.TEXTURE_2D,e)}))}function d(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function y(t,e,r){var n=s(t,(function(){return e()}));if(null==n)throw new Error(r);return n}function g(t,e){var r=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,n=e+t.TEXTURE0;if(n<t.TEXTURE0||n>r)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+r+"].")}e.createProgram=function(t){return y(t,(function(){return t.createProgram()}),"Unable to create WebGLProgram.")},e.linkProgram=function(t,e){if(s(t,(function(){return t.linkProgram(e)})),!1===t.getProgramParameter(e,t.LINK_STATUS))throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")},e.validateProgram=function(t,e){if(s(t,(function(){return t.validateProgram(e)})),!1===t.getProgramParameter(e,t.VALIDATE_STATUS))throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")},e.createStaticVertexBuffer=function(t,e){var r=y(t,(function(){return t.createBuffer()}),"Unable to create WebGLBuffer");return s(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,r)})),s(t,(function(){return t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)})),r},e.createStaticIndexBuffer=function(t,e){var r=y(t,(function(){return t.createBuffer()}),"Unable to create WebGLBuffer");return s(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r)})),s(t,(function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)})),r},e.queryMaxTextureSize=f,e.getChannelsPerTexture=function(){return o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")&&2===o.ENV.get("WEBGL_VERSION")?1:4},e.createTexture=function(t){return y(t,(function(){return t.createTexture()}),"Unable to create WebGLTexture.")},e.validateTextureSize=function(t,e,r){var n=f(t);if(e<=0||r<=0){var i="["+e+"x"+r+"]";throw new Error("Requested texture size "+i+" is invalid.")}if(e>n||r>n)throw i="["+e+"x"+r+"]",new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")},e.createFramebuffer=function(t){return y(t,(function(){return t.createFramebuffer()}),"Unable to create WebGLFramebuffer.")},e.bindVertexBufferToProgramAttribute=function(t,e,r,n,i,o,a,u){var c;-1!==(c=null!=u&&r in u?u[r]:t.getAttribLocation(e,r))&&(s(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,n)})),s(t,(function(){return t.vertexAttribPointer(c,i,t.FLOAT,!1,o,a)})),s(t,(function(){return t.enableVertexAttribArray(c)})))},e.bindTextureUnit=p,e.unbindTextureUnit=function(t,e){g(t,e),s(t,(function(){return t.activeTexture(t.TEXTURE0+e)})),s(t,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))},e.getProgramUniformLocationOrThrow=function(t,e,r){return y(t,(function(){return t.getUniformLocation(e,r)}),'uniform "'+r+'" not present in program.')},e.bindTextureToProgramUniformSampler=function(t,e,r,n,i){s(t,(function(){return p(t,r,i)})),s(t,(function(){return t.uniform1i(n,i)}))},e.bindCanvasToFramebuffer=function(t){s(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),s(t,(function(){return t.viewport(0,0,t.canvas.width,t.canvas.height)})),s(t,(function(){return t.scissor(0,0,t.canvas.width,t.canvas.height)}))},e.bindColorTextureToFramebuffer=function(t,e,r){s(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,r)})),s(t,(function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)}))},e.unbindColorTextureFromFramebuffer=function(t,e){s(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,e)})),s(t,(function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)}))},e.validateFramebuffer=function(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+d(t,e))},e.getFramebufferErrorMessage=d,e.getTextureShapeFromLogicalShape=function(t,e){2!==e.length&&(e=i.squeezeShape(e).newShape);var r=f(t),n=i.sizeFromShape(e);return e.length<=1&&n<=r?[n,1]:2===e.length&&e[0]<=r&&e[1]<=r?e:3===e.length&&e[0]<=r&&e[1]*e[2]<=r?[e[0],e[1]*e[2]]:4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r?[e[0],e[1]*e[2]*e[3]]:i.sizeToSquarishShape(n)}},7596:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3073),i=r(3073),o=r(1588),a=r(1613),s=r(193);function u(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e/t.length}function c(t,e){for(var r=0,n=0;n<t.length;n++){var i=t[n]-e;r+=i*i}return Math.sqrt(r/t.length)}function l(t){for(var e=u(t),r=t.length,n=0,i=0,o=0;o<r;o++){var a=t[o]-e;n+=Math.pow(a,2),i+=Math.pow(a,4)}return 1/r*i/Math.pow(1/r*n,2)-3}function h(t){for(var e=u(t),r=t.length,n=0,i=0,o=-1;++o<r;){var a=t[o]-e;n+=Math.pow(a,2),i+=Math.pow(a,3)}return 1/r*i/Math.pow(1/(r-1)*n,1.5)}function f(t,r,n){if(void 0===n&&(n=e.TEST_EPSILON),!p(t,r,n))throw new Error("Numbers differ: actual === "+t+", expected === "+r)}function p(t,e,r){return!(!isNaN(t)||!isNaN(e))||!(isNaN(t)||isNaN(e)||Math.abs(t-e)>r)}function d(t,e,r,n){null!=n?n.forEach((function(n){var i=t+" "+JSON.stringify(n);r(i,e,n)})):r(t,e)}e.TEST_EPSILON=.01,e.mean=u,e.standardDeviation=c,e.kurtosis=l,e.skewness=h,e.jarqueBeraNormalityTest=function(t){var e=h(t),r=l(t),n=t.length*(Math.pow(e,2)/6+Math.pow(r,2)/24);if(n>5.991)throw new Error("Invalid p-value for JB: "+n)},e.expectArrayInMeanStdRange=function(t,r,n,i){void 0===i&&(i=e.TEST_EPSILON);var o=u(t);f(o,r,i),f(c(t,o),n,i)},e.expectArraysClose=function(t,r,n){void 0===n&&(n=e.TEST_EPSILON);var i=t.constructor.name,o=r.constructor.name;if(i!==o)throw new Error("Arrays are of different type "+i+" vs "+o);if(t.length!==r.length)throw new Error("Matrices have different lengths ("+t.length+" vs "+r.length+").");for(var a=0;a<r.length;++a){var s=t[a],u=r[a];if(!p(s,u,n))throw new Error("Arrays differ: actual["+a+"] === "+s+", expected["+a+"] === "+u)}},e.expectNumbersClose=f,e.expectValuesInRange=function(t,e,r){for(var n=0;n<t.length;n++)if(t[n]<e||t[n]>r)throw new Error("Value out of range:"+t[n]+" low: "+e+", high: "+r)},e.randomArrayInRange=function(t,e,r){for(var n=new Float32Array(t),i=r-e,o=0;o<t;++o)n[o]=Math.random()*i+e;return n},e.makeIdentity=function(t){for(var e=new Float32Array(t*t),r=0;r<t;++r)e[r*t+r]=1;return e},e.cpuMultiplyMatrix=function(t,e,r,n,i,o){for(var a=new Float32Array(e*o),s=0;s<e;++s)for(var u=s*r,c=s*o,l=0;l<o;++l){for(var h=0,f=0;f<r;++f)h+=t[u+f]*n[f*o+l];a[c+l]=h}return a},e.cpuDotProduct=function(t,e){if(t.length!==e.length)throw new Error("cpuDotProduct: incompatible vectors.");for(var r=0,n=0;n<t.length;++n)r+=t[n]*e[n];return r},e.describeMathCPU=function(t,e,r){d("math_cpu."+t,e,(function(t,e,r){return g(t,e,(function(){return new o.NDArrayMathCPU}),r)}),r)},e.describeMathGPU=function(t,e,r){d("math_gpu."+t,e,(function(t,e,r){return g(t,e,(function(){return new a.NDArrayMathGPU}),r)}),r)},e.describeCustom=function(t,e,r,n,i){d(t,[e],(function(t,e,r){return v(t,e,r,n,i)}),r)};var y=function(t,e){it(t,(function(t){var r=e();r instanceof Promise?r.then(t,(function(e){fail(e),t()})):t()}))};function g(t,e,r,n){var i;v(t,e,n,(function(){(i=r()).startScope()}),(function(){i.endScope(null),i.dispose()}),(function(t,e){y(t,(function(){return e(i)}))}))}function v(t,e,r,o,a,s){void 0===s&&(s=y),describe(t,(function(){beforeEach((function(){null!=r&&n.setEnvironment(new i.Environment(r)),null!=o&&o()})),afterEach((function(){null!=a&&a(),null!=r&&n.setEnvironment(new i.Environment)})),e.forEach((function(t){return t(s)}))}))}e.executeMathTests=g,e.executeTests=v,e.assertIsNan=function(t,e){if(!s.isValNaN(t,e))throw new Error("Value "+t+" does not represent NaN for dtype "+e)}},193:(t,e)=>{"use strict";function r(t){for(var e=t.length,r=0,n=0;e>0;)n=Math.random()*e|0,r=t[--e],t[e]=t[n],t[n]=r}function n(t,e){if(!t)throw new Error(e)}function i(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function o(t,e,r){t[decodeURIComponent(e)]=decodeURIComponent(r||"")}Object.defineProperty(e,"__esModule",{value:!0}),e.shuffle=r,e.clamp=function(t,e,r){return Math.max(t,Math.min(e,r))},e.randUniform=function(t,e){return Math.random()*(e-t)+t},e.randGauss=function t(e,r,n){var i,o,a;void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=!1);do{a=(i=2*Math.random()-1)*i+(o=2*Math.random()-1)*o}while(a>1);var s=Math.sqrt(-2*Math.log(a)/a)*i;return n&&Math.abs(s)>2?t(e,r,!0):e+r*s},e.distSquared=function(t,e){for(var r=0,n=0;n<t.length;n++){var i=Number(t[n])-Number(e[n]);r+=i*i}return r},e.assert=n,e.assertShapesMatch=function(t,e,r){void 0===r&&(r=""),n(i(t,e),r+"Shapes "+t+" and "+e+" must match")},e.flatten=function t(e,r){if(void 0===r&&(r=[]),Array.isArray(e))for(var n=0;n<e.length;++n)t(e[n],r);else r.push(e);return r},e.inferShape=function(t){for(var e=[];t instanceof Array;)e.push(t.length),t=t[0];return e},e.sizeFromShape=function(t){if(0===t.length)return 1;for(var e=t[0],r=1;r<t.length;r++)e*=t[r];return e},e.isScalarShape=function(t){return 0===t.length},e.arraysEqual=i,e.isInt=function(t){return t%1==0},e.tanh=function(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)},e.sizeToSquarishShape=function(t){for(var e=Math.floor(Math.sqrt(t));e>1;--e)if(t%e==0)return[e,t/e];return[1,t]},e.createShuffledIndices=function(t){for(var e=new Uint32Array(t),n=0;n<t;++n)e[n]=n;return r(e),e},e.rightPad=function(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)},e.repeatedTry=function(t,e,r){return void 0===e&&(e=function(t){return 0}),new Promise((function(n,i){var o=0,a=function(){if(t())n();else{o++;var s=e(o);null!=r&&o>=r?i():setTimeout(a,s)}};setTimeout(a,0)}))},e.getQueryParams=function(t){var e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return o(e,r[0],r[1]),r.join("=")})),e},e.inferFromImplicitShape=function(t,e){for(var r=1,n=-1,i=0;i<t.length;++i)if(t[i]>0)r*=t[i];else if(-1===t[i]){if(-1!==n)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+n+" and dim "+i);n=i}else if(t[i]<=0)throw Error("Shapes can not be <= 0. Found "+t[i]+" at dim "+i);if(-1===n){if(e>0&&e!==r)throw Error("Size ("+e+") must match the product of shape "+t);return t}if(e%r!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+r);var o=t.slice();return o[n]=e/r,o},e.NAN_INT32=1<<31,e.NAN_BOOL=255,e.NAN_FLOAT32=NaN,e.getNaN=function(t){if("float32"===t)return e.NAN_FLOAT32;if("int32"===t)return e.NAN_INT32;if("bool"===t)return e.NAN_BOOL;throw new Error("Unknown dtype "+t)},e.isValNaN=function(t,r){if("float32"===r)return isNaN(t);if("int32"===r)return t===e.NAN_INT32;if("bool"===r)return t===e.NAN_BOOL;throw new Error("Unknown dtype "+r)},e.squeezeShape=function(t){for(var e=[],r=[],n=0;n<t.length;++n)t[n]>1&&(e.push(t[n]),r.push(n));return{newShape:e,keptDims:r}}},2739:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.version="0.3.11"},4289:(t,e,r)=>{"use strict";var n=r(2215),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),c=function(t,e,r,n){var i;(!(e in t)||"function"==typeof(i=n)&&"[object Function]"===o.call(i)&&n())&&(u?s(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},l=function(t,e){var r=arguments.length>2?arguments[2]:{},o=n(e);i&&(o=a.call(o,Object.getOwnPropertySymbols(e)));for(var s=0;s<o.length;s+=1)c(t,o[s],e[o[s]],r[o[s]])};l.supportsDescriptors=!!u,t.exports=l},2840:(t,e,r)=>{var n=r(447),i=function(){},o=function(t,e,r){if("function"==typeof e)return o(t,null,e);e||(e={}),r=n(r||i);var a=t._writableState,s=t._readableState,u=e.readable||!1!==e.readable&&t.readable,c=e.writable||!1!==e.writable&&t.writable,l=function(){t.writable||h()},h=function(){c=!1,u||r()},f=function(){u=!1,c||r()},p=function(t){r(t?new Error("exited with error code: "+t):null)},d=function(){return(!u||s&&s.ended)&&(!c||a&&a.ended)?void 0:r(new Error("premature close"))},y=function(){t.req.on("finish",h)};return function(t){return t.setHeader&&"function"==typeof t.abort}(t)?(t.on("complete",h),t.on("abort",d),t.req?y():t.on("request",y)):c&&!a&&(t.on("end",l),t.on("close",l)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(t)&&t.on("exit",p),t.on("end",f),t.on("finish",h),!1!==e.error&&t.on("error",r),t.on("close",d),function(){t.removeListener("complete",h),t.removeListener("abort",d),t.removeListener("request",y),t.req&&t.req.removeListener("finish",h),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",h),t.removeListener("exit",p),t.removeListener("end",f),t.removeListener("error",r),t.removeListener("close",d)}};t.exports=o},8091:t=>{"use strict";function e(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var u=o[a],c=Object.getOwnPropertyDescriptor(i,u);void 0!==c&&c.enumerable&&(r[u]=i[u])}}return r}t.exports={assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}},7187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}y(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&y(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,r,n){var i,o,a,c;if(s(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"==typeof a?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=u(t))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):d(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function y(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)n(u,this,e);else{var c=u.length,l=d(u,c);for(r=0;r<c;++r)n(l[r],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return s(e),this.on(t,h(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,h(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,a;if(s(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},9804:t=>{var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(t,n,i){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var o=t.length;if(o===+o)for(var a=0;a<o;a++)n.call(i,t[a],a,t);else for(var s in t)e.call(t,s)&&n.call(i,t[s],s,t)}},7648:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";t.exports=function(t){var o=this;if("function"!=typeof o||n.call(o)!==i)throw new TypeError(e+o);for(var a,s=r.call(arguments,1),u=function(){if(this instanceof a){var e=o.apply(this,s.concat(r.call(arguments)));return Object(e)===e?e:this}return o.apply(t,s.concat(r.call(arguments)))},c=Math.max(0,o.length-s.length),l=[],h=0;h<c;h++)l.push("$"+h);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var f=function(){};f.prototype=o.prototype,a.prototype=new f,f.prototype=null}return a}},8612:(t,e,r)=>{"use strict";var n=r(7648);t.exports=Function.prototype.bind||n},2165:t=>{t.exports=function(t,e){if(!(t%2)||Math.floor(t)!==t||t<3)throw new Error("The dimension must be an odd integer greater than or equal to 3");for(var r,n,i,o,a,s,u=[],c=2*e*e,l=(t-1)/2,h=0;h<t;h++)for(var f=0;f<t;f++){var p=(r=h,n=f,i=l,o=l,void 0,void 0,a=Math.pow(r-i,2),s=Math.pow(n-o,2),Math.sqrt(a+s)),d=1/Math.sqrt(Math.PI*c)*Math.exp(Math.pow(p,2)/c*-1);u.push(d)}var y=u.reduce((function(t,e){return t+e}));return u.map((function(t){return t/y}))}},210:(t,e,r)=>{"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(t){return c}}}():c,h=r(1405)(),f=Object.getPrototypeOf||function(t){return t.__proto__},p={},d="undefined"==typeof Uint8Array?n:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?f(f([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?f(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":d,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},g=function t(e){var r;if("%AsyncFunction%"===e)r=s("async function () {}");else if("%GeneratorFunction%"===e)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=s("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(r=f(i.prototype))}return y[e]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=r(8612),b=r(7642),w=m.call(Function.call,Array.prototype.concat),_=m.call(Function.apply,Array.prototype.splice),x=m.call(Function.call,String.prototype.replace),E=m.call(Function.call,String.prototype.slice),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,T=function(t){var e=E(t,0,1),r=E(t,-1);if("%"===e&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return x(t,A,(function(t,e,r,i){n[n.length]=r?x(i,S,"$1"):e||t})),n},k=function(t,e){var r,n=t;if(b(v,n)&&(n="%"+(r=v[n])[0]+"%"),b(y,n)){var o=y[n];if(o===p&&(o=g(n)),void 0===o&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');var r=T(t),n=r.length>0?r[0]:"",o=k("%"+n+"%",e),s=o.name,c=o.value,l=!1,h=o.alias;h&&(n=h[0],_(r,w([0,1],h)));for(var f=1,p=!0;f<r.length;f+=1){var d=r[f],g=E(d,0,1),v=E(d,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==d&&p||(l=!0),b(y,s="%"+(n+="."+d)+"%"))c=y[s];else if(null!=c){if(!(d in c)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&f+1>=r.length){var m=u(c,d);c=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[d]}else p=b(c,d),c=c[d];p&&!l&&(y[s]=c)}}return c}},747:(t,e,r)=>{"use strict";var n=r(4155),i=r(8764).Buffer,o=r(6470),a=r(2861),s=r(1494).N,u=(r(1943),r(6547),r(858));function c(t,e){var r;try{r=new s(t)}catch(t){return void e(t)}if(r.numFrames()>0){var n=[r.numFrames(),r.height,r.width,4],i=new Uint8Array(n[0]*n[1]*n[2]*n[3]),o=a(i,n);try{for(var u=0;u<r.numFrames();++u)r.decodeAndBlitFrameRGBA(u,i.subarray(o.index(u,0,0,0),o.index(u+1,0,0,0)))}catch(t){return void e(t)}e(null,o.transpose(0,2,1))}else{n=[r.height,r.width,4],i=new Uint8Array(n[0]*n[1]*n[2]),o=a(i,n);try{r.decodeAndBlitFrameRGBA(0,i)}catch(t){return void e(t)}e(null,o.transpose(1,0))}}t.exports=function(t,e,r){r||(r=e,e="");var s=o.extname(t);".GIF"===(e||s.toUpperCase())?function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.overrideMimeType&&r.overrideMimeType("application/binary"),r.onerror=function(t){e(t)},r.onload=function(){4===r.readyState&&c(new Uint8Array(r.response),e)},r.send()}(t,r):(i.isBuffer(t)&&(t="data:"+e+";base64,"+t.toString("base64")),0===t.indexOf("data:image/gif;")?function(t,e){n.nextTick((function(){try{var r=u(t);r?c(function(t){if(void 0===t[0]){for(var e=t.length,r=new Uint8Array(e),n=0;n<e;++n)r[n]=t.get(n);return r}return new Uint8Array(t)}(r),e):e(new Error("Error parsing data URI"))}catch(t){e(t)}}))}(t,r):function(t,e){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var t=document.createElement("canvas");t.width=r.width,t.height=r.height;var n=t.getContext("2d");n.drawImage(r,0,0);var i=n.getImageData(0,0,r.width,r.height);e(null,a(new Uint8Array(i.data),[r.width,r.height,4],[4,4*r.width,1],0))},r.onerror=function(t){e(t)},r.src=t}(t,r))}},7041:(t,e,r)=>{var n=r(8764).Buffer,i=(r(9282),r(7187).EventEmitter,r(6561)),o=r(9539),a=r(5295),s=r(6914);function u(t){i.call(this,t),this.okayToPush=!0,this.resetData()}function c(t,e,r){var n=(r=r||{}).highWaterMark;u.call(this,{highWaterMark:n||0===n?n:65536}),this.width=~~t,this.height=~~e,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.usedEntry=[],this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10;var i=this;function o(){i.flushData()}this.on("writeHeader#stop",o),this.on("frame#stop",o),this.on("finish#stop",(function(){o(),i.push(null)}))}o.inherits(u,i),u.prototype._read=function(){this.okayToPush=!0},u.prototype.resetData=function(){this.data=[]},u.prototype.flushData=function(){if(!this.okayToPush){var t=new Error("GIF memory limit exceeded. Please `read` from GIF before writing additional frames/information.");return this.emit("error",t)}var e=new n(this.data);this.resetData(),this.okayToPush=this.push(e)},u.prototype.writeByte=function(t){this.data.push(t)},u.prototype.writeUTFBytes=function(t){for(var e=t.length,r=0;r<e;r++)this.writeByte(t.charCodeAt(r))},u.prototype.writeBytes=function(t,e,r){for(var n=r||t.length,i=e||0;i<n;i++)this.writeByte(t[i])},o.inherits(c,u),c.prototype.setDelay=function(t){this.delay=Math.round(t/10)},c.prototype.setFrameRate=function(t){this.delay=Math.round(100/t)},c.prototype.setDispose=function(t){t>=0&&(this.dispose=t)},c.prototype.setRepeat=function(t){this.repeat=t},c.prototype.setTransparent=function(t){this.transparent=t},c.prototype.analyzeImage=function(t){this.setImagePixels(this.removeAlphaChannel(t)),this.analyzePixels()},c.prototype.writeImageInfo=function(){this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.writePalette(),this.firstFrame=!1},c.prototype.outputImage=function(){this.writePixels()},c.prototype.addFrame=function(t){this.emit("frame#start"),this.analyzeImage(t),this.writeImageInfo(),this.outputImage(),this.emit("frame#stop")},c.prototype.finish=function(){this.emit("finish#start"),this.writeByte(59),this.emit("finish#stop")},c.prototype.setQuality=function(t){t<1&&(t=1),this.sample=t},c.prototype.writeHeader=function(){this.emit("writeHeader#start"),this.writeUTFBytes("GIF89a"),this.emit("writeHeader#stop")},c.prototype.analyzePixels=function(){var t=this.pixels.length/3;this.indexedPixels=new Uint8Array(t);var e=new a(this.pixels,this.sample);e.buildColormap(),this.colorTab=e.getColormap();for(var r=0,n=0;n<t;n++){var i=e.lookupRGB(255&this.pixels[r++],255&this.pixels[r++],255&this.pixels[r++]);this.usedEntry[i]=!0,this.indexedPixels[n]=i}this.pixels=null,this.colorDepth=8,this.palSize=7,null!==this.transparent&&(this.transIndex=this.findClosest(this.transparent))},c.prototype.findClosest=function(t){if(null===this.colorTab)return-1;for(var e=(16711680&t)>>16,r=(65280&t)>>8,n=255&t,i=0,o=16777216,a=this.colorTab.length,s=0;s<a;){var u=e-(255&this.colorTab[s++]),c=r-(255&this.colorTab[s++]),l=n-(255&this.colorTab[s]),h=u*u+c*c+l*l,f=s/3;this.usedEntry[f]&&h<o&&(o=h,i=f),s++}return i},c.prototype.removeAlphaChannel=function(t){for(var e=this.width,r=this.height,n=new Uint8Array(e*r*3),i=0,o=0;o<r;o++)for(var a=0;a<e;a++){var s=o*e*4+4*a;n[i++]=t[s],n[i++]=t[s+1],n[i++]=t[s+2]}return n},c.prototype.setImagePixels=function(t){this.pixels=t},c.prototype.writeGraphicCtrlExt=function(){var t,e;this.writeByte(33),this.writeByte(249),this.writeByte(4),null===this.transparent?(t=0,e=0):(t=1,e=2),this.dispose>=0&&(e=7&dispose),e<<=2,this.writeByte(0|e|t),this.writeShort(this.delay),this.writeByte(this.transIndex),this.writeByte(0)},c.prototype.writeImageDesc=function(){this.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame?this.writeByte(0):this.writeByte(128|this.palSize)},c.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.writeByte(240|this.palSize),this.writeByte(0),this.writeByte(0)},c.prototype.writeNetscapeExt=function(){this.writeByte(33),this.writeByte(255),this.writeByte(11),this.writeUTFBytes("NETSCAPE2.0"),this.writeByte(3),this.writeByte(1),this.writeShort(this.repeat),this.writeByte(0)},c.prototype.writePalette=function(){this.writeBytes(this.colorTab);for(var t=768-this.colorTab.length,e=0;e<t;e++)this.writeByte(0)},c.prototype.writeShort=function(t){this.writeByte(255&t),this.writeByte(t>>8&255)},c.prototype.writePixels=function(){new s(this.width,this.height,this.indexedPixels,this.colorDepth).encode(this)},c.prototype.stream=function(){return this},c.ByteCapacitor=u,t.exports=c},6914:t=>{var e=5003,r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];t.exports=function(t,n,i,o){var a,s,u,c,l,h,f,p,d,y=Math.max(2,o),g=new Uint8Array(256),v=new Int32Array(e),m=new Int32Array(e),b=0,w=0,_=!1;function x(t,e){g[s++]=t,s>=254&&S(e)}function E(t){A(e),w=p+2,_=!0,O(p,t)}function A(t){for(var e=0;e<t;++e)v[e]=-1}function S(t){s>0&&(t.writeByte(s),t.writeBytes(g,0,s),s=0)}function T(t){return(1<<t)-1}function k(){return 0===c?-1:(--c,255&i[l++])}function O(t,e){for(a&=r[b],b>0?a|=t<<b:a=t,b+=h;b>=8;)x(255&a,e),a>>=8,b-=8;if((w>u||_)&&(_?(u=T(h=f),_=!1):(++h,u=12==h?4096:T(h))),t==d){for(;b>0;)x(255&a,e),a>>=8,b-=8;S(e)}}this.encode=function(r){r.writeByte(y),c=t*n,l=0,function(t,r){var n,i,o,a,c,l;for(_=!1,u=T(h=f=t),d=1+(p=1<<t-1),w=p+2,s=0,a=k(),l=0,n=e;n<65536;n*=2)++l;l=8-l,A(e),O(p,r);t:for(;-1!=(i=k());)if(n=(i<<12)+a,v[o=i<<l^a]!==n){if(v[o]>=0){c=5003-o,0===o&&(c=1);do{if((o-=c)<0&&(o+=5003),v[o]===n){a=m[o];continue t}}while(v[o]>=0)}O(a,r),a=i,w<4096?(m[o]=w++,v[o]=n):E(r)}else a=m[o];O(a,r),O(d,r)}(y+1,r),r.writeByte(0)}}},5295:t=>{var e=256,r=1024,n=1<<18;t.exports=function(t,i){var o,a,s,u,c;function l(t,e,n,i,a){o[e][0]-=t*(o[e][0]-n)/r,o[e][1]-=t*(o[e][1]-i)/r,o[e][2]-=t*(o[e][2]-a)/r}function h(t,r,i,a,s){for(var u,l,h=Math.abs(r-t),f=Math.min(r+t,e),p=r+1,d=r-1,y=1;p<f||d>h;)l=c[y++],p<f&&((u=o[p++])[0]-=l*(u[0]-i)/n,u[1]-=l*(u[1]-a)/n,u[2]-=l*(u[2]-s)/n),d>h&&((u=o[d--])[0]-=l*(u[0]-i)/n,u[1]-=l*(u[1]-a)/n,u[2]-=l*(u[2]-s)/n)}function f(t,r,n){var i,a,c,l,h,f=~(1<<31),p=f,d=-1,y=d;for(i=0;i<e;i++)a=o[i],(c=Math.abs(a[0]-t)+Math.abs(a[1]-r)+Math.abs(a[2]-n))<f&&(f=c,d=i),(l=c-(s[i]>>12))<p&&(p=l,y=i),h=u[i]>>10,u[i]-=h,s[i]+=h<<10;return u[d]+=64,s[d]-=65536,y}this.buildColormap=function(){!function(){var t,r;for(o=[],a=new Int32Array(256),s=new Int32Array(e),u=new Int32Array(e),c=new Int32Array(32),t=0;t<e;t++)r=(t<<12)/e,o[t]=new Float64Array([r,r,r,0]),u[t]=256,s[t]=0}(),function(){var e,n,o,a,s,u,p=t.length,d=30+(i-1)/3,y=p/(3*i),g=~~(y/100),v=r,m=2048,b=m>>6;for(b<=1&&(b=0),e=0;e<b;e++)c[e]=v*(256*(b*b-e*e)/(b*b));p<1509?(i=1,n=3):n=p%499!=0?1497:p%491!=0?1473:p%487!=0?1461:1509;var w=0;for(e=0;e<y;)if(l(v,u=f(o=(255&t[w])<<4,a=(255&t[w+1])<<4,s=(255&t[w+2])<<4),o,a,s),0!==b&&h(b,u,o,a,s),(w+=n)>=p&&(w-=p),0===g&&(g=1),++e%g==0)for(v-=v/d,(b=(m-=m/30)>>6)<=1&&(b=0),u=0;u<b;u++)c[u]=v*(256*(b*b-u*u)/(b*b))}(),function(){for(var t=0;t<e;t++)o[t][0]>>=4,o[t][1]>>=4,o[t][2]>>=4,o[t][3]=t}(),function(){var t,r,n,i,s,u,c=0,l=0;for(t=0;t<e;t++){for(s=t,u=(n=o[t])[1],r=t+1;r<e;r++)(i=o[r])[1]<u&&(s=r,u=i[1]);if(i=o[s],t!=s&&(r=i[0],i[0]=n[0],n[0]=r,r=i[1],i[1]=n[1],n[1]=r,r=i[2],i[2]=n[2],n[2]=r,r=i[3],i[3]=n[3],n[3]=r),u!=c){for(a[c]=l+t>>1,r=c+1;r<u;r++)a[r]=t;c=u,l=t}}for(a[c]=l+255>>1,r=c+1;r<256;r++)a[r]=255}()},this.getColormap=function(){for(var t=[],r=[],n=0;n<e;n++)r[o[n][3]]=n;for(var i=0,a=0;a<e;a++){var s=r[a];t[i++]=o[s][0],t[i++]=o[s][1],t[i++]=o[s][2]}return t},this.lookupRGB=function(t,r,n){for(var i,s,u,c=1e3,l=-1,h=a[r],f=h-1;h<e||f>=0;)h<e&&((u=(s=o[h])[1]-r)>=c?h=e:(h++,u<0&&(u=-u),(i=s[0]-t)<0&&(i=-i),(u+=i)<c&&((i=s[2]-n)<0&&(i=-i),(u+=i)<c&&(c=u,l=s[3])))),f>=0&&((u=r-(s=o[f])[1])>=c?f=-1:(f--,u<0&&(u=-u),(i=s[0]-t)<0&&(i=-i),(u+=i)<c&&((i=s[2]-n)<0&&(i=-i),(u+=i)<c&&(c=u,l=s[3]))));return l}}},9488:(t,e,r)=>{var n=r(4155);t.exports=u;var i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},o=r(6497);o.inherits=r(5717);var a=r(3293),s=r(5627);function u(t){if(!(this instanceof u))return new u(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}o.inherits(u,a),function(t,e){for(var r=0,n=t.length;r<n;r++)i=t[r],u.prototype[i]||(u.prototype[i]=s.prototype[i]);var i}(i(s.prototype))},5870:(t,e,r)=>{t.exports=o;var n=r(260),i=r(6497);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(5717),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},3293:(t,e,r)=>{var n=r(4155);t.exports=f;var i=r(5826),o=r(8764).Buffer;f.ReadableState=h;var a=r(7187).EventEmitter;a.listenerCount||(a.listenerCount=function(t,e){return t.listeners(e).length});var s,u=r(2830),c=r(6497);c.inherits=r(5717);var l=r(6247);function h(t,e){var n=r(9488),i=(t=t||{}).highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,e instanceof n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(s||(s=r(6941).s),this.decoder=new s(t.encoding),this.encoding=t.encoding)}function f(t){if(r(9488),!(this instanceof f))return new f(t);this._readableState=new h(t,this),this.readable=!0,u.call(this)}function p(t,e,r,i,o){var a=function(t,e){var r=null;return c.isBuffer(e)||c.isString(e)||c.isNullOrUndefined(e)||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(e,r);if(a)t.emit("error",a);else if(c.isNullOrUndefined(r))e.reading=!1,e.ended||function(t,e){if(e.decoder&&!e.ended){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,g(t)}(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!o){var s=new Error("stream.push() after EOF");t.emit("error",s)}else e.endEmitted&&o?(s=new Error("stream.unshift() after end event"),t.emit("error",s)):(!e.decoder||o||i||(r=e.decoder.write(r)),o||(e.reading=!1),e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,o?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&g(t)),function(t,e){e.readingMore||(e.readingMore=!0,n.nextTick((function(){!function(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(l("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}(t,e)})))}(t,e));else o||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}l=l&&l.debuglog?l.debuglog("stream"):function(){},c.inherits(f,u),f.prototype.push=function(t,e){var r=this._readableState;return c.isString(t)&&!r.objectMode&&(e=e||r.defaultEncoding)!==r.encoding&&(t=new o(t,e),e=""),p(this,r,t,e,!1)},f.prototype.unshift=function(t){return p(this,this._readableState,t,"",!0)},f.prototype.setEncoding=function(t){return s||(s=r(6941).s),this._readableState.decoder=new s(t),this._readableState.encoding=t,this};var d=8388608;function y(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||c.isNull(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>=d)t=d;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function g(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(l("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?n.nextTick((function(){v(t)})):v(t))}function v(t){l("emit readable"),t.emit("readable"),m(t)}function m(t){var e=t._readableState;if(l("flow",e.flowing),e.flowing)do{var r=t.read()}while(null!==r&&e.flowing)}function b(t,e){var r,n=e.buffer,i=e.length,a=!!e.decoder,s=!!e.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(s)r=n.shift();else if(!t||t>=i)r=a?n.join(""):o.concat(n,i),n.length=0;else if(t<n[0].length)r=(h=n[0]).slice(0,t),n[0]=h.slice(t);else if(t===n[0].length)r=n.shift();else{r=a?"":new o(t);for(var u=0,c=0,l=n.length;c<l&&u<t;c++){var h=n[0],f=Math.min(t-u,h.length);a?r+=h.slice(0,f):h.copy(r,u,0,f),f<h.length?n[0]=h.slice(f):n.shift(),u+=f}}return r}function w(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,n.nextTick((function(){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))})))}f.prototype.read=function(t){l("read",t);var e=this._readableState,r=t;if((!c.isNumber(t)||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return l("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?w(this):g(this),null;if(0===(t=y(t,e))&&e.ended)return 0===e.length&&w(this),null;var n,i=e.needReadable;return l("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&l("length less than watermark",i=!0),(e.ended||e.reading)&&l("reading or ended",i=!1),i&&(l("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),i&&!e.reading&&(t=y(r,e)),n=t>0?b(t,e):null,c.isNull(n)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),r!==t&&e.ended&&0===e.length&&w(this),c.isNull(n)||this.emit("data",n),n},f.prototype._read=function(t){this.emit("error",new Error("not implemented"))},f.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,l("pipe count=%d opts=%j",o.pipesCount,e);var s=e&&!1===e.end||t===n.stdout||t===n.stderr?f:c;function u(t){l("onunpipe"),t===r&&f()}function c(){l("onend"),t.end()}o.endEmitted?n.nextTick(s):r.once("end",s),t.on("unpipe",u);var h=function(t){return function(){var e=t._readableState;l("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a.listenerCount(t,"data")&&(e.flowing=!0,m(t))}}(r);function f(){l("cleanup"),t.removeListener("close",y),t.removeListener("finish",g),t.removeListener("drain",h),t.removeListener("error",d),t.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",f),r.removeListener("data",p),!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h()}function p(e){l("ondata"),!1===t.write(e)&&(l("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,r.pause())}function d(e){l("onerror",e),v(),t.removeListener("error",d),0===a.listenerCount(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",g),v()}function g(){l("onfinish"),t.removeListener("close",y),v()}function v(){l("unpipe"),r.unpipe(t)}return t.on("drain",h),r.on("data",p),t._events&&t._events.error?i(t._events.error)?t._events.error.unshift(d):t._events.error=[d,t._events.error]:t.on("error",d),t.once("close",y),t.once("finish",g),t.emit("pipe",r),o.flowing||(l("pipe resume"),r.resume()),t},f.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}return-1===(i=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}(e.pipes,t))||(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},f.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&g(this);else{var o=this;n.nextTick((function(){l("readable nexttick read 0"),o.read(0)}))}}return r},f.prototype.addListener=f.prototype.on,f.prototype.resume=function(){var t=this._readableState;return t.flowing||(l("resume"),t.flowing=!0,t.reading||(l("resume read 0"),this.read(0)),function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick((function(){!function(t,e){e.resumeScheduled=!1,t.emit("resume"),m(t),e.flowing&&!e.reading&&t.read(0)}(t,e)})))}(this,t)),this},f.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},f.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;for(var i in t.on("end",(function(){if(l("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)})),t.on("data",(function(i){l("wrapped data"),e.decoder&&(i=e.decoder.write(i)),i&&(e.objectMode||i.length)&&(n.push(i)||(r=!0,t.pause()))})),t)c.isFunction(t[i])&&c.isUndefined(this[i])&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(e,r){for(var i=0,o=e.length;i<o;i++)a=e[i],t.on(a,n.emit.bind(n,a));var a}(["error","close","destroy","pause","resume"]),n._read=function(e){l("wrapped _read",e),r&&(r=!1,t.resume())},n},f._fromList=b},260:(t,e,r)=>{t.exports=a;var n=r(9488),i=r(6497);function o(t,e){this.afterTransform=function(t,r){return function(t,e,r){var n=t._transformState;n.transforming=!1;var o=n.writecb;if(!o)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,i.isNullOrUndefined(r)||t.push(r),o&&o(e);var a=t._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&t._read(a.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function a(t){if(!(this instanceof a))return new a(t);n.call(this,t),this._transformState=new o(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",(function(){i.isFunction(this._flush)?this._flush((function(t){s(e,t)})):s(e)}))}function s(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}i.inherits=r(5717),i.inherits(a,n),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,r){throw new Error("not implemented")},a.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;i.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},5627:(t,e,r)=>{var n=r(4155);t.exports=c;var i=r(8764).Buffer;c.WritableState=u;var o=r(6497);o.inherits=r(5717);var a=r(2830);function s(t,e,r){this.chunk=t,this.encoding=e,this.callback=r}function u(t,e){var i=r(9488),o=(t=t||{}).highWaterMark,a=t.objectMode?16:16384;this.highWaterMark=o||0===o?o:a,this.objectMode=!!t.objectMode,e instanceof i&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,o=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,o){r?n.nextTick((function(){e.pendingcb--,o(i)})):(e.pendingcb--,o(i)),t._writableState.errorEmitted=!0,t.emit("error",i)}(t,r,i,e,o);else{var a=p(0,r);a||r.corked||r.bufferProcessing||!r.buffer.length||f(t,r),i?n.nextTick((function(){h(t,r,a,o)})):h(t,r,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function c(t){var e=r(9488);if(!(this instanceof c||this instanceof e))return new c(t);this._writableState=new u(t,this),this.writable=!0,a.call(this)}function l(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function h(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),y(t,e)}function f(t,e){if(e.bufferProcessing=!0,t._writev&&e.buffer.length>1){for(var r=[],n=0;n<e.buffer.length;n++)r.push(e.buffer[n].callback);e.pendingcb++,l(t,e,!0,e.length,e.buffer,"",(function(t){for(var n=0;n<r.length;n++)e.pendingcb--,r[n](t)})),e.buffer=[]}else{for(n=0;n<e.buffer.length;n++){var i=e.buffer[n],o=i.chunk,a=i.encoding,s=i.callback,u=e.objectMode?1:o.length;if(l(t,e,!1,u,o,a,s),e.writing){n++;break}}n<e.buffer.length?e.buffer=e.buffer.slice(n):e.buffer.length=0}e.bufferProcessing=!1}function p(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function d(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function y(t,e){var r=p(0,e);return r&&(0===e.pendingcb?(d(t,e),e.finished=!0,t.emit("finish")):d(t,e)),r}o.inherits(c,a),c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},c.prototype.write=function(t,e,r){var a=this._writableState,u=!1;return o.isFunction(e)&&(r=e,e=null),o.isBuffer(t)?e="buffer":e||(e=a.defaultEncoding),o.isFunction(r)||(r=function(){}),a.ended?function(t,e,r){var i=new Error("write after end");t.emit("error",i),n.nextTick((function(){r(i)}))}(this,0,r):function(t,e,r,i){var a=!0;if(!(o.isBuffer(r)||o.isString(r)||o.isNullOrUndefined(r)||e.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");t.emit("error",s),n.nextTick((function(){i(s)})),a=!1}return a}(this,a,t,r)&&(a.pendingcb++,u=function(t,e,r,n,a){r=function(t,e,r){return!t.objectMode&&!1!==t.decodeStrings&&o.isString(e)&&(e=new i(e,r)),e}(e,r,n),o.isBuffer(r)&&(n="buffer");var u=e.objectMode?1:r.length;e.length+=u;var c=e.length<e.highWaterMark;return c||(e.needDrain=!0),e.writing||e.corked?e.buffer.push(new s(r,n,a)):l(t,e,!1,u,r,n,a),c}(this,a,t,e,r)),u},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.buffer.length||f(this,t))},c.prototype._write=function(t,e,r){r(new Error("not implemented"))},c.prototype._writev=null,c.prototype.end=function(t,e,r){var i=this._writableState;o.isFunction(t)?(r=t,t=null,e=null):o.isFunction(e)&&(r=e,e=null),o.isNullOrUndefined(t)||this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,r){e.ending=!0,y(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0}(this,i,r)}},6561:(t,e,r)=>{var n=r(4155);(e=t.exports=r(3293)).Stream=r(2830),e.Readable=e,e.Writable=r(5627),e.Duplex=r(9488),e.Transform=r(260),e.PassThrough=r(5870),n.browser||"disable"!==n.env.READABLE_STREAM||(t.exports=r(2830))},1405:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(5419);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6410:(t,e,r)=>{"use strict";var n=r(5419);t.exports=function(){return n()&&!!Symbol.toStringTag}},7642:(t,e,r)=>{"use strict";var n=r(8612);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},645:(t,e)=>{e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+p]=255&a,p+=d,a/=256,c-=8);t[r+p-d]|=128*y}},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},6907:t=>{"use strict";t.exports=function(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}},2584:(t,e,r)=>{"use strict";var n=r(6410)(),i=r(1924)("Object.prototype.toString"),o=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},a=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,t.exports=s?o:a},8738:t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},8662:(t,e,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=r(6410)(),u=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(a.test(o.call(t)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(t);if(!u)return!1;if(void 0===n){var e=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(t){}}();n=!!e&&u(e)}return u(t)===n}},8611:t=>{"use strict";t.exports=function(t){return t!=t}},360:(t,e,r)=>{"use strict";var n=r(5559),i=r(4289),o=r(8611),a=r(9415),s=r(6743),u=n(a(),Number);i(u,{getPolyfill:a,implementation:o,shim:s}),t.exports=u},9415:(t,e,r)=>{"use strict";var n=r(8611);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},6743:(t,e,r)=>{"use strict";var n=r(4289),i=r(9415);t.exports=function(){var t=i();return n(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},5692:(t,e,r)=>{"use strict";var n=r(9804),i=r(3083),o=r(1924),a=o("Object.prototype.toString"),s=r(6410)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},h=o("String.prototype.slice"),f={},p=r(882),d=Object.getPrototypeOf;s&&p&&d&&n(c,(function(t){var e=new u[t];if(Symbol.toStringTag in e){var r=d(e),n=p(r,Symbol.toStringTag);if(!n){var i=d(r);n=p(i,Symbol.toStringTag)}f[t]=n.get}})),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!s||!(Symbol.toStringTag in t)){var e=h(a(t),8,-1);return l(c,e)>-1}return!!p&&function(t){var e=!1;return n(f,(function(r,n){if(!e)try{e=r.call(t)===n}catch(t){}})),e}(t)}},5826:t=>{t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},8897:(t,e,r)=>{"use strict";var n=r(6239),i={body:"",args:[],thisVars:[],localVars:[]};function o(t){if(!t)return i;for(var e=0;e<t.args.length;++e){var r=t.args[e];t.args[e]=0===e?{name:r,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function a(t){for(var e=[],r=0;r<t.args.length;++r)e.push("a"+r);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(t){return n({args:t.args,pre:o(t.pre),body:o(t.body),post:o(t.proc),funcName:t.funcName})}(t))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in s){var r=s[t];e[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var r=u[t];e[t]=a({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:t}),e[t+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var r=c[t];e[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var r=l[t];e[r]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:r}),e[r+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var t=0;t<h.length;++t){var r=h[t];e[r]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r}),e[r+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r+"s"}),e[r+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"}),e[r+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"seq"})}}();var f=["atan2","pow"];!function(){for(var t=0;t<f.length;++t){var r=f[t];e[r+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"op"}),e[r+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"ops"}),e[r+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opeq"}),e[r+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opseq"})}}(),e.any=n({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=n({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=n({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},1943:(t,e,r)=>{"use strict";var n=r(2861),i=r(1895);t.exports=function(t,e){for(var r=[],o=t,a=1;Array.isArray(o);)r.push(o.length),a*=o.length,o=o[0];return 0===r.length?n():(e||(e=n(new Float64Array(a),r)),i(e,t),e)}},1895:(t,e,r)=>{t.exports=r(6239)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},2861:(t,e,r)=>{var n=r(6907),i=r(8738),o="undefined"!=typeof Float64Array;function a(t,e){return t[0]-e[0]}function s(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(a);var n=new Array(r.length);for(t=0;t<n.length;++t)n[t]=r[t][1];return n}function u(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var i="generic"===t;if(-1===e){var o="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(o)()}if(0===e)return o="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",new Function("TrivialArray",o)(c[t][0]);o=["'use strict'"];var a=n(e),u=a.map((function(t){return"i"+t})),l="this.offset+"+a.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),h=a.map((function(t){return"b"+t})).join(","),f=a.map((function(t){return"c"+t})).join(",");o.push("function "+r+"(a,"+h+","+f+",d){this.data=a","this.shape=["+h+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+r+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),i?o.push("return this.data.set("+l+",v)}"):o.push("return this.data["+l+"]=v}"),o.push("proto.get=function "+r+"_get("+u.join(",")+"){"),i?o.push("return this.data.get("+l+")}"):o.push("return this.data["+l+"]}"),o.push("proto.index=function "+r+"_index(",u.join(),"){return "+l+"}"),o.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+a.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+a.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var p=a.map((function(t){return"a"+t+"=this.shape["+t+"]"})),d=a.map((function(t){return"c"+t+"=this.stride["+t+"]"}));o.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+d.join(","));for(var y=0;y<e;++y)o.push("if(typeof i"+y+"==='number'&&i"+y+">=0){d=i"+y+"|0;b+=c"+y+"*d;a"+y+"-=d}");for(o.push("return new "+r+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"c"+t})).join(",")+",b)}"),o.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+a.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+a.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),y=0;y<e;++y)o.push("if(typeof i"+y+"==='number'){d=i"+y+"|0;if(d<0){c+=b"+y+"*(a"+y+"-1);a"+y+"=ceil(-a"+y+"/d)}else{a"+y+"=ceil(a"+y+"/d)}b"+y+"*=d}");o.push("return new "+r+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"b"+t})).join(",")+",c)}");var g=new Array(e),v=new Array(e);for(y=0;y<e;++y)g[y]="a[i"+y+"]",v[y]="b[i"+y+"]";for(o.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map((function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+v.join(",")+",this.offset)}"),o.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset"),y=0;y<e;++y)o.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map((function(t){return"shape["+t+"]"})).join(",")+","+a.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(c[t],s)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(t,e,r,n){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var a=e.length;if(void 0===r){r=new Array(a);for(var s=a-1,l=1;s>=0;--s)r[s]=l,l*=e[s]}if(void 0===n)for(n=0,s=0;s<a;++s)r[s]<0&&(n-=(e[s]-1)*r[s]);for(var h=function(t){if(i(t))return"buffer";if(o)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}(t),f=c[h];f.length<=a+1;)f.push(u(h,f.length-1));return(0,f[a+1])(t,e,r,n)}},4244:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,r){return 0===t&&0===r?1/t==1/r:t===r||!(!e(t)||!e(r))}},609:(t,e,r)=>{"use strict";var n=r(4289),i=r(5559),o=r(4244),a=r(5624),s=r(2281),u=i(a(),Object);n(u,{getPolyfill:a,implementation:o,shim:s}),t.exports=u},5624:(t,e,r)=>{"use strict";var n=r(4244);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},2281:(t,e,r)=>{"use strict";var n=r(5624),i=r(4289);t.exports=function(){var t=n();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},8987:(t,e,r)=>{"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=r(1414),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{h(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===o.call(t),n=a(t),s=e&&"[object String]"===o.call(t),f=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var d=c&&r;if(s&&t.length>0&&!i.call(t,0))for(var y=0;y<t.length;++y)f.push(String(y));if(n&&t.length>0)for(var g=0;g<t.length;++g)f.push(String(g));else for(var v in t)d&&"prototype"===v||!i.call(t,v)||f.push(String(v));if(u)for(var m=function(t){if("undefined"==typeof window||!p)return h(t);try{return h(t)}catch(t){return!1}}(t),b=0;b<l.length;++b)m&&"constructor"===l[b]||!i.call(t,l[b])||f.push(l[b]);return f}}t.exports=n},2215:(t,e,r)=>{"use strict";var n=Array.prototype.slice,i=r(1414),o=Object.keys,a=o?function(t){return o(t)}:r(8987),s=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?s(n.call(t)):s(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},1414:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},1494:(t,e)=>{"use strict";function r(t,e,r,n){for(var i=t[e++],o=1<<i,a=o+1,s=a+1,u=i+1,c=(1<<u)-1,l=0,h=0,f=0,p=t[e++],d=new Int32Array(4096),y=null;;){for(;l<16&&0!==p;)h|=t[e++]<<l,l+=8,1===p?p=t[e++]:--p;if(l<u)break;var g=h&c;if(h>>=u,l-=u,g!==o){if(g===a)break;for(var v=g<s?g:y,m=0,b=v;b>o;)b=d[b]>>8,++m;var w=b;if(f+m+(v!==g?1:0)>n)return void console.log("Warning, gif stream longer than expected.");r[f++]=w;var _=f+=m;for(v!==g&&(r[f++]=w),b=v;m--;)b=d[b],r[--_]=255&b,b>>=8;null!==y&&s<4096&&(d[s++]=y<<8|w,s>=c+1&&u<12&&(++u,c=c<<1|1)),y=g}else s=a+1,c=(1<<(u=i+1))-1,y=null}return f!==n&&console.log("Warning, gif stream shorter than expected."),r}try{e.N=function(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,o=t[e++],a=o>>7,s=1<<1+(7&o);t[e++],t[e++];var u=null,c=null;a&&(u=e,c=s,e+=3*s);var l=!0,h=[],f=0,p=null,d=0,y=null;for(this.width=n,this.height=i;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(0===O)break;e+=O}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var g=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],0==(1&g)&&(p=null),d=g>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(0===O)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++],x=_>>6&1,E=1<<1+(7&_),A=u,S=c,T=!1;_>>7&&(T=!0,A=e,S=E,e+=3*E);var k=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(0===O)break;e+=O}h.push({x:v,y:m,width:b,height:w,has_local_palette:T,palette_offset:A,palette_size:S,data_offset:k,data_length:e-k,transparent_index:p,interlaced:!!x,delay:f,disposal:d});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return y},this.frameInfo=function(t){if(t<0||t>=h.length)throw new Error("Frame index out of range.");return h[t]},this.decodeAndBlitFrameBGRA=function(e,i){var o=this.frameInfo(e),a=o.width*o.height,s=new Uint8Array(a);r(t,o.data_offset,s,a);var u=o.palette_offset,c=o.transparent_index;null===c&&(c=256);var l=o.width,h=n-l,f=l,p=4*(o.y*n+o.x),d=4*((o.y+o.height)*n+o.x),y=p,g=4*h;!0===o.interlaced&&(g+=4*n*7);for(var v=8,m=0,b=s.length;m<b;++m){var w=s[m];if(0===f&&(f=l,(y+=g)>=d&&(g=4*h+4*n*(v-1),y=p+(l+h)*(v<<1),v>>=1)),w===c)y+=4;else{var _=t[u+3*w],x=t[u+3*w+1],E=t[u+3*w+2];i[y++]=E,i[y++]=x,i[y++]=_,i[y++]=255}--f}},this.decodeAndBlitFrameRGBA=function(e,i){var o=this.frameInfo(e),a=o.width*o.height,s=new Uint8Array(a);r(t,o.data_offset,s,a);var u=o.palette_offset,c=o.transparent_index;null===c&&(c=256);var l=o.width,h=n-l,f=l,p=4*(o.y*n+o.x),d=4*((o.y+o.height)*n+o.x),y=p,g=4*h;!0===o.interlaced&&(g+=4*n*7);for(var v=8,m=0,b=s.length;m<b;++m){var w=s[m];if(0===f&&(f=l,(y+=g)>=d&&(g=4*h+4*n*(v-1),y=p+(l+h)*(v<<1),v>>=1)),w===c)y+=4;else{var _=t[u+3*w],x=t[u+3*w+1],E=t[u+3*w+2];i[y++]=_,i[y++]=x,i[y++]=E,i[y++]=255}--f}}}}catch(t){}},447:(t,e,r)=>{var n=r(2479);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}t.exports=n(i),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0})}))},4236:(t,e)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(t[i]=r[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(a=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,r,n,i){for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(r)},6069:t=>{"use strict";t.exports=function(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{o=o+(i=i+e[n++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},1619:t=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:t=>{"use strict";var e=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,r,n,i){var o=e,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^r[s])];return-1^t}},405:(t,e,r)=>{"use strict";var n,i=r(4236),o=r(342),a=r(6069),s=r(2869),u=r(8898),c=-2,l=258,h=262,f=103,p=113,d=666;function y(t,e){return t.msg=u[e],e}function g(t){return(t<<1)-(t>4?9:0)}function v(t){for(var e=t.length;--e>=0;)t[e]=0}function m(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function b(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,m(t.strm)}function w(t,e){t.pending_buf[t.pending++]=e}function _(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function x(t,e){var r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-h?t.strstart-(t.w_size-h):0,c=t.window,f=t.w_mask,p=t.prev,d=t.strstart+l,y=c[o+a-1],g=c[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(r=e)+a]===g&&c[r+a-1]===y&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do{}while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&o<d);if(n=l-(d-o),o=d-l,n>a){if(t.match_start=e,a=n,n>=s)break;y=c[o+a-1],g=c[o+a]}}}while((e=p[e&f])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function E(t){var e,r,n,o,u,c,l,f,p,d,y=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=y+(y-h)){i.arraySet(t.window,t.window,y,y,0),t.match_start-=y,t.strstart-=y,t.block_start-=y,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=y?n-y:0}while(--r);e=r=y;do{n=t.prev[--e],t.prev[e]=n>=y?n-y:0}while(--r);o+=y}if(0===t.strm.avail_in)break;if(c=t.strm,l=t.window,f=t.strstart+t.lookahead,p=o,d=void 0,(d=c.avail_in)>p&&(d=p),r=0===d?0:(c.avail_in-=d,i.arraySet(l,c.input,c.next_in,d,f),1===c.state.wrap?c.adler=a(c.adler,l,d,f):2===c.state.wrap&&(c.adler=s(c.adler,l,d,f)),c.next_in+=d,c.total_in+=d,d),t.lookahead+=r,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<h&&0!==t.strm.avail_in)}function A(t,e){for(var r,n;;){if(t.lookahead<h){if(E(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-h&&(t.match_length=x(t,r)),t.match_length>=3)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function S(t,e){for(var r,n,i;;){if(t.lookahead<h){if(E(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-h&&(t.match_length=x(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(b(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&b(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function T(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function k(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function O(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:p,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):y(t,c)}function R(t){var e,r=O(t);return 0===r&&((e=t.state).window_size=2*e.w_size,v(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function I(t,e,r,n,o,a){if(!t)return c;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>9||8!==r||n<8||n>15||e<0||e>9||a<0||a>4)return y(t,c);8===n&&(n=9);var u=new k;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=r,R(t)}n=[new T(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(E(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,b(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-h&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(b(t,!1),t.strm.avail_out),1)})),new T(4,4,8,4,A),new T(4,5,16,8,A),new T(4,6,32,32,A),new T(4,4,16,16,S),new T(8,16,32,32,S),new T(8,16,128,128,S),new T(8,32,128,256,S),new T(32,128,258,1024,S),new T(32,258,258,4096,S)],e.deflateInit=function(t,e){return I(t,e,8,15,8,0)},e.deflateInit2=I,e.deflateReset=R,e.deflateResetKeep=O,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?c:(t.state.gzhead=e,0):c},e.deflate=function(t,e){var r,i,a,u;if(!t||!t.state||e>5||e<0)return t?y(t,c):c;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===d&&4!==e)return y(t,0===t.avail_out?-5:c);if(i.strm=t,r=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=p);else{var h=8+(i.w_bits-8<<4)<<8;h|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=p,_(i,h),0!==i.strstart&&(_(i,t.adler>>>16),_(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),m(t),a=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),m(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),m(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=f)}else i.status=f;if(i.status===f&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(t),i.pending+2<=i.pending_buf_size&&(w(i,255&t.adler),w(i,t.adler>>8&255),t.adler=0,i.status=p)):i.status=p),0!==i.pending){if(m(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&g(e)<=g(r)&&4!==e)return y(t,-5);if(i.status===d&&0!==t.avail_in)return y(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&i.status!==d){var x=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(E(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var r,n,i,a,s=t.window;;){if(t.lookahead<=l){if(E(t),t.lookahead<=l&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=t.strstart+l;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=l-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(i,e):n[i.level].func(i,e);if(3!==x&&4!==x||(i.status=d),1===x||3===x)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===x&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(v(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),m(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&t.adler),w(i,t.adler>>8&255),w(i,t.adler>>16&255),w(i,t.adler>>24&255),w(i,255&t.total_in),w(i,t.total_in>>8&255),w(i,t.total_in>>16&255),w(i,t.total_in>>24&255)):(_(i,t.adler>>>16),_(i,65535&t.adler)),m(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==f&&e!==p&&e!==d?y(t,c):(t.state=null,e===p?y(t,-3):0):c},e.deflateSetDictionary=function(t,e){var r,n,o,s,u,l,h,f,p=e.length;if(!t||!t.state)return c;if(2===(s=(r=t.state).wrap)||1===s&&42!==r.status||r.lookahead)return c;for(1===s&&(t.adler=a(t.adler,e,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(v(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,e,p-r.w_size,r.w_size,0),e=f,p=r.w_size),u=t.avail_in,l=t.next_in,h=t.input,t.avail_in=p,t.next_in=0,t.input=e,E(r);r.lookahead>=3;){n=r.strstart,o=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=2,E(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=l,t.input=h,t.avail_in=u,r.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},4264:t=>{"use strict";t.exports=function(t,e){var r,n,i,o,a,s,u,c,l,h,f,p,d,y,g,v,m,b,w,_,x,E,A,S,T;r=t.state,n=t.next_in,S=t.input,i=n+(t.avail_in-5),o=t.next_out,T=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=r.dmax,c=r.wsize,l=r.whave,h=r.wnext,f=r.window,p=r.hold,d=r.bits,y=r.lencode,g=r.distcode,v=(1<<r.lenbits)-1,m=(1<<r.distbits)-1;t:do{d<15&&(p+=S[n++]<<d,d+=8,p+=S[n++]<<d,d+=8),b=y[p&v];e:for(;;){if(p>>>=w=b>>>24,d-=w,0==(w=b>>>16&255))T[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=y[(65535&b)+(p&(1<<w)-1)];continue e}if(32&w){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}_=65535&b,(w&=15)&&(d<w&&(p+=S[n++]<<d,d+=8),_+=p&(1<<w)-1,p>>>=w,d-=w),d<15&&(p+=S[n++]<<d,d+=8,p+=S[n++]<<d,d+=8),b=g[p&m];r:for(;;){if(p>>>=w=b>>>24,d-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(x=65535&b,d<(w&=15)&&(p+=S[n++]<<d,(d+=8)<w&&(p+=S[n++]<<d,d+=8)),(x+=p&(1<<w)-1)>u){t.msg="invalid distance too far back",r.mode=30;break t}if(p>>>=w,d-=w,x>(w=o-a)){if((w=x-w)>l&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(E=0,A=f,0===h){if(E+=c-w,w<_){_-=w;do{T[o++]=f[E++]}while(--w);E=o-x,A=T}}else if(h<w){if(E+=c+h-w,(w-=h)<_){_-=w;do{T[o++]=f[E++]}while(--w);if(E=0,h<_){_-=w=h;do{T[o++]=f[E++]}while(--w);E=o-x,A=T}}}else if(E+=h-w,w<_){_-=w;do{T[o++]=f[E++]}while(--w);E=o-x,A=T}for(;_>2;)T[o++]=A[E++],T[o++]=A[E++],T[o++]=A[E++],_-=3;_&&(T[o++]=A[E++],_>1&&(T[o++]=A[E++]))}else{E=o-x;do{T[o++]=T[E++],T[o++]=T[E++],T[o++]=T[E++],_-=3}while(_>2);_&&(T[o++]=T[E++],_>1&&(T[o++]=T[E++]))}break}}break}}while(n<i&&o<s);n-=_=d>>3,p&=(1<<(d-=_<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<s?s-o+257:257-(o-s),r.hold=p,r.bits=d}},7948:(t,e,r)=>{"use strict";var n=r(4236),i=r(6069),o=r(2869),a=r(4264),s=r(9241),u=-2,c=12,l=30;function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):u}function d(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,p(t)):u}function y(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?u:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,d(t))):u}function g(t,e){var r,n;return t?(n=new f,t.state=n,n.window=null,0!==(r=y(t,e))&&(t.state=null),r):u}var v,m,b=!0;function w(t){if(b){var e;for(v=new n.Buf32(512),m=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,v,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,m,0,t.work,{bits:5}),b=!1}t.lencode=v,t.lenbits=9,t.distcode=m,t.distbits=5}function _(t,e,r,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),n.arraySet(a.window,e,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,e,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=d,e.inflateReset2=y,e.inflateResetKeep=p,e.inflateInit=function(t){return g(t,15)},e.inflateInit2=g,e.inflate=function(t,e){var r,f,p,d,y,g,v,m,b,x,E,A,S,T,k,O,R,I,M,N,C,P,D,L,B=0,F=new n.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return u;(r=t.state).mode===c&&(r.mode=13),y=t.next_out,p=t.output,v=t.avail_out,d=t.next_in,f=t.input,g=t.avail_in,m=r.hold,b=r.bits,x=g,E=v,P=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;b<16;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}if(2&r.wrap&&35615===m){r.check=0,F[0]=255&m,F[1]=m>>>8&255,r.check=o(r.check,F,2,0),m=0,b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",r.mode=l;break}if(8!=(15&m)){t.msg="unknown compression method",r.mode=l;break}if(b-=4,C=8+(15&(m>>>=4)),0===r.wbits)r.wbits=C;else if(C>r.wbits){t.msg="invalid window size",r.mode=l;break}r.dmax=1<<C,t.adler=r.check=1,r.mode=512&m?10:c,m=0,b=0;break;case 2:for(;b<16;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}if(r.flags=m,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=l;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=l;break}r.head&&(r.head.text=m>>8&1),512&r.flags&&(F[0]=255&m,F[1]=m>>>8&255,r.check=o(r.check,F,2,0)),m=0,b=0,r.mode=3;case 3:for(;b<32;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}r.head&&(r.head.time=m),512&r.flags&&(F[0]=255&m,F[1]=m>>>8&255,F[2]=m>>>16&255,F[3]=m>>>24&255,r.check=o(r.check,F,4,0)),m=0,b=0,r.mode=4;case 4:for(;b<16;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}r.head&&(r.head.xflags=255&m,r.head.os=m>>8),512&r.flags&&(F[0]=255&m,F[1]=m>>>8&255,r.check=o(r.check,F,2,0)),m=0,b=0,r.mode=5;case 5:if(1024&r.flags){for(;b<16;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}r.length=m,r.head&&(r.head.extra_len=m),512&r.flags&&(F[0]=255&m,F[1]=m>>>8&255,r.check=o(r.check,F,2,0)),m=0,b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((A=r.length)>g&&(A=g),A&&(r.head&&(C=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,f,d,A,C)),512&r.flags&&(r.check=o(r.check,f,A,d)),g-=A,d+=A,r.length-=A),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break t;A=0;do{C=f[d+A++],r.head&&C&&r.length<65536&&(r.head.name+=String.fromCharCode(C))}while(C&&A<g);if(512&r.flags&&(r.check=o(r.check,f,A,d)),g-=A,d+=A,C)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break t;A=0;do{C=f[d+A++],r.head&&C&&r.length<65536&&(r.head.comment+=String.fromCharCode(C))}while(C&&A<g);if(512&r.flags&&(r.check=o(r.check,f,A,d)),g-=A,d+=A,C)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;b<16;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}if(m!==(65535&r.check)){t.msg="header crc mismatch",r.mode=l;break}m=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=c;break;case 10:for(;b<32;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}t.adler=r.check=h(m),m=0,b=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=y,t.avail_out=v,t.next_in=d,t.avail_in=g,r.hold=m,r.bits=b,2;t.adler=r.check=1,r.mode=c;case c:if(5===e||6===e)break t;case 13:if(r.last){m>>>=7&b,b-=7&b,r.mode=27;break}for(;b<3;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}switch(r.last=1&m,b-=1,3&(m>>>=1)){case 0:r.mode=14;break;case 1:if(w(r),r.mode=20,6===e){m>>>=2,b-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=l}m>>>=2,b-=2;break;case 14:for(m>>>=7&b,b-=7&b;b<32;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",r.mode=l;break}if(r.length=65535&m,m=0,b=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(A=r.length){if(A>g&&(A=g),A>v&&(A=v),0===A)break t;n.arraySet(p,f,d,A,y),g-=A,d+=A,v-=A,y+=A,r.length-=A;break}r.mode=c;break;case 17:for(;b<14;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}if(r.nlen=257+(31&m),m>>>=5,b-=5,r.ndist=1+(31&m),m>>>=5,b-=5,r.ncode=4+(15&m),m>>>=4,b-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=l;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;b<3;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}r.lens[j[r.have++]]=7&m,m>>>=3,b-=3}for(;r.have<19;)r.lens[j[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},P=s(0,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,P){t.msg="invalid code lengths set",r.mode=l;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;O=(B=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,R=65535&B,!((k=B>>>24)<=b);){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}if(R<16)m>>>=k,b-=k,r.lens[r.have++]=R;else{if(16===R){for(L=k+2;b<L;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}if(m>>>=k,b-=k,0===r.have){t.msg="invalid bit length repeat",r.mode=l;break}C=r.lens[r.have-1],A=3+(3&m),m>>>=2,b-=2}else if(17===R){for(L=k+3;b<L;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}b-=k,C=0,A=3+(7&(m>>>=k)),m>>>=3,b-=3}else{for(L=k+7;b<L;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}b-=k,C=0,A=11+(127&(m>>>=k)),m>>>=7,b-=7}if(r.have+A>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=l;break}for(;A--;)r.lens[r.have++]=C}}if(r.mode===l)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=l;break}if(r.lenbits=9,D={bits:r.lenbits},P=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,P){t.msg="invalid literal/lengths set",r.mode=l;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},P=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,P){t.msg="invalid distances set",r.mode=l;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(g>=6&&v>=258){t.next_out=y,t.avail_out=v,t.next_in=d,t.avail_in=g,r.hold=m,r.bits=b,a(t,E),y=t.next_out,p=t.output,v=t.avail_out,d=t.next_in,f=t.input,g=t.avail_in,m=r.hold,b=r.bits,r.mode===c&&(r.back=-1);break}for(r.back=0;O=(B=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,R=65535&B,!((k=B>>>24)<=b);){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}if(O&&0==(240&O)){for(I=k,M=O,N=R;O=(B=r.lencode[N+((m&(1<<I+M)-1)>>I)])>>>16&255,R=65535&B,!(I+(k=B>>>24)<=b);){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}m>>>=I,b-=I,r.back+=I}if(m>>>=k,b-=k,r.back+=k,r.length=R,0===O){r.mode=26;break}if(32&O){r.back=-1,r.mode=c;break}if(64&O){t.msg="invalid literal/length code",r.mode=l;break}r.extra=15&O,r.mode=22;case 22:if(r.extra){for(L=r.extra;b<L;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;O=(B=r.distcode[m&(1<<r.distbits)-1])>>>16&255,R=65535&B,!((k=B>>>24)<=b);){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}if(0==(240&O)){for(I=k,M=O,N=R;O=(B=r.distcode[N+((m&(1<<I+M)-1)>>I)])>>>16&255,R=65535&B,!(I+(k=B>>>24)<=b);){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}m>>>=I,b-=I,r.back+=I}if(m>>>=k,b-=k,r.back+=k,64&O){t.msg="invalid distance code",r.mode=l;break}r.offset=R,r.extra=15&O,r.mode=24;case 24:if(r.extra){for(L=r.extra;b<L;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=l;break}r.mode=25;case 25:if(0===v)break t;if(A=E-v,r.offset>A){if((A=r.offset-A)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=l;break}A>r.wnext?(A-=r.wnext,S=r.wsize-A):S=r.wnext-A,A>r.length&&(A=r.length),T=r.window}else T=p,S=y-r.offset,A=r.length;A>v&&(A=v),v-=A,r.length-=A;do{p[y++]=T[S++]}while(--A);0===r.length&&(r.mode=21);break;case 26:if(0===v)break t;p[y++]=r.length,v--,r.mode=21;break;case 27:if(r.wrap){for(;b<32;){if(0===g)break t;g--,m|=f[d++]<<b,b+=8}if(E-=v,t.total_out+=E,r.total+=E,E&&(t.adler=r.check=r.flags?o(r.check,p,E,y-E):i(r.check,p,E,y-E)),E=v,(r.flags?m:h(m))!==r.check){t.msg="incorrect data check",r.mode=l;break}m=0,b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;b<32;){if(0===g)break t;g--,m+=f[d++]<<b,b+=8}if(m!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=l;break}m=0,b=0}r.mode=29;case 29:P=1;break t;case l:P=-3;break t;case 31:return-4;default:return u}return t.next_out=y,t.avail_out=v,t.next_in=d,t.avail_in=g,r.hold=m,r.bits=b,(r.wsize||E!==t.avail_out&&r.mode<l&&(r.mode<27||4!==e))&&_(t,t.output,t.next_out,E-t.avail_out)?(r.mode=31,-4):(x-=t.avail_in,E-=t.avail_out,t.total_in+=x,t.total_out+=E,r.total+=E,r.wrap&&E&&(t.adler=r.check=r.flags?o(r.check,p,E,t.next_out-E):i(r.check,p,E,t.next_out-E)),t.data_type=r.bits+(r.last?64:0)+(r.mode===c?128:0)+(20===r.mode||15===r.mode?256:0),(0===x&&0===E||4===e)&&0===P&&(P=-5),P)},e.inflateEnd=function(t){if(!t||!t.state)return u;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?u:(r.head=e,e.done=!1,0):u},e.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?u:11===r.mode&&i(1,e,n,0)!==r.check?-3:_(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,0):u},e.inflateInfo="pako inflate (from Nodeca project)"},9241:(t,e,r)=>{"use strict";var n=r(4236),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,u,c,l,h,f){var p,d,y,g,v,m,b,w,_,x=f.bits,E=0,A=0,S=0,T=0,k=0,O=0,R=0,I=0,M=0,N=0,C=null,P=0,D=new n.Buf16(16),L=new n.Buf16(16),B=null,F=0;for(E=0;E<=15;E++)D[E]=0;for(A=0;A<u;A++)D[e[r+A]]++;for(k=x,T=15;T>=1&&0===D[T];T--);if(k>T&&(k=T),0===T)return c[l++]=20971520,c[l++]=20971520,f.bits=1,0;for(S=1;S<T&&0===D[S];S++);for(k<S&&(k=S),I=1,E=1;E<=15;E++)if(I<<=1,(I-=D[E])<0)return-1;if(I>0&&(0===t||1!==T))return-1;for(L[1]=0,E=1;E<15;E++)L[E+1]=L[E]+D[E];for(A=0;A<u;A++)0!==e[r+A]&&(h[L[e[r+A]]++]=A);if(0===t?(C=B=h,m=19):1===t?(C=i,P-=257,B=o,F-=257,m=256):(C=a,B=s,m=-1),N=0,A=0,E=S,v=l,O=k,R=0,y=-1,g=(M=1<<k)-1,1===t&&M>852||2===t&&M>592)return 1;for(;;){b=E-R,h[A]<m?(w=0,_=h[A]):h[A]>m?(w=B[F+h[A]],_=C[P+h[A]]):(w=96,_=0),p=1<<E-R,S=d=1<<O;do{c[v+(N>>R)+(d-=p)]=b<<24|w<<16|_|0}while(0!==d);for(p=1<<E-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,A++,0==--D[E]){if(E===T)break;E=e[r+h[A]]}if(E>k&&(N&g)!==y){for(0===R&&(R=k),v+=S,I=1<<(O=E-R);O+R<T&&!((I-=D[O+R])<=0);)O++,I<<=1;if(M+=1<<O,1===t&&M>852||2===t&&M>592)return 1;c[y=N&g]=k<<24|O<<16|v-l|0}}return 0!==N&&(c[v+N]=E-R<<24|64<<16|0),f.bits=k,0}},8898:t=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:(t,e,r)=>{"use strict";var n=r(4236);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var l=new Array(60);i(l);var h=new Array(512);i(h);var f=new Array(256);i(f);var p=new Array(29);i(p);var d,y,g,v=new Array(30);function m(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?h[t]:h[256+(t>>>7)]}function _(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,_(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function E(t,e,r){x(t,r[2*e],r[2*e+1])}function A(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function S(t,e,r){var n,i,o=new Array(16),a=0;for(n=1;n<=15;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=A(o[s]++,s))}}function T(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function k(t){t.bi_valid>8?_(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function O(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function R(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&O(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!O(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function I(t,e,r){var n,i,s,u,c=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===n?E(t,i,e):(E(t,(s=f[i])+256+1,e),0!==(u=o[s])&&x(t,i-=p[s],u),E(t,s=w(--n),r),0!==(u=a[s])&&x(t,n-=v[s],u))}while(c<t.last_lit);E(t,256,e)}function M(t,e){var r,n,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<u;r++)0!==o[2*r]?(t.heap[++t.heap_len]=c=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=c,r=t.heap_len>>1;r>=1;r--)R(t,o,r);i=u;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],R(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,R(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,o,a,s,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,y=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(o=u[2*u[2*(n=t.heap[r])+1]+1]+1)>d&&(o=d,y++),u[2*n+1]=o,n>c||(t.bl_count[o]++,a=0,n>=p&&(a=f[n-p]),s=u[2*n],t.opt_len+=s*(o+a),h&&(t.static_len+=s*(l[2*n+1]+a)));if(0!==y){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,y-=2}while(y>0);for(o=d;0!==o;o--)for(n=t.bl_count[o];0!==n;)(i=t.heap[--r])>c||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}(t,e),S(o,c,t.bl_count)}function N(t,e,r){var n,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<u&&i===a||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))}function C(t,e,r){var n,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<u&&i===a)){if(s<c)do{E(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(E(t,i,t.bl_tree),s--),E(t,16,t.bl_tree),x(t,s-3,2)):s<=10?(E(t,17,t.bl_tree),x(t,s-3,3)):(E(t,18,t.bl_tree),x(t,s-11,7));s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}}i(v);var P=!1;function D(t,e,r,i){x(t,0+(i?1:0),3),function(t,e,r,i){k(t),_(t,r),_(t,~r),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r)}e._tr_init=function(t){P||(function(){var t,e,r,n,i,u=new Array(16);for(r=0,n=0;n<28;n++)for(p[n]=r,t=0;t<1<<o[n];t++)f[r++]=n;for(f[r-1]=n,i=0,n=0;n<16;n++)for(v[n]=i,t=0;t<1<<a[n];t++)h[i++]=n;for(i>>=7;n<30;n++)for(v[n]=i<<7,t=0;t<1<<a[n]-7;t++)h[256+i++]=n;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,u[8]++;for(;t<=255;)c[2*t+1]=9,t++,u[9]++;for(;t<=279;)c[2*t+1]=7,t++,u[7]++;for(;t<=287;)c[2*t+1]=8,t++,u[8]++;for(S(c,287,u),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=A(t,5);d=new m(c,o,257,286,15),y=new m(l,a,0,30,15),g=new m(new Array(0),s,0,19,7)}(),P=!0),t.l_desc=new b(t.dyn_ltree,d),t.d_desc=new b(t.dyn_dtree,y),t.bl_desc=new b(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,T(t)},e._tr_stored_block=D,e._tr_flush_block=function(t,e,r,n){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),M(t,t.l_desc),M(t,t.d_desc),a=function(t){var e;for(N(t,t.dyn_ltree,t.l_desc.max_code),N(t,t.dyn_dtree,t.d_desc.max_code),M(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?D(t,e,r,n):4===t.strategy||o===i?(x(t,2+(n?1:0),3),I(t,c,l)):(x(t,4+(n?1:0),3),function(t,e,r,n){var i;for(x(t,e-257,5),x(t,r-1,5),x(t,n-4,4),i=0;i<n;i++)x(t,t.bl_tree[2*u[i]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),I(t,t.dyn_ltree,t.dyn_dtree)),T(t),n&&k(t)},e._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(f[r]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){x(t,2,3),E(t,256,c),function(t){16===t.bi_valid?(_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},2292:t=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},6470:(t,e,r)=>{"use strict";var n=r(4155);function i(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function o(t,e){for(var r,n="",i=0,o=-1,a=0,s=0;s<=t.length;++s){if(s<t.length)r=t.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){-1===u?(n="",i=0):i=(n=n.slice(0,u)).length-1-n.lastIndexOf("/"),o=s,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=s,a=0;continue}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(o+1,s):n=t.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var a={resolve:function(){for(var t,e="",r=!1,a=arguments.length-1;a>=-1&&!r;a--){var s;a>=0?s=arguments[a]:(void 0===t&&(t=n.cwd()),s=t),i(s),0!==s.length&&(e=s+"/"+e,r=47===s.charCodeAt(0))}return e=o(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(i(t),0===t.length)return".";var e=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return 0!==(t=o(t,!e)).length||e||(t="."),t.length>0&&r&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return i(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];i(r),r.length>0&&(void 0===t?t=r:t+="/"+r)}return void 0===t?".":a.normalize(t)},relative:function(t,e){if(i(t),i(e),t===e)return"";if((t=a.resolve(t))===(e=a.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var n=t.length,o=n-r,s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var u=e.length-s,c=o<u?o:u,l=-1,h=0;h<=c;++h){if(h===c){if(u>c){if(47===e.charCodeAt(s+h))return e.slice(s+h+1);if(0===h)return e.slice(s+h)}else o>c&&(47===t.charCodeAt(r+h)?l=h:0===h&&(l=0));break}var f=t.charCodeAt(r+h);if(f!==e.charCodeAt(s+h))break;47===f&&(l=h)}var p="";for(h=r+l+1;h<=n;++h)h!==n&&47!==t.charCodeAt(h)||(0===p.length?p+="..":p+="/..");return p.length>0?p+e.slice(s+l):(s+=l,47===e.charCodeAt(s)&&++s,e.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(i(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,o=!0,a=t.length-1;a>=1;--a)if(47===(e=t.charCodeAt(a))){if(!o){n=a;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"//":t.slice(0,n)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');i(t);var r,n=0,o=-1,a=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,u=-1;for(r=t.length-1;r>=0;--r){var c=t.charCodeAt(r);if(47===c){if(!a){n=r+1;break}}else-1===u&&(a=!1,u=r+1),s>=0&&(c===e.charCodeAt(s)?-1==--s&&(o=r):(s=-1,o=u))}return n===o?o=u:-1===o&&(o=t.length),t.slice(n,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!a){n=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":t.slice(n,o)},extname:function(t){i(t);for(var e=-1,r=0,n=-1,o=!0,a=0,s=t.length-1;s>=0;--s){var u=t.charCodeAt(s);if(47!==u)-1===n&&(o=!1,n=s+1),46===u?-1===e?e=s:1!==a&&(a=1):-1!==e&&(a=-1);else if(!o){r=s+1;break}}return-1===e||-1===n||0===a||1===a&&e===n-1&&e===r+1?"":t.slice(e,n)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+"/"+n:n}(0,t)},parse:function(t){i(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r,n=t.charCodeAt(0),o=47===n;o?(e.root="/",r=1):r=0;for(var a=-1,s=0,u=-1,c=!0,l=t.length-1,h=0;l>=r;--l)if(47!==(n=t.charCodeAt(l)))-1===u&&(c=!1,u=l+1),46===n?-1===a?a=l:1!==h&&(h=1):-1!==a&&(h=-1);else if(!c){s=l+1;break}return-1===a||-1===u||0===h||1===h&&a===u-1&&a===s+1?-1!==u&&(e.base=e.name=0===s&&o?t.slice(1,u):t.slice(s,u)):(0===s&&o?(e.name=t.slice(1,a),e.base=t.slice(1,u)):(e.name=t.slice(s,a),e.base=t.slice(s,u)),e.ext=t.slice(a,u)),s>0?e.dir=t.slice(0,s-1):o&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,t.exports=a},5573:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(1554),o={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function a(t,e,r,n,i,a){for(var s=t.width,u=t.height,c=t.index,l=0;l<u;l++)for(var h=0;h<s;h++){for(var f=r(h,l,c),p=0;p<4;p++){var d=o[n][p];if(p===i.length)throw new Error("Ran out of data");e[f+p]=255!==d?i[d+a]:255}a+=n}return a}function s(t,e,r,n,i,a){for(var s=t.width,u=t.height,c=t.index,l=0;l<u;l++){for(var h=0;h<s;h++)for(var f=i.get(n),p=r(h,l,c),d=0;d<4;d++){var y=o[n][d];e[p+d]=255!==y?f[y]:a}i.resetAfterLine()}}e.dataToBitMap=function(t,e){var r,o=e.width,u=e.height,c=e.depth,l=e.bpp,h=e.interlace;if(8!==c)var f=function(t,e){var r=[],n=0;function i(){if(n===t.length)throw new Error("Ran out of data");var i,o,a,s,u,c,l,h,f=t[n];switch(n++,e){default:throw new Error("unrecognised depth");case 16:l=t[n],n++,r.push((f<<8)+l);break;case 4:l=15&f,h=f>>4,r.push(h,l);break;case 2:u=3&f,c=f>>2&3,l=f>>4&3,h=f>>6&3,r.push(h,l,c,u);break;case 1:i=1&f,o=f>>1&1,a=f>>2&1,s=f>>3&1,u=f>>4&1,c=f>>5&1,l=f>>6&1,h=f>>7&1,r.push(h,l,c,u,s,a,o,i)}}return{get:function(t){for(;r.length<t;)i();var e=r.slice(0,t);return r=r.slice(t),e},resetAfterLine:function(){r.length=0},end:function(){if(n!==t.length)throw new Error("extra data found")}}}(t,c);r=c<=8?new n(o*u*4):new Uint16Array(o*u*4);var p,d,y=Math.pow(2,c)-1,g=0;if(h)p=i.getImagePasses(o,u),d=i.getInterlaceIterator(o,u);else{var v=0;d=function(){var t=v;return v+=4,t},p=[{width:o,height:u}]}for(var m=0;m<p.length;m++)8===c?g=a(p[m],r,d,l,t,g):s(p[m],r,d,l,f,y);if(8===c){if(g!==t.length)throw new Error("extra data found")}else f.end();return r}},4174:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(7745);t.exports=function(t,e,r,o){var a=o.colorType===i.COLORTYPE_COLOR_ALPHA;if(o.inputHasAlpha&&a)return t;if(!o.inputHasAlpha&&!a)return t;var s=a?4:3,u=new n(e*r*s),c=o.inputHasAlpha?4:3,l=0,h=0,f=o.bgColor||{};void 0===f.red&&(f.red=255),void 0===f.green&&(f.green=255),void 0===f.blue&&(f.blue=255);for(var p=0;p<r;p++)for(var d=0;d<e;d++){var y,g=t[l],v=t[l+1],m=t[l+2];o.inputHasAlpha?(y=t[l+3],a||(y/=255,g=Math.min(Math.max(Math.round((1-y)*f.red+y*g),0),255),v=Math.min(Math.max(Math.round((1-y)*f.green+y*v),0),255),m=Math.min(Math.max(Math.round((1-y)*f.blue+y*m),0),255))):y=255,u[h]=g,u[h+1]=v,u[h+2]=m,a&&(u[h+3]=y),l+=c,h+=s}return u}},425:(t,e,r)=>{"use strict";var n=r(4155),i=r(8764).Buffer,o=r(9539),a=r(2830),s=t.exports=function(){a.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};o.inherits(s,a),s.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),n.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},s.prototype.write=function(t,e){return this.writable?(r=i.isBuffer(t)?t:new i(t,e||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",new Error("Stream not writable")),!1);var r},s.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},s.prototype.destroySoon=s.prototype.end,s.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waitng on finished stream")),this.destroy()},s.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},s.prototype._processReadAllowingLess=function(t){this._reads.shift();var e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))},s.prototype._processRead=function(t){this._reads.shift();for(var e=0,r=0,n=new i(t.length);e<t.length;){var o=this._buffers[r++],a=Math.min(o.length,t.length-e);o.copy(n,e,0,a),e+=a,a!==o.length&&(this._buffers[--r]=o.slice(a))}r>0&&this._buffers.splice(0,r),this._buffered-=t.length,t.func.call(this,n)},s.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else{if(!(this._buffered>=t.length))break;this._processRead(t)}}this._buffers&&this._buffers.length>0&&null===this._buffers[0]&&this._end()}catch(t){this.emit("error",t)}}},7745:t=>{"use strict";t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},6018:t=>{"use strict";var e=[];!function(){for(var t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}}();var r=t.exports=function(){this._crc=-1};r.prototype.write=function(t){for(var r=0;r<t.length;r++)this._crc=e[255&(this._crc^t[r])]^this._crc>>>8;return!0},r.prototype.crc32=function(){return-1^this._crc},r.crc32=function(t){for(var r=-1,n=0;n<t.length;n++)r=e[255&(r^t[n])]^r>>>8;return-1^r}},5935:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(6733),o={0:function(t,e,r,n,i){t.copy(n,i,e,e+r)},1:function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=a>=o?t[e+a-o]:0,u=t[e+a]-s;n[i+a]=u}},2:function(t,e,r,n,i){for(var o=0;o<r;o++){var a=e>0?t[e+o-r]:0,s=t[e+o]-a;n[i+o]=s}},3:function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=a>=o?t[e+a-o]:0,u=e>0?t[e+a-r]:0,c=t[e+a]-(s+u>>1);n[i+a]=c}},4:function(t,e,r,n,o,a){for(var s=0;s<r;s++){var u=s>=a?t[e+s-a]:0,c=e>0?t[e+s-r]:0,l=e>0&&s>=a?t[e+s-(r+a)]:0,h=t[e+s]-i(u,c,l);n[o+s]=h}}},a={0:function(t,e,r){for(var n=0,i=e+r,o=e;o<i;o++)n+=Math.abs(t[o]);return n},1:function(t,e,r,n){for(var i=0,o=0;o<r;o++){var a=o>=n?t[e+o-n]:0,s=t[e+o]-a;i+=Math.abs(s)}return i},2:function(t,e,r){for(var n=0,i=e+r,o=e;o<i;o++){var a=e>0?t[o-r]:0,s=t[o]-a;n+=Math.abs(s)}return n},3:function(t,e,r,n){for(var i=0,o=0;o<r;o++){var a=o>=n?t[e+o-n]:0,s=e>0?t[e+o-r]:0,u=t[e+o]-(a+s>>1);i+=Math.abs(u)}return i},4:function(t,e,r,n){for(var o=0,a=0;a<r;a++){var s=a>=n?t[e+a-n]:0,u=e>0?t[e+a-r]:0,c=e>0&&a>=n?t[e+a-(r+n)]:0,l=t[e+a]-i(s,u,c);o+=Math.abs(l)}return o}};t.exports=function(t,e,r,i,s){var u;if("filterType"in i&&-1!==i.filterType){if("number"!=typeof i.filterType)throw new Error("unrecognised filter types");u=[i.filterType]}else u=[0,1,2,3,4];for(var c=e*s,l=0,h=0,f=new n((c+1)*r),p=u[0],d=0;d<r;d++){if(u.length>1)for(var y=1/0,g=0;g<u.length;g++){var v=a[u[g]](t,h,c,s);v<y&&(p=u[g],y=v)}f[l]=p,l++,o[p](t,h,c,f,l,s),l+=c,h+=c}return f}},6281:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(9539),o=r(425),a=r(8290),s=t.exports=function(t){o.call(this);var e=[],r=this;this._filter=new a(t,{read:this.read.bind(this),write:function(t){e.push(t)},complete:function(){r.emit("complete",n.concat(e))}}),this._filter.start()};i.inherits(s,o)},263:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(2809),o=r(8290);e.process=function(t,e){var r=[],a=new i(t);return new o(e,{read:a.read.bind(a),write:function(t){r.push(t)},complete:function(){}}).start(),a.process(),n.concat(r)}},8290:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(1554),o=r(6733);function a(t,e,r){var n=t*e;return 8!==r&&(n=Math.ceil(n/(8/r))),n}var s=t.exports=function(t,e){var r=t.width,n=t.height,o=t.interlace,s=t.bpp,u=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],o)for(var c=i.getImagePasses(r,n),l=0;l<c.length;l++)this._images.push({byteWidth:a(c[l].width,s,u),height:c[l].height,lineIndex:0});else this._images.push({byteWidth:a(r,s,u),height:n,lineIndex:0});this._xComparison=8===u?s:16===u?2*s:1};s.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},s.prototype._unFilterType1=function(t,e,r){for(var n=this._xComparison,i=n-1,o=0;o<r;o++){var a=t[1+o],s=o>i?e[o-n]:0;e[o]=a+s}},s.prototype._unFilterType2=function(t,e,r){for(var n=this._lastLine,i=0;i<r;i++){var o=t[1+i],a=n?n[i]:0;e[i]=o+a}},s.prototype._unFilterType3=function(t,e,r){for(var n=this._xComparison,i=n-1,o=this._lastLine,a=0;a<r;a++){var s=t[1+a],u=o?o[a]:0,c=a>i?e[a-n]:0,l=Math.floor((c+u)/2);e[a]=s+l}},s.prototype._unFilterType4=function(t,e,r){for(var n=this._xComparison,i=n-1,a=this._lastLine,s=0;s<r;s++){var u=t[1+s],c=a?a[s]:0,l=s>i?e[s-n]:0,h=s>i&&a?a[s-n]:0,f=o(l,c,h);e[s]=u+f}},s.prototype._reverseFilterLine=function(t){var e,r=t[0],i=this._images[this._imageIndex],o=i.byteWidth;if(0===r)e=t.slice(1,o+1);else switch(e=new n(o),r){case 1:this._unFilterType1(t,e,o);break;case 2:this._unFilterType2(t,e,o);break;case 3:this._unFilterType3(t,e,o);break;case 4:this._unFilterType4(t,e,o);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(e),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=e,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}},1157:(t,e,r)=>{"use strict";var n=r(8764).Buffer;t.exports=function(t,e){var r=e.depth,i=e.width,o=e.height,a=e.colorType,s=e.transColor,u=e.palette,c=t;return 3===a?function(t,e,r,n,i){for(var o=0,a=0;a<n;a++)for(var s=0;s<r;s++){var u=i[t[o]];if(!u)throw new Error("index "+t[o]+" not in palette");for(var c=0;c<4;c++)e[o+c]=u[c];o+=4}}(t,c,i,o,u):(s&&function(t,e,r,n,i){for(var o=0,a=0;a<n;a++)for(var s=0;s<r;s++){var u=!1;if(1===i.length?i[0]===t[o]&&(u=!0):i[0]===t[o]&&i[1]===t[o+1]&&i[2]===t[o+2]&&(u=!0),u)for(var c=0;c<4;c++)e[o+c]=0;o+=4}}(t,c,i,o,s),8!==r&&(16===r&&(c=new n(i*o*4)),function(t,e,r,n,i){for(var o=Math.pow(2,i)-1,a=0,s=0;s<n;s++)for(var u=0;u<r;u++){for(var c=0;c<4;c++)e[a+c]=Math.floor(255*t[a+c]/o+.5);a+=4}}(t,c,i,o,r))),c}},1554:(t,e)=>{"use strict";var r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];e.getImagePasses=function(t,e){for(var n=[],i=t%8,o=e%8,a=(t-i)/8,s=(e-o)/8,u=0;u<r.length;u++){for(var c=r[u],l=a*c.x.length,h=s*c.y.length,f=0;f<c.x.length&&c.x[f]<i;f++)l++;for(f=0;f<c.y.length&&c.y[f]<o;f++)h++;l>0&&h>0&&n.push({width:l,height:h,index:u})}return n},e.getInterlaceIterator=function(t){return function(e,n,i){var o=e%r[i].x.length,a=(e-o)/r[i].x.length*8+r[i].x[o],s=n%r[i].y.length;return 4*a+((n-s)/r[i].y.length*8+r[i].y[s])*t*4}}},5191:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(9539),o=r(2830),a=r(7745),s=r(4106),u=t.exports=function(t){o.call(this);var e=t||{};this._packer=new s(e),this._deflate=this._packer.createDeflate(),this.readable=!0};i.inherits(u,o),u.prototype.pack=function(t,e,r,i){this.emit("data",new n(a.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,r)),i&&this.emit("data",this._packer.packGAMA(i));var o=this._packer.filterData(t,e,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(t){this.emit("data",this._packer.packIDAT(t))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(o)}},6217:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=!0,o=r(2635);o.deflateSync||(i=!1);var a=r(7745),s=r(4106);t.exports=function(t,e){if(!i)throw new Error("To use the sync capability of this library in old node versions, please also add a dependency on node-zlb-backport");var r=new s(e||{}),u=[];u.push(new n(a.PNG_SIGNATURE)),u.push(r.packIHDR(t.width,t.height)),t.gamma&&u.push(r.packGAMA(t.gamma));var c=r.filterData(t.data,t.width,t.height),l=o.deflateSync(c,r.getDeflateOptions());if(c=null,!l||!l.length)throw new Error("bad png - invalid compressed data response");return u.push(r.packIDAT(l)),u.push(r.packIEND()),n.concat(u)}},4106:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(7745),o=r(6018),a=r(4174),s=r(5935),u=r(2635),c=t.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32768,t.deflateLevel=null!=t.deflateLevel?t.deflateLevel:9,t.deflateStrategy=null!=t.deflateStrategy?t.deflateStrategy:3,t.inputHasAlpha=null==t.inputHasAlpha||t.inputHasAlpha,t.deflateFactory=t.deflateFactory||u.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType="number"==typeof t.colorType?t.colorType:i.COLORTYPE_COLOR_ALPHA,t.colorType!==i.COLORTYPE_COLOR&&t.colorType!==i.COLORTYPE_COLOR_ALPHA)throw new Error("option color type:"+t.colorType+" is not supported at present");if(8!==t.bitDepth)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};c.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},c.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},c.prototype.filterData=function(t,e,r){var n=a(t,e,r,this._options),o=i.COLORTYPE_TO_BPP_MAP[this._options.colorType];return s(n,e,r,this._options,o)},c.prototype._packChunk=function(t,e){var r=e?e.length:0,i=new n(r+12);return i.writeUInt32BE(r,0),i.writeUInt32BE(t,4),e&&e.copy(i,8),i.writeInt32BE(o.crc32(i.slice(4,i.length-4)),i.length-4),i},c.prototype.packGAMA=function(t){var e=new n(4);return e.writeUInt32BE(Math.floor(t*i.GAMMA_DIVISION),0),this._packChunk(i.TYPE_gAMA,e)},c.prototype.packIHDR=function(t,e){var r=new n(13);return r.writeUInt32BE(t,0),r.writeUInt32BE(e,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(i.TYPE_IHDR,r)},c.prototype.packIDAT=function(t){return this._packChunk(i.TYPE_IDAT,t)},c.prototype.packIEND=function(){return this._packChunk(i.TYPE_IEND,null)}},6733:t=>{"use strict";t.exports=function(t,e,r){var n=t+e-r,i=Math.abs(n-t),o=Math.abs(n-e),a=Math.abs(n-r);return i<=o&&i<=a?t:o<=a?e:r}},8761:(t,e,r)=>{"use strict";var n=r(9539),i=r(2635),o=r(425),a=r(6281),s=r(1219),u=r(5573),c=r(1157),l=t.exports=function(t){o.call(this),this._parser=new s(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};n.inherits(l,o),l.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this.errord=!0},l.prototype._inflateData=function(t){this._inflate||(this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter)),this._inflate.write(t)},l.prototype._handleMetaData=function(t){this.emit("metadata",t),this._bitmapInfo=Object.create(t),this._filter=new a(this._bitmapInfo)},l.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},l.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},l.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},l.prototype._complete=function(t){if(!this.errord){try{var e=u.dataToBitMap(t,this._bitmapInfo),r=c(e,this._bitmapInfo);e=null}catch(t){return void this._handleError(t)}this.emit("parsed",r)}}},7099:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=!0,o=r(2635);o.deflateSync||(i=!1);var a=r(2809),s=r(263),u=r(1219),c=r(5573),l=r(1157);t.exports=function(t,e){if(!i)throw new Error("To use the sync capability of this library in old node versions, please also add a dependency on node-zlb-backport");var r,h,f,p=[],d=new a(t),y=new u(e,{read:d.read.bind(d),error:function(t){r=t},metadata:function(t){h=t},gamma:function(t){f=t},palette:function(t){h.palette=t},transColor:function(t){h.transColor=t},inflateData:function(t){p.push(t)}});if(y.start(),d.process(),r)throw r;var g=n.concat(p);p.length=0;var v=o.inflateSync(g);if(g=null,!v||!v.length)throw new Error("bad png - invalid inflate data response");var m=s.process(v,h);g=null;var b=c.dataToBitMap(m,h);m=null;var w=l(b,h);return h.data=w,h.gamma=f||0,h}},1219:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(7745),o=r(6018),a=t.exports=function(t,e){this._options=t,t.checkCRC=!1!==t.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[i.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[i.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[i.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[i.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[i.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[i.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.inflateData=e.inflateData,this.finished=e.finished};a.prototype.start=function(){this.read(i.PNG_SIGNATURE.length,this._parseSignature.bind(this))},a.prototype._parseSignature=function(t){for(var e=i.PNG_SIGNATURE,r=0;r<e.length;r++)if(t[r]!==e[r])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},a.prototype._parseChunkBegin=function(t){for(var e=t.readUInt32BE(0),r=t.readUInt32BE(4),a="",s=4;s<8;s++)a+=String.fromCharCode(t[s]);var u=Boolean(32&t[4]);if(this._hasIHDR||r===i.TYPE_IHDR){if(this._crc=new o,this._crc.write(new n(a)),this._chunks[r])return this._chunks[r](e);u?this.read(e+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+a))}else this.error(new Error("Expected IHDR on beggining"))},a.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},a.prototype._parseChunkEnd=function(t){var e=t.readInt32BE(0),r=this._crc.crc32();this._options.checkCRC&&r!==e?this.error(new Error("Crc error - "+e+" - "+r)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},a.prototype._parseIHDR=function(t){this._crc.write(t);var e=t.readUInt32BE(0),r=t.readUInt32BE(4),n=t[8],o=t[9],a=t[10],s=t[11],u=t[12];if(8===n||4===n||2===n||1===n||16===n)if(o in i.COLORTYPE_TO_BPP_MAP)if(0===a)if(0===s)if(0===u||1===u){this._colorType=o;var c=i.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:r,depth:n,interlace:Boolean(u),palette:Boolean(o&i.COLORTYPE_PALETTE),color:Boolean(o&i.COLORTYPE_COLOR),alpha:Boolean(o&i.COLORTYPE_ALPHA),bpp:c,colorType:o}),this._handleChunkEnd()}else this.error(new Error("Unsupported interlace method"));else this.error(new Error("Unsupported filter method"));else this.error(new Error("Unsupported compression method"));else this.error(new Error("Unsupported color type"));else this.error(new Error("Unsupported bit depth "+n))},a.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},a.prototype._parsePLTE=function(t){this._crc.write(t);for(var e=Math.floor(t.length/3),r=0;r<e;r++)this._palette.push([t[3*r],t[3*r+1],t[3*r+2],255]);this.palette(this._palette),this._handleChunkEnd()},a.prototype._handleTRNS=function(t){this.read(t,this._parseTRNS.bind(this))},a.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===i.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(t.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(var e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===i.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===i.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},a.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},a.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/i.GAMMA_DIVISION),this._handleChunkEnd()},a.prototype._handleIDAT=function(t){this.read(-t,this._parseIDAT.bind(this,t))},a.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===i.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(e);var r=t-e.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},a.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},a.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}},1010:(t,e,r)=>{"use strict";var n=r(7099),i=r(6217);e.read=function(t,e){return n(t,e||{})},e.write=function(t){return i(t)}},3525:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(4155),o=r(9539),a=r(2830),s=r(8761),u=r(5191),c=r(1010),l=e.y=function(t){a.call(this),t=t||{},this.width=t.width||0,this.height=t.height||0,this.data=this.width>0&&this.height>0?new n(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new s(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(t){this.data=t,this.emit("parsed",t)}.bind(this)),this._packer=new u(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};o.inherits(l,a),l.sync=c,l.prototype.pack=function(){return this.data&&this.data.length?(i.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},l.prototype.parse=function(t,e){var r,n;return e&&(r=function(t){this.removeListener("error",n),this.data=t,e(null,this)}.bind(this),n=function(t){this.removeListener("parsed",r),e(t,null)}.bind(this),this.once("parsed",r),this.once("error",n)),this.end(t),this},l.prototype.write=function(t){return this._parser.write(t),!0},l.prototype.end=function(t){this._parser.end(t)},l.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},l.prototype._gamma=function(t){this.gamma=t},l.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},l.bitblt=function(t,e,r,n,i,o,a,s){if(r>t.width||n>t.height||r+i>t.width||n+o>t.height)throw new Error("bitblt reading outside image");if(a>e.width||s>e.height||a+i>e.width||s+o>e.height)throw new Error("bitblt writing outside image");for(var u=0;u<o;u++)t.data.copy(e.data,(s+u)*e.width+a<<2,(n+u)*t.width+r<<2,(n+u)*t.width+r+i<<2)},l.prototype.bitblt=function(t,e,r,n,i,o,a){return l.bitblt(this,t,e,r,n,i,o,a),this},l.adjustGamma=function(t){if(t.gamma){for(var e=0;e<t.height;e++)for(var r=0;r<t.width;r++)for(var n=t.width*e+r<<2,i=0;i<3;i++){var o=t.data[n+i]/255;o=Math.pow(o,1/2.2/t.gamma),t.data[n+i]=Math.round(255*o)}t.gamma=0}},l.prototype.adjustGamma=function(){l.adjustGamma(this)}},2809:t=>{"use strict";var e=t.exports=function(t){this._buffer=t,this._reads=[]};e.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})},e.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var t=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=t.length||t.allowLess))break;this._reads.shift();var e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}return this._reads.length>0?new Error("There are some read requests waitng on finished stream"):this._buffer.length>0?new Error("unrecognised content at end of stream"):void 0}},4155:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var s,u=[],c=!1,l=-1;function h(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&f())}function f(){if(!c){var t=a(h);c=!0;for(var e=u.length;e;){for(s=u,u=[];++l<e;)s&&s[l].run();l=-1,e=u.length}s=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},7708:t=>{function e(t,e){if(!(t instanceof Blob))throw new TypeError("Must be a File or Blob");return new Promise((function(r,n){const i=new FileReader;i.onload=function(t){r(t.target.result)},i.onerror=function(e){n(new Error("Error reading"+t.name+": "+e.target.result))},i["readAs"+e](t)}))}t.exports={readAsDataURL:function(t){return e(t,"DataURL")},readAsText:function(t){return e(t,"Text")},readAsArrayBuffer:function(t){return e(t,"ArrayBuffer")}}},6753:(t,e,r)=>{var n=r(4155);t.exports=u;var i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},o=r(6497);o.inherits=r(5717);var a=r(9481),s=r(4229);function u(t){if(!(this instanceof u))return new u(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}o.inherits(u,a),function(t,e){for(var r=0,n=t.length;r<n;r++)i=t[r],u.prototype[i]||(u.prototype[i]=s.prototype[i]);var i}(i(s.prototype))},2725:(t,e,r)=>{t.exports=o;var n=r(4605),i=r(6497);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(5717),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},9481:(t,e,r)=>{var n=r(4155);t.exports=h;var i=r(5826),o=r(8764).Buffer;h.ReadableState=l;var a=r(7187).EventEmitter;a.listenerCount||(a.listenerCount=function(t,e){return t.listeners(e).length});var s,u=r(2830),c=r(6497);function l(t,e){var n=(t=t||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(s||(s=r(6941).s),this.decoder=new s(t.encoding),this.encoding=t.encoding)}function h(t){if(!(this instanceof h))return new h(t);this._readableState=new l(t,this),this.readable=!0,u.call(this)}function f(t,e,r,i,a){var s=function(t,e){var r=null;return o.isBuffer(e)||"string"==typeof e||null==e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(e,r);if(s)t.emit("error",s);else if(null==r)e.reading=!1,e.ended||function(t,e){if(e.decoder&&!e.ended){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.length>0?y(t):_(t)}(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!a){var u=new Error("stream.push() after EOF");t.emit("error",u)}else e.endEmitted&&a?(u=new Error("stream.unshift() after end event"),t.emit("error",u)):(!e.decoder||a||i||(r=e.decoder.write(r)),e.length+=e.objectMode?1:r.length,a?e.buffer.unshift(r):(e.reading=!1,e.buffer.push(r)),e.needReadable&&y(t),function(t,e){e.readingMore||(e.readingMore=!0,n.nextTick((function(){!function(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}(t,e)})))}(t,e));else a||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}c.inherits=r(5717),c.inherits(h,u),h.prototype.push=function(t,e){var r=this._readableState;return"string"!=typeof t||r.objectMode||(e=e||r.defaultEncoding)!==r.encoding&&(t=new o(t,e),e=""),f(this,r,t,e,!1)},h.prototype.unshift=function(t){return f(this,this._readableState,t,"",!0)},h.prototype.setEncoding=function(t){s||(s=r(6941).s),this._readableState.decoder=new s(t),this._readableState.encoding=t};var p=8388608;function d(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>=p)t=p;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function y(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,e.sync?n.nextTick((function(){g(t)})):g(t))}function g(t){t.emit("readable")}function v(t){var e,r=t._readableState;function n(t,n,i){!1===t.write(e)&&r.awaitDrain++}for(r.awaitDrain=0;r.pipesCount&&null!==(e=t.read());)if(1===r.pipesCount?n(r.pipes):x(r.pipes,n),t.emit("data",e),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(a.listenerCount(t,"data")>0&&b(t));r.ranOut=!0}function m(){this._readableState.ranOut&&(this._readableState.ranOut=!1,v(this))}function b(t,e){if(t._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=e||!1,i=!1;t.readable=!0,t.pipe=u.prototype.pipe,t.on=t.addListener=u.prototype.on,t.on("readable",(function(){var e;for(i=!0;!r&&null!==(e=t.read());)t.emit("data",e);null===e&&(i=!1,t._readableState.needReadable=!0)})),t.pause=function(){r=!0,this.emit("pause")},t.resume=function(){r=!1,i?n.nextTick((function(){t.emit("readable")})):this.read(0),this.emit("resume")},t.emit("readable")}function w(t,e){var r,n=e.buffer,i=e.length,a=!!e.decoder,s=!!e.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(s)r=n.shift();else if(!t||t>=i)r=a?n.join(""):o.concat(n,i),n.length=0;else if(t<n[0].length)r=(h=n[0]).slice(0,t),n[0]=h.slice(t);else if(t===n[0].length)r=n.shift();else{r=a?"":new o(t);for(var u=0,c=0,l=n.length;c<l&&u<t;c++){var h=n[0],f=Math.min(t-u,h.length);a?r+=h.slice(0,f):h.copy(r,u,0,f),f<h.length?n[0]=h.slice(f):n.shift(),u+=f}}return r}function _(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");!e.endEmitted&&e.calledRead&&(e.ended=!0,n.nextTick((function(){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))})))}function x(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}h.prototype.read=function(t){var e=this._readableState;e.calledRead=!0;var r,n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return y(this),null;if(0===(t=d(t,e))&&e.ended)return r=null,e.length>0&&e.decoder&&(r=w(t,e),e.length-=r.length),0===e.length&&_(this),r;var i=e.needReadable;return e.length-t<=e.highWaterMark&&(i=!0),(e.ended||e.reading)&&(i=!1),i&&(e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),i&&!e.reading&&(t=d(n,e)),null===(r=t>0?w(t,e):null)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),e.ended&&!e.endEmitted&&0===e.length&&_(this),r},h.prototype._read=function(t){this.emit("error",new Error("not implemented"))},h.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1;var s=e&&!1===e.end||t===n.stdout||t===n.stderr?h:c;function u(t){t===r&&h()}function c(){t.end()}o.endEmitted?n.nextTick(s):r.once("end",s),t.on("unpipe",u);var l=function(t){return function(){var e=t._readableState;e.awaitDrain--,0===e.awaitDrain&&v(t)}}(r);function h(){t.removeListener("close",p),t.removeListener("finish",d),t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",h),t._writableState&&!t._writableState.needDrain||l()}function f(e){y(),t.removeListener("error",f),0===a.listenerCount(t,"error")&&t.emit("error",e)}function p(){t.removeListener("finish",d),y()}function d(){t.removeListener("close",p),y()}function y(){r.unpipe(t)}return t.on("drain",l),t._events&&t._events.error?i(t._events.error)?t._events.error.unshift(f):t._events.error=[f,t._events.error]:t.on("error",f),t.once("close",p),t.once("finish",d),t.emit("pipe",r),o.flowing||(this.on("readable",m),o.flowing=!0,n.nextTick((function(){v(r)}))),t},h.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,this.removeListener("readable",m),e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,this.removeListener("readable",m),e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}return-1===(i=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}(e.pipes,t))||(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},h.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"!==t||this._readableState.flowing||b(this),"readable"===t&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&y(this):this.read(0))}return r},h.prototype.addListener=h.prototype.on,h.prototype.resume=function(){b(this),this.read(0),this.emit("resume")},h.prototype.pause=function(){b(this,!0),this.emit("pause")},h.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;for(var i in t.on("end",(function(){if(e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)})),t.on("data",(function(i){e.decoder&&(i=e.decoder.write(i)),e.objectMode&&null==i||(e.objectMode||i&&i.length)&&(n.push(i)||(r=!0,t.pause()))})),t)"function"==typeof t[i]&&void 0===this[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return x(["error","close","destroy","pause","resume"],(function(e){t.on(e,n.emit.bind(n,e))})),n._read=function(e){r&&(r=!1,t.resume())},n},h._fromList=w},4605:(t,e,r)=>{t.exports=a;var n=r(6753),i=r(6497);function o(t,e){this.afterTransform=function(t,r){return function(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&t.push(r),i&&i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function a(t){if(!(this instanceof a))return new a(t);n.call(this,t),this._transformState=new o(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",(function(){"function"==typeof this._flush?this._flush((function(t){s(e,t)})):s(e)}))}function s(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=(t._readableState,t._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}i.inherits=r(5717),i.inherits(a,n),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,r){throw new Error("not implemented")},a.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},4229:(t,e,r)=>{var n=r(4155);t.exports=c;var i=r(8764).Buffer;c.WritableState=u;var o=r(6497);o.inherits=r(5717);var a=r(2830);function s(t,e,r){this.chunk=t,this.encoding=e,this.callback=r}function u(t,e){var r=(t=t||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!t.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===t.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,o=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,o){r?n.nextTick((function(){o(i)})):o(i),t._writableState.errorEmitted=!0,t.emit("error",i)}(t,0,i,e,o);else{var a=f(0,r);a||r.bufferProcessing||!r.buffer.length||function(t,e){e.bufferProcessing=!0;for(var r=0;r<e.buffer.length;r++){var n=e.buffer[r],i=n.chunk,o=n.encoding,a=n.callback;if(l(t,e,e.objectMode?1:i.length,i,o,a),e.writing){r++;break}}e.bufferProcessing=!1,r<e.buffer.length?e.buffer=e.buffer.slice(r):e.buffer.length=0}(t,r),i?n.nextTick((function(){h(t,r,a,o)})):h(t,r,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function c(t){var e=r(6753);if(!(this instanceof c||this instanceof e))return new c(t);this._writableState=new u(t,this),this.writable=!0,a.call(this)}function l(t,e,r,n,i,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,t._write(n,i,e.onwrite),e.sync=!1}function h(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),n(),r&&p(t,e)}function f(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function p(t,e){var r=f(0,e);return r&&(e.finished=!0,t.emit("finish")),r}o.inherits(c,a),c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},c.prototype.write=function(t,e,r){var o=this._writableState,a=!1;return"function"==typeof e&&(r=e,e=null),i.isBuffer(t)?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=function(){}),o.ended?function(t,e,r){var i=new Error("write after end");t.emit("error",i),n.nextTick((function(){r(i)}))}(this,0,r):function(t,e,r,o){var a=!0;if(!i.isBuffer(r)&&"string"!=typeof r&&null!=r&&!e.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");t.emit("error",s),n.nextTick((function(){o(s)})),a=!1}return a}(this,o,t,r)&&(a=function(t,e,r,n,o){r=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=new i(e,r)),e}(e,r,n),i.isBuffer(r)&&(n="buffer");var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;return u||(e.needDrain=!0),e.writing?e.buffer.push(new s(r,n,o)):l(t,e,a,r,n,o),u}(this,o,t,e,r)),a},c.prototype._write=function(t,e,r){r(new Error("not implemented"))},c.prototype.end=function(t,e,r){var i=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),i.ending||i.finished||function(t,e,r){e.ending=!0,p(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0}(this,i,r)}},1451:(t,e,r)=>{var n=r(4155),i=r(2830);(e=t.exports=r(9481)).Stream=i,e.Readable=e,e.Writable=r(4229),e.Duplex=r(6753),e.Transform=r(4605),e.PassThrough=r(2725),n.browser||"disable"!==n.env.READABLE_STREAM||(t.exports=r(2830))},5666:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new O(n||[]);return o._invoke=function(t,e,r){var n=h;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?d:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,a),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",y={};function g(){}function v(){}function m(){}var b={};u(b,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(R([])));_&&_!==r&&n.call(_,o)&&(b=_);var x=m.prototype=g.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=l(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function R(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:I}}function I(){return{value:e,done:!0}}return v.prototype=m,u(x,"constructor",m),u(m,"constructor",v),v.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(A.prototype),u(A.prototype,a,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new A(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),u(x,s,"Generator"),u(x,o,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},9509:(t,e,r)=>{var n=r(8764),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},4147:(t,e,r)=>{var n=r(398),i=r(4454);t.exports={encode:n,decode:i}},4454:(t,e,r)=>{var n=r(8764).Buffer,i=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,r=799,n=3406,i=2276,o=1567,a=3784,s=5793,u=2896;function c(){}function l(t,e){for(var r,n,i=0,o=[],a=16;a>0&&!t[a-1];)a--;o.push({children:[],index:0});var s,u=o[0];for(r=0;r<a;r++){for(n=0;n<t[r];n++){for((u=o.pop()).children[u.index]=e[i];u.index>0;)u=o.pop();for(u.index++,o.push(u);o.length<=r;)o.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s;i++}r+1<a&&(o.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s)}return o[0].children}function h(e,r,n,i,o,a,s,u,c){n.precision,n.samplesPerLine,n.scanLines;var l=n.mcusPerLine,h=n.progressive,f=(n.maxH,n.maxV,r),p=0,d=0;function y(){if(d>0)return d--,p>>d&1;if(255==(p=e[r++])){var t=e[r++];if(t)throw"unexpected marker: "+(p<<8|t).toString(16)}return d=7,p>>>7}function g(t){for(var e,r=t;null!==(e=y());){if("number"==typeof(r=r[e]))return r;if("object"!=typeof r)throw"invalid huffman sequence"}return null}function v(t){for(var e=0;t>0;){var r=y();if(null===r)return;e=e<<1|r,t--}return e}function m(t){var e=v(t);return e>=1<<t-1?e:e+(-1<<t)+1}var b,w=0,_=0;function x(t,e,r,n,i){var o=r%l,a=(r/l|0)*t.v+n,s=o*t.h+i;e(t,t.blocks[a][s])}function E(t,e,r){var n=r/t.blocksPerLine|0,i=r%t.blocksPerLine;e(t,t.blocks[n][i])}var A,S,T,k,O,R,I=i.length;R=h?0===a?0===u?function(t,e){var r=g(t.huffmanTableDC),n=0===r?0:m(r)<<c;e[0]=t.pred+=n}:function(t,e){e[0]|=y()<<c}:0===u?function(e,r){if(w>0)w--;else for(var n=a,i=s;n<=i;){var o=g(e.huffmanTableAC),u=15&o,l=o>>4;if(0!==u)r[t[n+=l]]=m(u)*(1<<c),n++;else{if(l<15){w=v(l)+(1<<l)-1;break}n+=16}}}:function(e,r){for(var n=a,i=s,o=0;n<=i;){var u=t[n];switch(_){case 0:var l=g(e.huffmanTableAC),h=15&l;if(o=l>>4,0===h)o<15?(w=v(o)+(1<<o),_=4):(o=16,_=1);else{if(1!==h)throw"invalid ACn encoding";b=m(h),_=o?2:3}continue;case 1:case 2:r[u]?r[u]+=y()<<c:0==--o&&(_=2==_?3:0);break;case 3:r[u]?r[u]+=y()<<c:(r[u]=b<<c,_=0);break;case 4:r[u]&&(r[u]+=y()<<c)}n++}4===_&&0==--w&&(_=0)}:function(e,r){var n=g(e.huffmanTableDC),i=0===n?0:m(n);r[0]=e.pred+=i;for(var o=1;o<64;){var a=g(e.huffmanTableAC),s=15&a,u=a>>4;if(0!==s)r[t[o+=u]]=m(s),o++;else{if(u<15)break;o+=16}}};var M,N,C,P,D=0;for(N=1==I?i[0].blocksPerLine*i[0].blocksPerColumn:l*n.mcusPerColumn,o||(o=N);D<N;){for(S=0;S<I;S++)i[S].pred=0;if(w=0,1==I)for(A=i[0],O=0;O<o;O++)E(A,R,D),D++;else for(O=0;O<o;O++){for(S=0;S<I;S++)for(C=(A=i[S]).h,P=A.v,T=0;T<P;T++)for(k=0;k<C;k++)x(A,R,D,T,k);if(++D===N)break}if(d=0,(M=e[r]<<8|e[r+1])<65280)throw"marker was not found";if(!(M>=65488&&M<=65495))break;r+=2}return r-f}function f(t,c){var l,h,f=[],p=c.blocksPerLine,d=c.blocksPerColumn,y=p<<3,g=new Int32Array(64),v=new Uint8Array(64);function m(t,l,h){var f,p,d,y,g,v,m,b,w,_,x=c.quantizationTable,E=h;for(_=0;_<64;_++)E[_]=t[_]*x[_];for(_=0;_<8;++_){var A=8*_;0!=E[1+A]||0!=E[2+A]||0!=E[3+A]||0!=E[4+A]||0!=E[5+A]||0!=E[6+A]||0!=E[7+A]?(f=s*E[0+A]+128>>8,p=s*E[4+A]+128>>8,d=E[2+A],y=E[6+A],g=u*(E[1+A]-E[7+A])+128>>8,b=u*(E[1+A]+E[7+A])+128>>8,v=E[3+A]<<4,m=E[5+A]<<4,w=f-p+1>>1,f=f+p+1>>1,p=w,w=d*a+y*o+128>>8,d=d*o-y*a+128>>8,y=w,w=g-m+1>>1,g=g+m+1>>1,m=w,w=b+v+1>>1,v=b-v+1>>1,b=w,w=f-y+1>>1,f=f+y+1>>1,y=w,w=p-d+1>>1,p=p+d+1>>1,d=w,w=g*i+b*n+2048>>12,g=g*n-b*i+2048>>12,b=w,w=v*r+m*e+2048>>12,v=v*e-m*r+2048>>12,m=w,E[0+A]=f+b,E[7+A]=f-b,E[1+A]=p+m,E[6+A]=p-m,E[2+A]=d+v,E[5+A]=d-v,E[3+A]=y+g,E[4+A]=y-g):(w=s*E[0+A]+512>>10,E[0+A]=w,E[1+A]=w,E[2+A]=w,E[3+A]=w,E[4+A]=w,E[5+A]=w,E[6+A]=w,E[7+A]=w)}for(_=0;_<8;++_){var S=_;0!=E[8+S]||0!=E[16+S]||0!=E[24+S]||0!=E[32+S]||0!=E[40+S]||0!=E[48+S]||0!=E[56+S]?(f=s*E[0+S]+2048>>12,p=s*E[32+S]+2048>>12,d=E[16+S],y=E[48+S],g=u*(E[8+S]-E[56+S])+2048>>12,b=u*(E[8+S]+E[56+S])+2048>>12,v=E[24+S],m=E[40+S],w=f-p+1>>1,f=f+p+1>>1,p=w,w=d*a+y*o+2048>>12,d=d*o-y*a+2048>>12,y=w,w=g-m+1>>1,g=g+m+1>>1,m=w,w=b+v+1>>1,v=b-v+1>>1,b=w,w=f-y+1>>1,f=f+y+1>>1,y=w,w=p-d+1>>1,p=p+d+1>>1,d=w,w=g*i+b*n+2048>>12,g=g*n-b*i+2048>>12,b=w,w=v*r+m*e+2048>>12,v=v*e-m*r+2048>>12,m=w,E[0+S]=f+b,E[56+S]=f-b,E[8+S]=p+m,E[48+S]=p-m,E[16+S]=d+v,E[40+S]=d-v,E[24+S]=y+g,E[32+S]=y-g):(w=s*h[_+0]+8192>>14,E[0+S]=w,E[8+S]=w,E[16+S]=w,E[24+S]=w,E[32+S]=w,E[40+S]=w,E[48+S]=w,E[56+S]=w)}for(_=0;_<64;++_){var T=128+(E[_]+8>>4);l[_]=T<0?0:T>255?255:T}}for(var b=0;b<d;b++){var w=b<<3;for(l=0;l<8;l++)f.push(new Uint8Array(y));for(var _=0;_<p;_++){m(c.blocks[b][_],v,g);var x=0,E=_<<3;for(h=0;h<8;h++){var A=f[w+h];for(l=0;l<8;l++)A[E+l]=v[x++]}}}return f}function p(t){return t<0?0:t>255?255:t}return c.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}.bind(this),e.send(null)},parse:function(e){var r=0;function n(){var t=e[r]<<8|e[r+1];return r+=2,t}function i(t){var e,r,n=0,i=0;for(r in t.components)t.components.hasOwnProperty(r)&&(n<(e=t.components[r]).h&&(n=e.h),i<e.v&&(i=e.v));var o=Math.ceil(t.samplesPerLine/8/n),a=Math.ceil(t.scanLines/8/i);for(r in t.components)if(t.components.hasOwnProperty(r)){e=t.components[r];for(var s=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/n),u=Math.ceil(Math.ceil(t.scanLines/8)*e.v/i),c=o*e.h,l=a*e.v,h=[],f=0;f<l;f++){for(var p=[],d=0;d<c;d++)p.push(new Int32Array(64));h.push(p)}e.blocksPerLine=s,e.blocksPerColumn=u,e.blocks=h}t.maxH=n,t.maxV=i,t.mcusPerLine=o,t.mcusPerColumn=a}e.length;var o,a,s,u,c=null,p=null,d=[],y=[],g=[],v=[],m=n();if(65496!=m)throw"SOI not found";for(m=n();65497!=m;){var b;switch(m){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var w=(s=void 0,u=void 0,s=n(),u=e.subarray(r,r+s-2),r+=u.length,u);65504===m&&74===w[0]&&70===w[1]&&73===w[2]&&70===w[3]&&0===w[4]&&(c={version:{major:w[5],minor:w[6]},densityUnits:w[7],xDensity:w[8]<<8|w[9],yDensity:w[10]<<8|w[11],thumbWidth:w[12],thumbHeight:w[13],thumbData:w.subarray(14,14+3*w[12]*w[13])}),65518===m&&65===w[0]&&100===w[1]&&111===w[2]&&98===w[3]&&101===w[4]&&0===w[5]&&(p={version:w[6],flags0:w[7]<<8|w[8],flags1:w[9]<<8|w[10],transformCode:w[11]});break;case 65499:for(var _=n()+r-2;r<_;){var x=e[r++],E=new Int32Array(64);if(x>>4==0)for(b=0;b<64;b++)E[t[b]]=e[r++];else{if(x>>4!=1)throw"DQT: invalid table spec";for(b=0;b<64;b++)E[t[b]]=n()}d[15&x]=E}break;case 65472:case 65473:case 65474:n(),(o={}).extended=65473===m,o.progressive=65474===m,o.precision=e[r++],o.scanLines=n(),o.samplesPerLine=n(),o.components={},o.componentsOrder=[];var A,S=e[r++];for(z=0;z<S;z++){A=e[r];var T=e[r+1]>>4,k=15&e[r+1],O=e[r+2];o.componentsOrder.push(A),o.components[A]={h:T,v:k,quantizationTable:d[O]},r+=3}i(o),y.push(o);break;case 65476:var R=n();for(z=2;z<R;){var I=e[r++],M=new Uint8Array(16),N=0;for(b=0;b<16;b++,r++)N+=M[b]=e[r];var C=new Uint8Array(N);for(b=0;b<N;b++,r++)C[b]=e[r];z+=17+N,(I>>4==0?v:g)[15&I]=l(M,C)}break;case 65501:n(),a=n();break;case 65498:n();var P=e[r++],D=[];for(z=0;z<P;z++){V=o.components[e[r++]];var L=e[r++];V.huffmanTableDC=v[L>>4],V.huffmanTableAC=g[15&L],D.push(V)}var B=e[r++],F=e[r++],j=e[r++],U=h(e,r,o,D,a,B,F,j>>4,15&j);r+=U;break;default:if(255==e[r-3]&&e[r-2]>=192&&e[r-2]<=254){r-=3;break}throw"unknown JPEG marker "+m.toString(16)}m=n()}if(1!=y.length)throw"only single frame JPEGs supported";this.width=o.samplesPerLine,this.height=o.scanLines,this.jfif=c,this.adobe=p,this.components=[];for(var z=0;z<o.componentsOrder.length;z++){var V=o.components[o.componentsOrder[z]];this.components.push({lines:f(0,V),scaleX:V.h/o.maxH,scaleY:V.v/o.maxV})}},getData:function(t,e){var r,n,i,o,a,s,u,c,l,h,f,d,y,g,v,m,b,w,_,x,E,A=this.width/t,S=this.height/e,T=0,k=t*e*this.components.length,O=new Uint8Array(k);switch(this.components.length){case 1:for(r=this.components[0],h=0;h<e;h++)for(a=r.lines[0|h*r.scaleY*S],l=0;l<t;l++)f=a[0|l*r.scaleX*A],O[T++]=f;break;case 2:for(r=this.components[0],n=this.components[1],h=0;h<e;h++)for(a=r.lines[0|h*r.scaleY*S],s=n.lines[0|h*n.scaleY*S],l=0;l<t;l++)f=a[0|l*r.scaleX*A],O[T++]=f,f=s[0|l*n.scaleX*A],O[T++]=f;break;case 3:for(E=!0,this.adobe&&this.adobe.transformCode?E=!0:void 0!==this.colorTransform&&(E=!!this.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],h=0;h<e;h++)for(a=r.lines[0|h*r.scaleY*S],s=n.lines[0|h*n.scaleY*S],u=i.lines[0|h*i.scaleY*S],l=0;l<t;l++)E?(f=a[0|l*r.scaleX*A],d=s[0|l*n.scaleX*A],w=p(f+1.402*((y=u[0|l*i.scaleX*A])-128)),_=p(f-.3441363*(d-128)-.71413636*(y-128)),x=p(f+1.772*(d-128))):(w=a[0|l*r.scaleX*A],_=s[0|l*n.scaleX*A],x=u[0|l*i.scaleX*A]),O[T++]=w,O[T++]=_,O[T++]=x;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";for(E=!1,this.adobe&&this.adobe.transformCode?E=!0:void 0!==this.colorTransform&&(E=!!this.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],o=this.components[3],h=0;h<e;h++)for(a=r.lines[0|h*r.scaleY*S],s=n.lines[0|h*n.scaleY*S],u=i.lines[0|h*i.scaleY*S],c=o.lines[0|h*o.scaleY*S],l=0;l<t;l++)E?(f=a[0|l*r.scaleX*A],d=s[0|l*n.scaleX*A],y=u[0|l*i.scaleX*A],g=c[0|l*o.scaleX*A],v=255-p(f+1.402*(y-128)),m=255-p(f-.3441363*(d-128)-.71413636*(y-128)),b=255-p(f+1.772*(d-128))):(v=a[0|l*r.scaleX*A],m=s[0|l*n.scaleX*A],b=u[0|l*i.scaleX*A],g=c[0|l*o.scaleX*A]),O[T++]=v,O[T++]=m,O[T++]=b,O[T++]=g;break;default:throw"Unsupported color mode"}return O},copyToImageData:function(t){var e,r,n,i,o,a,s,u,c,l=t.width,h=t.height,f=t.data,d=this.getData(l,h),y=0,g=0;switch(this.components.length){case 1:for(r=0;r<h;r++)for(e=0;e<l;e++)n=d[y++],f[g++]=n,f[g++]=n,f[g++]=n,f[g++]=255;break;case 3:for(r=0;r<h;r++)for(e=0;e<l;e++)s=d[y++],u=d[y++],c=d[y++],f[g++]=s,f[g++]=u,f[g++]=c,f[g++]=255;break;case 4:for(r=0;r<h;r++)for(e=0;e<l;e++)o=d[y++],a=d[y++],n=d[y++],s=255-p(o*(1-(i=d[y++])/255)+i),u=255-p(a*(1-i/255)+i),c=255-p(n*(1-i/255)+i),f[g++]=s,f[g++]=u,f[g++]=c,f[g++]=255;break;default:throw"Unsupported color mode"}}},c}();t.exports=function(t){var e=new Uint8Array(t),r=new i;r.parse(e);for(var o=r.getData(r.width,r.height),a=new n(r.width*r.height*4),s=0,u=0;u<a.length;u++)a[u+(u/3|0)]=o[s++],u%4==3&&(a[u]=255);return{data:a,width:r.width,height:r.height}}},398:(t,e,r)=>{var n=r(8764).Buffer;function i(t){Math.round;var e,r,i,o,a,s=Math.floor,u=new Array(64),c=new Array(64),l=new Array(64),h=new Array(64),f=new Array(65535),p=new Array(65535),d=new Array(64),y=new Array(64),g=[],v=0,m=7,b=new Array(64),w=new Array(64),_=new Array(64),x=new Array(256),E=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],N=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function C(t,e){for(var r=0,n=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)i[e[n]]=[],i[e[n]][0]=r,i[e[n]][1]=o,n++,r++;r*=2}return i}function P(t){for(var e=t[0],r=t[1]-1;r>=0;)e&1<<r&&(v|=1<<m),r--,--m<0&&(255==v?(D(255),D(0)):D(v),m=7,v=0)}function D(t){g.push(t)}function L(t){D(t>>8&255),D(255&t)}function B(t,e,r,n,i){for(var o,a=i[0],s=i[240],u=function(t,e){var r,n,i,o,a,s,u,c,l,h,f=0;for(l=0;l<8;++l){r=t[f],n=t[f+1],i=t[f+2],o=t[f+3],a=t[f+4],s=t[f+5],u=t[f+6];var p=r+(c=t[f+7]),y=r-c,g=n+u,v=n-u,m=i+s,b=i-s,w=o+a,_=o-a,x=p+w,E=p-w,A=g+m,S=g-m;t[f]=x+A,t[f+4]=x-A;var T=.707106781*(S+E);t[f+2]=E+T,t[f+6]=E-T;var k=.382683433*((x=_+b)-(S=v+y)),O=.5411961*x+k,R=1.306562965*S+k,I=.707106781*(A=b+v),M=y+I,N=y-I;t[f+5]=N+O,t[f+3]=N-O,t[f+1]=M+R,t[f+7]=M-R,f+=8}for(f=0,l=0;l<8;++l){r=t[f],n=t[f+8],i=t[f+16],o=t[f+24],a=t[f+32],s=t[f+40],u=t[f+48];var C=r+(c=t[f+56]),P=r-c,D=n+u,L=n-u,B=i+s,F=i-s,j=o+a,U=o-a,z=C+j,V=C-j,G=D+B,W=D-B;t[f]=z+G,t[f+32]=z-G;var q=.707106781*(W+V);t[f+16]=V+q,t[f+48]=V-q;var H=.382683433*((z=U+F)-(W=L+P)),X=.5411961*z+H,Z=1.306562965*W+H,Y=.707106781*(G=F+L),K=P+Y,$=P-Y;t[f+40]=$+X,t[f+24]=$-X,t[f+8]=K+Z,t[f+56]=K-Z,f++}for(l=0;l<64;++l)h=t[l]*e[l],d[l]=h>0?h+.5|0:h-.5|0;return d}(t,e),c=0;c<64;++c)y[A[c]]=u[c];var l=y[0]-r;r=y[0],0==l?P(n[0]):(P(n[p[o=32767+l]]),P(f[o]));for(var h=63;h>0&&0==y[h];h--);if(0==h)return P(a),r;for(var g,v=1;v<=h;){for(var m=v;0==y[v]&&v<=h;++v);var b=v-m;if(b>=16){g=b>>4;for(var w=1;w<=g;++w)P(s);b&=15}o=32767+y[v],P(i[(b<<4)+p[o]]),P(f[o]),v++}return 63!=h&&P(a),r}function F(t){t<=0&&(t=1),t>100&&(t=100),a!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=s((e[r]*t+50)/100);n<1?n=1:n>255&&(n=255),u[A[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var a=s((i[o]*t+50)/100);a<1?a=1:a>255&&(a=255),c[A[o]]=a}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,d=0;d<8;d++)for(var y=0;y<8;y++)l[p]=1/(u[A[p]]*f[d]*f[y]*8),h[p]=1/(c[A[p]]*f[d]*f[y]*8),p++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),a=t)}this.encode=function(t,a){(new Date).getTime(),a&&F(a),g=new Array,v=0,m=7,L(65496),L(65504),L(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),L(1),L(1),D(0),D(0),function(){L(65499),L(132),D(0);for(var t=0;t<64;t++)D(u[t]);D(1);for(var e=0;e<64;e++)D(c[e])}(),function(t,e){L(65472),L(17),D(8),L(e),L(t),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1)}(t.width,t.height),function(){L(65476),L(418),D(0);for(var t=0;t<16;t++)D(S[t+1]);for(var e=0;e<=11;e++)D(T[e]);D(16);for(var r=0;r<16;r++)D(k[r+1]);for(var n=0;n<=161;n++)D(O[n]);D(1);for(var i=0;i<16;i++)D(R[i+1]);for(var o=0;o<=11;o++)D(I[o]);D(17);for(var a=0;a<16;a++)D(M[a+1]);for(var s=0;s<=161;s++)D(N[s])}(),L(65498),L(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var s=0,f=0,p=0;v=0,m=7,this.encode.displayName="_encode_";for(var d,y,x,A,C,j,U,z,V,G=t.data,W=t.width,q=t.height,H=4*W,X=0;X<q;){for(d=0;d<H;){for(j=C=H*X+d,U=-1,z=0,V=0;V<64;V++)j=C+(z=V>>3)*H+(U=4*(7&V)),X+z>=q&&(j-=H*(X+1+z-q)),d+U>=H&&(j-=d+U-H+4),y=G[j++],x=G[j++],A=G[j++],b[V]=(E[y]+E[x+256>>0]+E[A+512>>0]>>16)-128,w[V]=(E[y+768>>0]+E[x+1024>>0]+E[A+1280>>0]>>16)-128,_[V]=(E[y+1280>>0]+E[x+1536>>0]+E[A+1792>>0]>>16)-128;s=B(b,l,s,e,i),f=B(w,h,f,r,o),p=B(_,h,p,r,o),d+=32}X+=8}if(m>=0){var Z=[];Z[1]=m+1,Z[0]=(1<<m+1)-1,P(Z)}return L(65497),new n(g)},(new Date).getTime(),t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)x[e]=t(e)}(),e=C(S,T),r=C(R,I),i=C(k,O),o=C(M,N),function(){for(var t=1,e=2,r=1;r<=15;r++){for(var n=t;n<e;n++)p[32767+n]=r,f[32767+n]=[],f[32767+n][1]=r,f[32767+n][0]=n;for(var i=-(e-1);i<=-t;i++)p[32767+i]=r,f[32767+i]=[],f[32767+i][1]=r,f[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)E[t]=19595*t,E[t+256>>0]=38470*t,E[t+512>>0]=7471*t+32768,E[t+768>>0]=-11059*t,E[t+1024>>0]=-21709*t,E[t+1280>>0]=32768*t+8421375,E[t+1536>>0]=-27439*t,E[t+1792>>0]=-5329*t}(),F(t),(new Date).getTime()}t.exports=function(t,e){return void 0===e&&(e=50),{data:new i(e).encode(t,e),width:t.width,height:t.height}}},4673:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(2902),o=r(7041),a=r(4147),s=r(3525).y,u=r(2861),c=r(8897),l=r(6547);function h(t,e,r){if(4===t.shape.length)return h(t.pick(r),e,0);if(3===t.shape.length)if(3===t.shape[2])c.assign(u(e,[t.shape[0],t.shape[1],3],[4,4*t.shape[0],1]),t),c.assigns(u(e,[t.shape[0]*t.shape[1]],[4],3),255);else if(4===t.shape[2])c.assign(u(e,[t.shape[0],t.shape[1],4],[4,4*t.shape[0],1]),t);else{if(1!==t.shape[2])return new Error("Incompatible array shape");c.assign(u(e,[t.shape[0],t.shape[1],3],[4,4*t.shape[0],1]),u(t.data,[t.shape[0],t.shape[1],3],[t.stride[0],t.stride[1],0],t.offset)),c.assigns(u(e,[t.shape[0]*t.shape[1]],[4],3),255)}else{if(2!==t.shape.length)return new Error("Incompatible array shape");c.assign(u(e,[t.shape[0],t.shape[1],3],[4,4*t.shape[0],1]),u(t.data,[t.shape[0],t.shape[1],3],[t.stride[0],t.stride[1],0],t.offset)),c.assigns(u(e,[t.shape[0]*t.shape[1]],[4],3),255)}return e}function f(t){var e=l();return e.emit("error",t),e}t.exports=function(t,e,r){switch(r=r||{},e.toUpperCase()){case"JPG":case".JPG":case"JPEG":case".JPEG":case"JPE":case".JPE":var u=t.shape[0],c=t.shape[1],l={data:y=h(t,y=new n(u*c*4)),width:u,height:c},p=a.encode(l,r.quality);return new i(p.data);case"GIF":case".GIF":var d=4===t.shape.length?t.shape[0]:1,y=(u=4===t.shape.length?t.shape[1]:t.shape[0],c=4===t.shape.length?t.shape[2]:t.shape[1],new n(u*c*4)),g=new o(u,c);g.writeHeader();for(var v=0;v<d;v++)y=h(t,y,v),g.addFrame(y);return g.finish(),g;case"PNG":case".PNG":var m=new s({width:t.shape[0],height:t.shape[1]});return"Error"==typeof(y=h(t,m.data))?f(y):(m.data=y,m.pack());case"CANVAS":var b=document.createElement("canvas"),w=b.getContext("2d");b.width=t.shape[0],b.height=t.shape[1];var _=w.getImageData(0,0,b.width,b.height);return"Error"==typeof(y=h(t,y=_.data))?f(y):(w.putImageData(_,0,0),b);default:return f(new Error("Unsupported file type: "+e))}}},6377:(t,e,r)=>{var n=r(4832),i=r(8652),o=r(801),a=r(2030),s=r(3618),u=r(9049),c=r(1971);c.alea=n,c.xor128=i,c.xorwow=o,c.xorshift7=a,c.xor4096=s,c.tychei=u,t.exports=c},4832:function(t,e,r){var n;!function(t,i,o){function a(t){var e,r=this,n=(e=4022871197,function(t){t=t.toString();for(var r=0;r<t.length;r++){var n=.02519603282416938*(e+=t.charCodeAt(r));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)});r.next=function(){var t=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=t-(r.c=0|t)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(t),r.s0<0&&(r.s0+=1),r.s1-=n(t),r.s1<0&&(r.s1+=1),r.s2-=n(t),r.s2<0&&(r.s2+=1),n=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function u(t,e){var r=new a(t),n=e&&e.state,i=r.next;return i.int32=function(){return 4294967296*r.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.alea=u}(0,t=r.nmd(t),r.amdD)},9049:function(t,e,r){var n;!function(t,i,o){function a(t){var e=this,r="";e.next=function(){var t=e.b,r=e.c,n=e.d,i=e.a;return t=t<<25^t>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^r,e.c=r=r-n|0,e.d=n<<16^r>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):r+=t;for(var n=0;n<r.length+20;n++)e.b^=0|r.charCodeAt(n),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function u(t,e){var r=new a(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.tychei=u}(0,t=r.nmd(t),r.amdD)},8652:function(t,e,r){var n;!function(t,i,o){function a(t){var e=this,r="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function u(t,e){var r=new a(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xor128=u}(0,t=r.nmd(t),r.amdD)},3618:function(t,e,r){var n;!function(t,i,o){function a(t){var e=this;e.next=function(){var t,r,n=e.w,i=e.X,o=e.i;return e.w=n=n+1640531527|0,r=i[o+34&127],t=i[o=o+1&127],r^=r<<13,t^=t<<17,r^=r>>>15,t^=t>>>12,r=i[o]=r^t,e.i=o,r+(n^n>>>16)|0},function(t,e){var r,n,i,o,a,s=[],u=128;for(e===(0|e)?(n=e,e=null):(e+="\0",n=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(n^=e.charCodeAt((o+32)%e.length)),0===o&&(a=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(a=a+1640531527|0,i=0==(r=s[127&o]^=n+a)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)n=s[i+34&127],r=s[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,s[i]=n^r;t.w=a,t.X=s,t.i=i}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function u(t,e){null==t&&(t=+new Date);var r=new a(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&(n.X&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xor4096=u}(0,t=r.nmd(t),r.amdD)},2030:function(t,e,r){var n;!function(t,i,o){function a(t){var e=this;e.next=function(){var t,r,n=e.x,i=e.i;return t=n[i],r=(t^=t>>>7)^t<<24,r^=(t=n[i+1&7])^t>>>10,r^=(t=n[i+3&7])^t>>>3,r^=(t=n[i+4&7])^t<<7,t=n[i+7&7],r^=(t^=t<<13)^t<<9,n[i]=r,e.i=i+1&7,r},function(t,e){var r,n=[];if(e===(0|e))n[0]=e;else for(e=""+e,r=0;r<e.length;++r)n[7&r]=n[7&r]<<15^e.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],t.x=n,t.i=0,r=256;r>0;--r)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function u(t,e){null==t&&(t=+new Date);var r=new a(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&(n.x&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xorshift7=u}(0,t=r.nmd(t),r.amdD)},801:function(t,e,r){var n;!function(t,i,o){function a(t){var e=this,r="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),n==r.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function u(t,e){var r=new a(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xorwow=u}(0,t=r.nmd(t),r.amdD)},1971:(t,e,r)=>{var n;!function(i,o){var a,s=(0,eval)("this"),u=256,c=o.pow(u,6),l=o.pow(2,52),h=2*l,f=255;function p(t,e,r){var n=[],f=v(g((e=1==e?{entropy:!0}:e||{}).entropy?[t,m(i)]:null==t?function(){try{var t;return a&&(t=a.randomBytes)?t=t(u):(t=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(t)),m(t)}catch(t){var e=s.navigator,r=e&&e.plugins;return[+new Date,s,r,s.screen,m(i)]}}():t,3),n),p=new d(n),b=function(){for(var t=p.g(6),e=c,r=0;t<l;)t=(t+r)*u,e*=u,r=p.g(1);for(;t>=h;)t/=2,e/=2,r>>>=1;return(t+r)/e};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,v(m(p.S),i),(e.pass||r||function(t,e,r,n){return n&&(n.S&&y(n,p),t.state=function(){return y(p,{})}),r?(o.random=t,e):t})(b,f,"global"in e?e.global:this==o,e.state)}function d(t){var e,r=t.length,n=this,i=0,o=n.i=n.j=0,a=n.S=[];for(r||(t=[r++]);i<u;)a[i]=i++;for(i=0;i<u;i++)a[i]=a[o=f&o+t[i%r]+(e=a[i])],a[o]=e;(n.g=function(t){for(var e,r=0,i=n.i,o=n.j,a=n.S;t--;)e=a[i=f&i+1],r=r*u+a[f&(a[i]=a[o=f&o+e])+(a[o]=e)];return n.i=i,n.j=o,r})(u)}function y(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function g(t,e){var r,n=[],i=typeof t;if(e&&"object"==i)for(r in t)try{n.push(g(t[r],e-1))}catch(t){}return n.length?n:"string"==i?t:t+"\0"}function v(t,e){for(var r,n=t+"",i=0;i<n.length;)e[f&i]=f&(r^=19*e[f&i])+n.charCodeAt(i++);return m(e)}function m(t){return String.fromCharCode.apply(0,t)}if(o.seedrandom=p,v(o.random(),i),t.exports){t.exports=p;try{a=r(5042)}catch(t){}}else void 0===(n=function(){return p}.call(e,r,e,t))||(t.exports=n)}([],Math)},2830:(t,e,r)=>{t.exports=i;var n=r(7187).EventEmitter;function i(){n.call(this)}r(5717)(i,n),i.Readable=r(6577),i.Writable=r(323),i.Duplex=r(8656),i.Transform=r(4473),i.PassThrough=r(2366),i.finished=r(1086),i.pipeline=r(6472),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===n.listenerCount(this,"error"))throw t}function l(){r.removeListener("data",i),t.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("error",c),t.on("error",c),r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t}},8106:t=>{"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,o,a,s,u;if("string"==typeof e&&(o="not ",e.substr(0,o.length)===o)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))a="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var c=("number"!=typeof u&&(u=0),u+".".length>(s=t).length||-1===s.indexOf(".",u)?"argument":"property");a='The "'.concat(t,'" ').concat(c," ").concat(i," ").concat(n(e,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},8656:(t,e,r)=>{"use strict";var n=r(4155),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var o=r(6577),a=r(323);r(5717)(l,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(t){if(!(this instanceof l))return new l(t);o.call(this,t),a.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},2366:(t,e,r)=>{"use strict";t.exports=i;var n=r(4473);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(5717)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},6577:(t,e,r)=>{"use strict";var n,i=r(4155);t.exports=S,S.ReadableState=A,r(7187).EventEmitter;var o,a=function(t,e){return t.listeners(e).length},s=r(3194),u=r(8764).Buffer,c=r.g.Uint8Array||function(){},l=r(964);o=l&&l.debuglog?l.debuglog("stream"):function(){};var h,f,p,d=r(9686),y=r(1029),g=r(94).getHighWaterMark,v=r(8106).q,m=v.ERR_INVALID_ARG_TYPE,b=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(S,s);var x=y.errorOrDestroy,E=["error","close","destroy","pause","resume"];function A(t,e,i){n=n||r(8656),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=r(4729).s),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function S(t){if(n=n||r(8656),!(this instanceof S))return new S(t);var e=this instanceof n;this._readableState=new A(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function T(t,e,r,n,i){o("readableAddChunk",e);var a,s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(o("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?I(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,M(t)))}}(t,s);else if(i||(a=function(t,e){var r,n;return n=e,u.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],e)),r}(s,e)),a)x(t,a);else if(s.objectMode||e&&e.length>0)if("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),n)s.endEmitted?x(t,new _):k(t,s,e,!0);else if(s.ended)x(t,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?k(t,s,e,!1):N(t,s)):k(t,s,e,!1)}else n||(s.reading=!1,N(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function k(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&I(t)),N(t,e)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),S.prototype.destroy=y.destroy,S.prototype._undestroy=y.undestroy,S.prototype._destroy=function(t,e){e(t)},S.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=u.from(t,e),e=""),r=!0),T(this,t,e,!1,r)},S.prototype.unshift=function(t){return T(this,t,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){h||(h=r(4729).s);var e=new h(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var O=1073741824;function R(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=O?t=O:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function I(t){var e=t._readableState;o("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(o("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(M,t))}function M(t){var e=t._readableState;o("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,B(t)}function N(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(C,t,e))}function C(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(o("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function P(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function D(t){o("readable nexttick read 0"),t.read(0)}function L(t,e){o("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),B(t),e.flowing&&!e.reading&&t.read(0)}function B(t){var e=t._readableState;for(o("flow",e.flowing);e.flowing&&null!==t.read(););}function F(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function j(t){var e=t._readableState;o("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(U,e,t))}function U(t,e){if(o("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function z(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}S.prototype.read=function(t){o("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return o("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):I(this),null;if(0===(t=R(t,e))&&e.ended)return 0===e.length&&j(this),null;var n,i=e.needReadable;return o("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&o("length less than watermark",i=!0),e.ended||e.reading?o("reading or ended",i=!1):i&&(o("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=R(r,e))),null===(n=t>0?F(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&j(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(t){x(this,new w("_read()"))},S.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,e);var s=e&&!1===e.end||t===i.stdout||t===i.stderr?y:u;function u(){o("onend"),t.end()}n.endEmitted?i.nextTick(s):r.once("end",s),t.on("unpipe",(function e(i,a){o("onunpipe"),i===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),t.removeListener("close",p),t.removeListener("finish",d),t.removeListener("drain",c),t.removeListener("error",f),t.removeListener("unpipe",e),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",h),l=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}));var c=function(t){return function(){var e=t._readableState;o("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,B(t))}}(r);t.on("drain",c);var l=!1;function h(e){o("ondata");var i=t.write(e);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==z(n.pipes,t))&&!l&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(e){o("onerror",e),y(),t.removeListener("error",f),0===a(t,"error")&&x(t,e)}function p(){t.removeListener("finish",d),y()}function d(){o("onfinish"),t.removeListener("close",p),y()}function y(){o("unpipe"),r.unpipe(t)}return r.on("data",h),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(r):t._events.error=[r,t._events.error]:t.on(e,r)}(t,"error",f),t.once("close",p),t.once("finish",d),t.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),t},S.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=z(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},S.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?I(this):n.reading||i.nextTick(D,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(t,e){var r=s.prototype.removeListener.call(this,t,e);return"readable"===t&&i.nextTick(P,this),r},S.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||i.nextTick(P,this),e},S.prototype.resume=function(){var t=this._readableState;return t.flowing||(o("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(L,t,e))}(this,t)),t.paused=!1,this},S.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var a=0;a<E.length;a++)t.on(E[a],this.emit.bind(this,E[a]));return this._read=function(e){o("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(828)),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),S._fromList=F,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,e){return void 0===p&&(p=r(1265)),p(S,t,e)})},4473:(t,e,r)=>{"use strict";t.exports=l;var n=r(8106).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(8656);function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,r){f(t,e,r)}))}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new s;if(t._transformState.transforming)throw new a;return t.push(null)}r(5717)(l,u),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},323:(t,e,r)=>{"use strict";var n,i=r(4155);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(undefined),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=S,S.WritableState=A;var a,s={deprecate:r(4927)},u=r(3194),c=r(8764).Buffer,l=r.g.Uint8Array||function(){},h=r(1029),f=r(94).getHighWaterMark,p=r(8106).q,d=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,m=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,_=p.ERR_UNKNOWN_ENCODING,x=h.errorOrDestroy;function E(){}function A(t,e,a){n=n||r(8656),t=t||{},"boolean"!=typeof a&&(a=e instanceof n),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,o){--e.pendingcb,r?(i.nextTick(o,n),i.nextTick(M,t,e),t._writableState.errorEmitted=!0,x(t,n)):(o(n),t._writableState.errorEmitted=!0,x(t,n),M(t,e))}(t,r,n,e,o);else{var a=R(r)||t.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||O(t,r),n?i.nextTick(k,t,r,a,o):k(t,r,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function S(t){var e=this instanceof(n=n||r(8656));if(!e&&!a.call(S,this))return new S(t);this._writableState=new A(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function T(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function k(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),M(t,e)}function O(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,T(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(T(t,e,!1,e.objectMode?1:c.length,c,l,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function R(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final((function(r){e.pendingcb--,r&&x(t,r),e.prefinished=!0,t.emit("prefinish"),M(t,e)}))}function M(t,e){var r=R(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,i.nextTick(I,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(5717)(S,u),A.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(A.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(t){return!!a.call(this,t)||this===S&&t&&t._writableState instanceof A}})):a=function(t){return t instanceof this},S.prototype.pipe=function(){x(this,new v)},S.prototype.write=function(t,e,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=t,c.isBuffer(n)||n instanceof l);return s&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(t,e){var r=new w;x(t,r),i.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var o;return null===r?o=new b:"string"==typeof r||e.objectMode||(o=new d("chunk",["string","Buffer"],r)),!o||(x(t,o),i.nextTick(n,o),!1)}(this,o,t,r))&&(o.pendingcb++,a=function(t,e,r,n,i,o){if(!r){var a=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r)),e}(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else T(t,e,!1,s,n,i,o);return u}(this,o,s,t,e,r)),a},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||O(this,t))},S.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(t,e,r){r(new y("_write()"))},S.prototype._writev=null,S.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,M(t,e),r&&(e.finished?i.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(t,e){e(t)}},828:(t,e,r)=>{"use strict";var n,i=r(4155);function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=r(1086),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function d(t,e){return{value:t,done:e}}function y(t){var e=t[s];if(null!==e){var r=t[p].read();null!==r&&(t[h]=null,t[s]=null,t[u]=null,e(d(r,!1)))}}function g(t){i.nextTick(y,t)}var v=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(n={get stream(){return this[p]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[l])return Promise.resolve(d(void 0,!0));if(this[p].destroyed)return new Promise((function(e,r){i.nextTick((function(){t[c]?r(t[c]):e(d(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[l]?r(d(void 0,!0)):e[f](r,n)}),n)}}(n,this));else{var o=this[p].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[f])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var t=this;return new Promise((function(e,r){t[p].destroy(null,(function(t){t?r(t):e(d(void 0,!0))}))}))})),n),v);t.exports=function(t){var e,r=Object.create(m,(o(e={},p,{value:t,writable:!0}),o(e,s,{value:null,writable:!0}),o(e,u,{value:null,writable:!0}),o(e,c,{value:null,writable:!0}),o(e,l,{value:t._readableState.endEmitted,writable:!0}),o(e,f,{value:function(t,e){var n=r[p].read();n?(r[h]=null,r[s]=null,r[u]=null,t(d(n,!1))):(r[s]=t,r[u]=e)},writable:!0}),e));return r[h]=null,a(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[u];return null!==e&&(r[h]=null,r[s]=null,r[u]=null,e(t)),void(r[c]=t)}var n=r[s];null!==n&&(r[h]=null,r[s]=null,r[u]=null,n(d(void 0,!0))),r[l]=!0})),t.on("readable",g.bind(null,r)),r}},9686:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=r(8764).Buffer,s=r(9862).inspect,u=s&&s.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r;return e=t,r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return a.alloc(0);for(var e,r,n,i=a.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,r=i,n=s,a.prototype.copy.call(e,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=a.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:u,value:function(t,e){return s(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}],r&&o(e.prototype,r),t}()},1029:(t,e,r)=>{"use strict";var n=r(4155);function i(t,e){a(t,e),o(t)}function o(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function a(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,t)):n.nextTick(a,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,t)):n.nextTick(i,r,t):e?(n.nextTick(o,r),e(t)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},1086:(t,e,r)=>{"use strict";var n=r(8106).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,o){if("function"==typeof r)return t(e,null,r);r||(r={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&e.readable,s=r.writable||!1!==r.writable&&e.writable,u=function(){e.writable||l()},c=e._writableState&&e._writableState.finished,l=function(){s=!1,c=!0,a||o.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){a=!1,h=!0,s||o.call(e)},p=function(t){o.call(e,t)},d=function(){var t;return a&&!h?(e._readableState&&e._readableState.ended||(t=new n),o.call(e,t)):s&&!c?(e._writableState&&e._writableState.ended||(t=new n),o.call(e,t)):void 0},y=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",d),e.req?y():e.on("request",y)):s&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",f),e.on("finish",l),!1!==r.error&&e.on("error",p),e.on("close",d),function(){e.removeListener("complete",l),e.removeListener("abort",d),e.removeListener("request",y),e.req&&e.req.removeListener("finish",l),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",p),e.removeListener("close",d)}}},1265:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},6472:(t,e,r)=>{"use strict";var n,i=r(8106).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function u(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var s=!1;t.on("close",(function(){s=!0})),void 0===n&&(n=r(1086)),n(t,{readable:e,writable:i},(function(t){if(t)return o(t);s=!0,o()}));var u=!1;return function(e){if(!s&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new a("pipe"))}}function c(t){t()}function l(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?s:t.pop():s}t.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var a=e.map((function(t,r){var o=r<e.length-1;return u(t,o,r>0,(function(t){n||(n=t),t&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return e.reduce(l)}},94:(t,e,r)=>{"use strict";var n=r(8106).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var o=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},3194:(t,e,r)=>{t.exports=r(7187).EventEmitter},4729:(t,e,r)=>{"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.s=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=a(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},7365:(t,e,r)=>{var n=r(4155),i=r(5845);t.exports=function(t,e){var r;return t?"function"==typeof t&&(e=t,t=this):t=this,r=t.readable?new i((function(e,r){if(!t.readable)return e([]);var n=[];function i(t){n.push(t)}function o(t){t?r(t):e(n),s()}function a(){e(n),s()}function s(){n=null,t.removeListener("data",i),t.removeListener("end",o),t.removeListener("error",o),t.removeListener("close",a)}t.on("data",i),t.on("end",o),t.on("error",o),t.on("close",a)})):i.resolve([]),"function"==typeof e&&r.then((function(t){n.nextTick((function(){e(null,t)}))}),e),r}},5506:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(7365),o=r(5845),a=r(2840);function s(t){return n.isBuffer(t)?t:new n(t)}t.exports=function(t){return t.readable?function(t){var e=i(t);return t.resume&&t.resume(),e.then((function(e){return t._readableState&&t._readableState.objectMode?e:n.concat(e.map(s))}))}(t):t.writable?function(t){return new o((function(e,r){a(t,(function(t){(t?r:e)(t)}))}))}(t):o.resolve()}},6941:(t,e,r)=>{var n=r(8764).Buffer,i=n.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=e.s=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(t){if(t&&!i(t))throw new Error("Unknown encoding: "+t)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=u;break;default:return void(this.write=a)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function a(t){return t.toString(this.encoding)}function s(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function u(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(t=t.slice(r,t.length),!((n=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var n,i=t.length;if(this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),i=(e+=t.toString(this.encoding,0,i)).length-1,(n=e.charCodeAt(i))>=55296&&n<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},o.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(1==e&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e},o.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e}},6547:(t,e,r)=>{var n=r(4155),i=r(2830);function o(t,e,r){t=t||function(t){this.queue(t)},e=e||function(){this.queue(null)};var o=!1,a=!1,s=[],u=!1,c=new i;function l(){for(;s.length&&!c.paused;){var t=s.shift();if(null===t)return c.emit("end");c.emit("data",t)}}function h(){c.writable=!1,e.call(c),!c.readable&&c.autoDestroy&&c.destroy()}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(r&&!1===r.autoDestroy),c.write=function(e){return t.call(this,e),!c.paused},c.queue=c.push=function(t){return u||(null===t&&(u=!0),s.push(t),l()),c},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&n.nextTick((function(){c.destroy()}))})),c.end=function(t){if(!o)return o=!0,arguments.length&&c.write(t),h(),c},c.destroy=function(){if(!a)return a=!0,o=!0,s.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),l(),c.paused||c.emit("drain"),c},c}t.exports=o,o.through=o},8706:t=>{"use strict";t.exports=function(t,e,r){return 0===t.length?t:e?(r||t.sort(e),function(t,e){for(var r=1,n=t.length,i=t[0],o=t[0],a=1;a<n;++a)if(o=i,e(i=t[a],o)){if(a===r){r++;continue}t[r++]=i}return t.length=r,t}(t,e)):(r||t.sort(),function(t){for(var e=1,r=t.length,n=t[0],i=t[0],o=1;o<r;++o,i=n)if(i=n,(n=t[o])!==i){if(o===e){e++;continue}t[e++]=n}return t.length=e,t}(t))}},4927:(t,e,r)=>{function n(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},384:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},5955:(t,e,r)=>{"use strict";var n=r(2584),i=r(8662),o=r(6430),a=r(5692);function s(t){return t.call.bind(t)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=s(Object.prototype.toString),h=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(u)var d=s(BigInt.prototype.valueOf);if(c)var y=s(Symbol.prototype.valueOf);function g(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function v(t){return"[object Map]"===l(t)}function m(t){return"[object Set]"===l(t)}function b(t){return"[object WeakMap]"===l(t)}function w(t){return"[object WeakSet]"===l(t)}function _(t){return"[object ArrayBuffer]"===l(t)}function x(t){return"undefined"!=typeof ArrayBuffer&&(_.working?_(t):t instanceof ArrayBuffer)}function E(t){return"[object DataView]"===l(t)}function A(t){return"undefined"!=typeof DataView&&(E.working?E(t):t instanceof DataView)}e.isArgumentsObject=n,e.isGeneratorFunction=i,e.isTypedArray=a,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):a(t)||A(t)},e.isUint8Array=function(t){return"Uint8Array"===o(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===o(t)},e.isUint16Array=function(t){return"Uint16Array"===o(t)},e.isUint32Array=function(t){return"Uint32Array"===o(t)},e.isInt8Array=function(t){return"Int8Array"===o(t)},e.isInt16Array=function(t){return"Int16Array"===o(t)},e.isInt32Array=function(t){return"Int32Array"===o(t)},e.isFloat32Array=function(t){return"Float32Array"===o(t)},e.isFloat64Array=function(t){return"Float64Array"===o(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===o(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===o(t)},v.working="undefined"!=typeof Map&&v(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(v.working?v(t):t instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(m.working?m(t):t instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(b.working?b(t):t instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),e.isWeakSet=function(t){return w(t)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),e.isArrayBuffer=x,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=A;var S="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function T(t){return"[object SharedArrayBuffer]"===l(t)}function k(t){return void 0!==S&&(void 0===T.working&&(T.working=T(new S)),T.working?T(t):t instanceof S)}function O(t){return g(t,h)}function R(t){return g(t,f)}function I(t){return g(t,p)}function M(t){return u&&g(t,d)}function N(t){return c&&g(t,y)}e.isSharedArrayBuffer=k,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===l(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===l(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===l(t)},e.isGeneratorObject=function(t){return"[object Generator]"===l(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===l(t)},e.isNumberObject=O,e.isStringObject=R,e.isBooleanObject=I,e.isBigIntObject=M,e.isSymbolObject=N,e.isBoxedPrimitive=function(t){return O(t)||R(t)||I(t)||M(t)||N(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(x(t)||k(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},9539:(t,e,r)=>{var n=r(4155),i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},o=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(c(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(t).replace(o,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),s=n[r];r<i;s=n[++r])v(s)||!x(s)?a+=" "+s:a+=" "+c(s);return a},e.deprecate=function(t,r){if(void 0!==n&&!0===n.noDeprecation)return t;if(void 0===n)return function(){return e.deprecate(t,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),i=!0}return t.apply(this,arguments)}};var a={},s=/^$/;if(n.env.NODE_DEBUG){var u=n.env.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+u+"$","i")}function c(t,r){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&e._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),f(n,t,n.depth)}function l(t,e){var r=c.styles[e];return r?"["+c.colors[r][0]+"m"+t+"["+c.colors[r][1]+"m":t}function h(t,e){return t}function f(t,r,n){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return b(i)||(i=f(t,i,n)),i}var o=function(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return m(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}(t,r);if(o)return o;var a=Object.keys(r),s=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),A(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(r);if(0===a.length){if(S(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(_(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return t.stylize(Date.prototype.toString.call(r),"date");if(A(r))return p(r)}var c,l="",h=!1,x=["{","}"];return y(r)&&(h=!0,x=["[","]"]),S(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),_(r)&&(l=" "+RegExp.prototype.toString.call(r)),E(r)&&(l=" "+Date.prototype.toUTCString.call(r)),A(r)&&(l=" "+p(r)),0!==a.length||h&&0!=r.length?n<0?_(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=h?function(t,e,r,n,i){for(var o=[],a=0,s=e.length;a<s;++a)I(e,String(a))?o.push(d(t,e,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(t,e,r,n,i,!0))})),o}(t,r,n,s,a):a.map((function(e){return d(t,r,n,s,e,h)})),t.seen.pop(),function(t,e,r){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(c,l,x)):x[0]+l+x[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),I(n,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=v(r)?f(t,u.value,null):f(t,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function y(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return void 0===t}function _(t){return x(t)&&"[object RegExp]"===T(t)}function x(t){return"object"==typeof t&&null!==t}function E(t){return x(t)&&"[object Date]"===T(t)}function A(t){return x(t)&&("[object Error]"===T(t)||t instanceof Error)}function S(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!a[t])if(s.test(t)){var r=n.pid;a[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else a[t]=function(){};return a[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=r(5955),e.isArray=y,e.isBoolean=g,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=b,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=w,e.isRegExp=_,e.types.isRegExp=_,e.isObject=x,e.isDate=E,e.types.isDate=E,e.isError=A,e.types.isNativeError=A,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(384);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",R(),e.format.apply(e,arguments))},e.inherits=r(5717),e._extend=function(t,e){if(!e||!x(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var M="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function N(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(M&&t[M]){var e;if("function"!=typeof(e=t[M]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,M,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),M&&Object.defineProperty(e,M,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=M,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var i=e.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,e).then((function(t){n.nextTick(a.bind(null,null,t))}),(function(t){n.nextTick(N.bind(null,t,a))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,i(t)),e}},6430:(t,e,r)=>{"use strict";var n=r(9804),i=r(3083),o=r(1924),a=o("Object.prototype.toString"),s=r(6410)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("String.prototype.slice"),h={},f=r(882),p=Object.getPrototypeOf;s&&f&&p&&n(c,(function(t){if("function"==typeof u[t]){var e=new u[t];if(Symbol.toStringTag in e){var r=p(e),n=f(r,Symbol.toStringTag);if(!n){var i=p(r);n=f(i,Symbol.toStringTag)}h[t]=n.get}}}));var d=r(5692);t.exports=function(t){return!!d(t)&&(s&&Symbol.toStringTag in t?function(t){var e=!1;return n(h,(function(r,n){if(!e)try{var i=r.call(t);i===n&&(e=i)}catch(t){}})),e}(t):l(a(t),8,-1))}},2479:t=>{t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){n[t]=e[t]})),n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(t){n[t]=i[t]})),n}}},6247:()=>{},5042:()=>{},9862:()=>{},964:()=>{},3083:(t,e,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;t.exports=function(){for(var t=[],e=0;e<n.length;e++)"function"==typeof i[n[e]]&&(t[t.length]=n[e]);return t}},882:(t,e,r)=>{"use strict";var n=r(210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}t.exports=n}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.amdD=function(){throw new Error("define cannot be used indirect")},r.amdO={},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};return(()=>{"use strict";function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t){if(Array.isArray(t))return t}function i(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){u(o,n,i,a,s,"next",t)}function s(t){u(o,n,i,a,s,"throw",t)}a(void 0)}))}}r.d(n,{default:()=>V});var l=r(7757),h=r.n(l),f=r(7708),p=r(747),d=r.n(p);function y(t){return function(t){if(Array.isArray(t))return o(t)}(t)||i(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=r(2025),v=r(2165),m=r.n(v),b=r(5506),w=r.n(b),_=r(4673),x=r.n(_),E=r(2861),A=r.n(E),S=function(t){return g.Ru.new(t)};function T(t){var r,n,i=window.WebGLRenderingContext?new g.vw:new g.nA,o=(r=t.shape,n=3,e(r)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(r,n)||a(r,n)||s()),u=o[0],c=o[1],l=o[2],h=i.transpose(g._6.new([c,u,l],t.data),[1,0,2]).reshape(t.shape),f=i.multiply(i.slice3D(h,[0,0,0],[u,c,1]),S(.299)),p=i.multiply(i.slice3D(h,[0,0,1],[u,c,1]),S(.587)),d=i.multiply(i.slice3D(h,[0,0,2],[u,c,1]),S(.114));return i.add(f,i.add(p,d)).data()}function k(t){var e=function(t){return Math.max(2*Math.round(3*t)+1,3)}(t);return g.TP.new([e,e,1,1],m()(e,t))}function O(t,e,r){return t.conv2d(e,r,null,1,"same")}function R(t,e,r){var n=e.sigmaOne,i=e.sigmaTwo,o=e.threshold,a=e.gpuAccelerated?new g.vw:new g.nA;return new Promise((function(e,s){var u=g._6.new([].concat(y(r),[1]),t),c=[k(n),k(i)],l=c[1],h=[O(a,u,c[0]),O(a,u,l)],f=h[0],p=h[1],d=a.subtract(f,p),v=a.subtract(d,a.min(d)),m=a.divide(v,a.max(v));a.multiply(a.step(a.subtract(m,S(o))),S(255)).data().then((function(t){var n=A()(t,r);w()(x()(n,"png")).then((function(t){var r="data:image/png;base64,"+t.toString("base64");e(r)}))}))}))}function I(t,e,r){var n=e.sigmaOne,i=e.sigmaTwo,o=e.sharpen,a=e.epsilon,s=e.phi,u=e.gpuAccelerated?new g.vw:new g.nA;return new Promise((function(e,c){var l=g._6.new([].concat(y(r),[1]),t),h=u.divide(l,S(255)),f=[k(n),k(i)],p=f[1],d=[O(u,h,f[0]),O(u,h,p)],v=d[0],m=d[1],b=u.subtract(u.multiply(S(o+1),v),u.multiply(S(o),m)),_=u.multiply(u.multiply(h,b),S(255)),E=u.step(u.subtract(u.multiply(h,b),S(a))),T=u.add(u.multiply(E,S(-1)),S(1)),R=u.add(S(1),function(t,e,r,n){return t.tanh(t.multiply(S(r),t.subtract(e,S(n))))}(u,_,s,a)),I=u.multiply(u.add(E,u.multiply(T,R)),S(255));u.multiply(u.divide(I,u.max(I)),S(255)).data().then((function(t){var n=A()(t,r);w()(x()(n,"png")).then((function(t){var r="data:image/png;base64,"+t.toString("base64");e(r)}))}))}))}var M=r(9539);function N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?N(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={XDoG:!0,epsilon:20,gpuAccelerated:!0,phi:.1,sharpen:35,sigmaOne:1,sigmaTwo:1.8,threshold:.4},D={pixels:null,url:null,width:null,height:null,originalWidth:null,originalHeight:null,sketched:!1,rerendering:!1,options:null,filename:null,loading:!1};function L(t){return!(!(0,M.isString)(t)||-1==t.indexOf("data:")||-1==t.indexOf("base64"))}function B(t){return F.apply(this,arguments)}function F(){return(F=c(h().mark((function t(e){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!L(e)){t.next=2;break}return t.abrupt("return",e);case 2:return t.next=4,(0,f.readAsDataURL)(e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j=function(t){var r=t.name;return new Promise(function(){var n=c(h().mark((function n(o,u){var c;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(t);case 2:c=n.sent,d()(c,(function(t,n){var u,l=e(u=n.shape)||i(u)||a(u)||s(),h=l[0],f=l[1],p=(l.slice(2),h),d=f,y=Math.min(470/p,600/d);y<1&&(p=h*y,d=f*y),D=C(C({},D),{},{url:c,width:p,height:d,originalHeight:f,originalWidth:h,filename:r}),T(n).then((function(t){D=C(C({},D),{},{pixels:t,rerendering:!1,sketched:!1,loading:!1}),o()}))}));case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}())},U=function(){var t=c(h().mark((function t(e){var r,n,i,o,a,s,u;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in e)["gpuAccelerated","XDoG"].includes(r)||(e[r]=parseFloat(e[r]));return i=(n=D).pixels,o=n.originalWidth,a=n.originalHeight,s=e.XDoG?I:R,t.next=5,s(i,e,[o,a]);case 5:return u=t.sent,t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=c(h().mark((function t(e){var r,n=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:P,t.next=3,j(e);case 3:return t.next=5,U(r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const V=z})(),n.default})()}));